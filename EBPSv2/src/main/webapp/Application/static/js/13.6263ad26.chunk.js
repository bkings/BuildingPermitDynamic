(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{586:function(e,t,a){"use strict";var n=a(25),i=a(26),r=a(39),c=a(38),l=a(0),o=a(42),s=a(573),d=a(210),u=a(208),p=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).tableRef=l.createRef(),i.renderButton=function(e,t){o.render(l.createElement(u.a,{title:i.props.buttonProps.title,onClick:function(){return i.props.handleButtonClick(e)},size:"tiny",className:i.props.buttonProps.class},l.createElement("i",{"aria-hidden":"true",className:i.props.buttonProps.icon})),t)},i.actionColumns=[{text:"Actions",cellsalign:"center",align:"center",createwidget:function(e,t,a,n){i.renderButton(e.boundindex,n)},initwidget:function(e,t,a,n){i.renderButton(e,n)},width:i.props.actionWidth,pinned:"true"}].concat(i.props.columns),i.state={id:"",pageable:!0,groupable:!0,showfilterrow:!0},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.datafield,n=e.needsAction,i=void 0===n||n;return t?l.createElement(l.Fragment,null,l.createElement("div",{className:"mapRegistration-dataTableList"},l.createElement(s.a,{localdata:t,datafield:a,columns:i?this.actionColumns:this.props.columns,groups:!1,rowsheight:50,pageable:this.state.pageable,showfilterrow:this.state.showfilterrow,onRowselect:!1}))):l.createElement(d.b,{errors:this.props.errors,loading:this.props.loading})}}]),a}(l.PureComponent);t.a=p},595:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return c});var n=a(577),i={modal:{title:"\u092b\u093e\u0908\u0932 \u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938",content:"\u0915\u0947 \u0924\u092a\u093e\u0908\u0902 \u092f\u0938 \u092b\u093e\u0908\u0932\u0932\u093e\u0908 \u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928 \u091a\u093e\u0939\u093e\u0928\u0941\u0939\u0941\u0928\u094d\u091b?",saveText:"\u091a\u093e\u0939\u0928\u094d\u091b\u0941",confirmChange:"\u092b\u093e\u0908\u0932 \u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938",historyNoData:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0915\u094b \u0932\u093e\u0917\u093f \u0905\u091d\u0948 \u0915\u0941\u0928\u0948 \u092b\u093e\u0908\u0932 \u092a\u0920\u093e\u0907\u090f\u0915\u094b \u091b\u0948\u0928\u0964",cancelText:"\u092b\u093e\u0908\u0932\u0932\u093e\u0908 \u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928 \u091a\u093e\u0939\u0928\u094d\u0928\u094d"},tab:{historyHeading:" \u0930\u0926\u094d\u0926 \u0917\u0930\u093f\u090f\u0915\u094b History",setupHeading:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0915\u094b \u0938\u0947\u091f\u092a"},heading:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0915\u094b \u0938\u0947\u091f\u092a",date:"\u092e\u093f\u0924\u093f: ",reason:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0947 \u0915\u093e\u0930\u0923: ",reasonFile:"\u0930\u0926\u094d\u0926 \u092a\u094d\u0930\u0915\u094d\u0930\u093f\u092f\u093e \u0938\u092e\u094d\u092c\u0928\u094d\u0927\u093f\u0924 \u092b\u093e\u0907\u0932:"},r=[{text:"\u0936\u093e\u0916\u093e \u0926\u0930\u094d\u0924\u093e \u0928\u0902.",dataField:"applicationNo",cellsalign:"center",align:"center",width:n.a.APPLICATION_NO,pinned:"true"},{text:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0928\u093e\u092e",dataField:"applicantName",cellsalign:"center",align:"center",pinned:"true"},{text:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0920\u0947\u0917\u093e\u0928\u093e",dataField:"applicantAddress",cellsalign:"center",align:"center"},{text:"\u092d\u0935\u0928\u0915\u094b \u0915\u093f\u0938\u093f\u092e",dataField:"constructionType",cellsalign:"center",align:"center",width:n.a.CONSTRUCTION_TYPE,pinned:"true",filtertype:"list"},{text:"\u0928\u093f\u0935\u0947\u0926\u0915\u0915\u094b \u0928\u093e\u092e ",dataField:"nibedakName",cellsalign:"center",align:"center"},{text:"\u0930\u0926\u094d\u0926 \u0917\u0930\u093f\u090f\u0915\u094b \u0915\u093e\u0930\u0923",dataField:"discardReason",cellsalign:"center",align:"center"},{text:"\u0930\u0926\u094d\u0926 \u0917\u0930\u093f\u090f\u0915\u094b \u092e\u093f\u0924\u0940",dataField:"discardDate",cellsalign:"center",align:"center"},{text:"\u0926\u0930\u094d\u0924\u093e \u092e\u093f\u0924\u093f",dataField:"applicantDate",cellsalign:"center",align:"center",width:"100"}],c=[{name:"applicationNo",type:"string"},{name:"applicantName",type:"string"},{name:"applicantAddress",type:"string"},{name:"constructionType",type:"string"},{name:"nibedakName",type:"string"},{name:"discardReason",type:"string"},{name:"discardDate",type:"string"},{name:"applicantDate",type:"string"}]},704:function(e,t,a){"use strict";var n=a(219),i=a.n(n),r=a(24),c=a.n(r),l=a(20),o=a.n(l),s=a(21),d=a.n(s),u=a(22),p=a.n(u),m=a(19),b=a.n(m),h=a(4),g=a.n(h),f=a(23),v=a.n(f),y=a(1),E=a.n(y),N=a(43),O=a.n(N),j=a(37),w=a.n(j),k=a(10),x=a.n(k),C=(a(2),a(0)),S=a.n(C),F=a(71),T=a(81),I=a(200),P=a(198),A=a(225),D=a(41),L=a(3),R=a.n(L),V=a(5),W=a.n(V),G=a(15),B=a(6),H=a(107),K=a(535);function U(e){var t=e.active,a=e.children,n=e.className,i=e.content,r=e.loading,c=W()(Object(G.a)(t,"active"),Object(G.a)(r,"loading"),"tab",n),l=Object(F.a)(U,e),o=Object(T.a)(U,e),s={};return o===K.a&&(s.attached="bottom"),S.a.createElement(o,R()({},s,l,{className:c}),B.a.isNil(a)?i:a)}U.handledProps=["active","as","children","className","content","loading"],U.defaultProps={as:K.a,active:!0},U.propTypes={},U.create=Object(H.g)(U,function(e){return{content:e}});var Y=U,M=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=p()(this,(e=b()(t)).call.apply(e,[this].concat(i))),E()(g()(a),"handleItemClick",function(e,t){var n=t.index;x()(a.props,"onTabChange",e,c()({},a.props,{activeIndex:n})),a.trySetState({activeIndex:n})}),a}return v()(t,e),d()(t,[{key:"getInitialAutoControlledState",value:function(){return{activeIndex:0}}},{key:"renderItems",value:function(){var e=this.props,t=e.panes,a=e.renderActiveOnly,n=this.state.activeIndex;return a?x()(w()(t,"[".concat(n,"]")),"render",this.props):O()(t,function(e,t){var a=e.pane;return Y.create(a,{overrideProps:{active:t===n}})})}},{key:"renderMenu",value:function(){var e=this.props,t=e.menu,a=e.panes,n=e.menuPosition,i=this.state.activeIndex;return!0===t.tabular&&"right"===n&&(t.tabular="right"),D.a.create(t,{autoGenerateKey:!1,overrideProps:{items:O()(a,"menuItem"),onItemClick:this.handleItemClick,activeIndex:i}})}},{key:"renderVertical",value:function(e){var t=this.props,a=t.grid,n=t.menuPosition,r=a.paneWidth,c=a.tabWidth,l=i()(a,["paneWidth","tabWidth"]),o=n||"right"===e.props.tabular&&"right"||"left";return S.a.createElement(P.a,l,"left"===o&&A.a.create({width:c,children:e},{autoGenerateKey:!1}),A.a.create({width:r,children:this.renderItems(),stretched:!0},{autoGenerateKey:!1}),"right"===o&&A.a.create({width:c,children:e},{autoGenerateKey:!1}))}},{key:"render",value:function(){var e=this.renderMenu(),a=Object(F.a)(t,this.props),n=Object(T.a)(t,this.props);return e.props.vertical?S.a.createElement(n,a,this.renderVertical(e)):S.a.createElement(n,a,"bottom"!==e.props.attached&&e,this.renderItems(),"bottom"===e.props.attached&&e)}}]),t}(I.a);E()(M,"autoControlledProps",["activeIndex"]),E()(M,"defaultProps",{grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0},renderActiveOnly:!0}),E()(M,"Pane",Y),E()(M,"handledProps",["activeIndex","as","defaultActiveIndex","grid","menu","menuPosition","onTabChange","panes","renderActiveOnly"]),M.propTypes={};t.a=M},844:function(e,t,a){"use strict";a.r(t),a.d(t,"DiscardSetup",function(){return Y}),a.d(t,"default",function(){return Y});var n=a(7),i=a(73),r=a(0),c=a.n(r),l=a(556),o=a(109),s=a(576),d=a(579),u=a(13),p=a(704),m=a(550),b=a(208),h=a(829),g=a(198),f=a(321),v=a(122),y=a(598),E=a(601),N=a(595),O=a(123),j=a(554),w=a(555),k=a(93),x=a(557),C=a(211),S=a(40),F=a(569),T=a(563),I=a(585),P=a(553),A=a(49),D=a(209),L=a.n(D),R=a(586),V=O.object().shape({file:P.d,date:P.e}),W=O.object().shape({applicationNo:P.k}),G=y.b,B=N.a.modal,H={nibedakName:"",constructionType:"",year:"",kittaNo:"",wardNo:"",applicationNo:""},K={date:Object(A.c)()},U=function(e){var t=e.getAfterUpdateAdminData,a=e.patchAdminDataByUrl,l=e.errors,O=e.success,P=e.loading,A=e.adminData,D=Object(r.useState)({}),U=Object(i.a)(D,2),Y=U[0],M=U[1],J=Object(r.useState)([]),Z=Object(i.a)(J,2),_=Z[0],q=Z[1],z=Object(r.useState)(!1),Q=Object(i.a)(z,2),X=Q[0],$=Q[1],ee=Object(r.useState)([]),te=Object(i.a)(ee,2)[1],ae=Object(r.useState)(!1),ne=Object(i.a)(ae,2),ie=ne[0],re=ne[1],ce=Object(r.useState)(!1),le=Object(i.a)(ce,1)[0],oe=Object(s.b)(A.fiscalYear,"yearCode",!0),se=oe.fy,de=oe.fyOption;Object(d.a)(le,[2,3,4]),Object(r.useEffect)(function(){O&&O.success&&(Object(u.x)("Discarded successfully"),$(!1),re(!1),M({}))},[O]),Object(r.useEffect)(function(){A.applicationList&&q(A.applicationList)},[A.applicationList]),Object(r.useEffect)(function(){A.historyList&&te(A.historyList.map(function(e){return Object(n.a)(Object(n.a)({},e),{},{constructionType:Object(S.f)(e.constructionType)})}))},[A.historyList]);var ue=function(e){var t=_[e];pe(t)},pe=function(e){M(e),$(!0)},me=function(){$(!1),re(!0)},be=function(){M({}),re(!1),$(!1)},he=[{menuItem:N.a.tab.setupHeading,render:function(){return c.a.createElement(p.a.Pane,{className:"simple-tab-pane"},c.a.createElement(L.a,{title:N.a.heading}),c.a.createElement(v.c,{key:"get-app-info",initialValues:Object(n.a)(Object(n.a)({},H),{},{year:se}),validationSchema:W,onSubmit:function(e,a){a.setSubmitting(!0);try{q([]),t([{api:"".concat(o.a.applicationFilter,"?applicationNo=").concat(e.applicationNo,"&nibedakName=").concat(e.nibedakName,"&constructionType=").concat(e.constructionType,"&year=").concat(e.year,"&kittaNo=").concat(e.kittaNo,"&wardNo=").concat(e.wardNo),objName:"applicationList"}]),a.setSubmitting(!1)}catch(n){a.setSubmitting(!1),console.log("err",n)}}},function(e){var t=e.handleSubmit,a=e.errors,n=e.isSubmitting,i=e.values,r=e.setFieldValue,l=e.handleChange;return c.a.createElement(m.a,{loading:n||P},c.a.createElement(m.a.Group,{widths:"4"},c.a.createElement(m.a.Field,null,c.a.createElement(j.c,{name:"applicationNo",label:G.applicationId,onChange:l,error:a.applicationNo,value:i.applicationNo})),c.a.createElement(m.a.Field,null,c.a.createElement(j.h,{name:"nibedakName",label:G.nibedakName,setFieldValue:r,errors:a.nibedakName,value:i.nibedakName})),c.a.createElement(m.a.Field,null,c.a.createElement(w.d,{needsZIndex:!0,name:"constructionType",label:G.constructionType,options:k.i})),c.a.createElement(m.a.Field,null,c.a.createElement(w.d,{needsZIndex:!0,name:"year",label:G.year,options:de}))),c.a.createElement(m.a.Group,{widths:"4"},c.a.createElement(m.a.Field,null,c.a.createElement(j.h,{name:"kittaNo",label:G.kittaNo,setFieldValue:r,errors:a.kittaNo,value:i.kittaNo})),c.a.createElement(m.a.Field,null,c.a.createElement(j.h,{name:"wardNo",label:G.wardNo,setFieldValue:r,errors:a.wardNo,value:i.wardNo}))),c.a.createElement(m.a.Group,{widths:"equal"},c.a.createElement(m.a.Field,null,c.a.createElement(b.a,{type:"button",className:"primary-btn",icon:"search",content:y.c.searchApp,onClick:t}))))}),c.a.createElement("h4",null,y.c.searchResults),c.a.createElement(R.a,{data:_,columns:E.d,datafield:E.f,buttonProps:{class:"danger-table-single-btn icon",icon:"times rectangle icon",title:B.title},handleButtonClick:ue,actionWidth:100}),c.a.createElement("br",null),!Object(u.s)(Y)&&c.a.createElement("div",null,c.a.createElement(h.a,null),c.a.createElement(v.c,{initialValues:K,key:"assign-designer",validationSchema:V,onSubmit:function(e,t){t.setSubmitting(!0);try{var n=new FormData,i=e.file;i&&i.forEach(function(e){return n.append("file",e)}),n.append("reason",e.reason),n.append("date",e.date),a("".concat(o.a.buildPermit,"/").concat(Y.applicantNo),n),t.setSubmitting(!1)}catch(r){t.setSubmitting(!1),console.log("err",r)}}},function(e){var t=e.handleSubmit,a=e.isSubmitting,n=e.errors,i=e.validateForm,r=e.handleChange,o=e.values,s=e.setFieldValue;return c.a.createElement(m.a,null,c.a.createElement(x.b,{key:"open-confirmation",open:X,errors:l,isSubmitting:a||P,handleSubmit:me,handleClose:be,title:B.title,saveText:B.saveText,cancelText:B.cancelText},B.content),c.a.createElement(x.b,{open:ie,errors:l,isSubmitting:a||P,handleSubmit:function(){i().then(function(e){Object(u.s)(e)&&t()})},handleClose:be,title:B.title,saveText:B.confirmChange,cancelText:B.cancelText},c.a.createElement(m.a,{loading:a||P},c.a.createElement(g.a,null,c.a.createElement(g.a.Row,{columns:"2"},c.a.createElement(g.a.Column,null,N.a.reasonFile,c.a.createElement(F.a,{name:"file",fileCatId:"fileUpload",hasMultipleFiles:!0})),c.a.createElement(T.a,{label:N.a.date,name:"date",handleChange:r,value:o.date,error:n.date,inline:!0})),c.a.createElement(g.a.Row,null,c.a.createElement(g.a.Column,null,c.a.createElement(I.a,{labelName:N.a.reason,placeholder:".....",name:"reason",setFieldValue:s,value:o.reason,error:n.reason})))))))})))}}];return c.a.createElement("div",{className:"setup-main"},l&&c.a.createElement(C.b,{message:l.message}),c.a.createElement(f.a,null,N.a.heading),c.a.createElement(p.a,{menu:{secondary:!0,pointing:!0},panes:he}))},Y=function(e){return c.a.createElement(l.a,{api:[{api:o.a.fiscalYear,objName:"fiscalYear"},{api:"".concat(o.a.discardHistory,"?year=2076"),objName:"historyList"}],updateApi:[{api:"".concat(o.a.discardHistory,"?year=2076"),objName:"historyList"}],render:function(t){return c.a.createElement(U,Object.assign({},t,{parentProps:e}))}})}}}]);
//# sourceMappingURL=13.6263ad26.chunk.js.map