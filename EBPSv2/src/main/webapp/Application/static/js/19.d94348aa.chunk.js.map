{"version":3,"sources":["components/Report.tsx"],"names":["report_lang","Reportlang","report_data","Report","props","_this","Object","E_Phoenix_ebpsfdf_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_super","call","myGrid","React","updatePermits","fiscalCode","wardNo","constructionType","getReportPermits","setPrintContent","value","setPrint","datafield","name","type","column","text","dataField","cellsalign","align","width","onRowClick","e","id","args","row","boundindex","label","history","push","pathname","concat","state","isStringEmpty","organization","fiscalYearOptions","reportPermits","wardOptions","isDesigner","fetchLocalDataAndReports","LocalAPIArray","LocalAPI","FISCAL_YEAR_ALL","USER_INFO","WARD_MASTER","prevProps","fiscalYears","Array","isArray","map","year","Number","yearCode","String","yearName","setState","wardMaster","ward","allWards","userData","formatReport","_this2","_this$props","loading","errors","_this$state","react__WEBPACK_IMPORTED_MODULE_4__","react_helmet__WEBPACK_IMPORTED_MODULE_24___default","a","title","formik__WEBPACK_IMPORTED_MODULE_18__","initialValues","fiscalyear","onSubmit","enableReinitialize","render","_shared_ErrorDisplay__WEBPACK_IMPORTED_MODULE_19__","message","semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__","centered","Row","Column","computer","mobile","tablet","textAlign","ref","r","RPrint","semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__","style","Content","infobarName","className","semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__","Field","fiscalYear","semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__","placeholder","options","onChange","_ref","setFieldValue","values","_ref2","consTypeWithDefaultSelectOptions","_ref3","_shared_FallbackComponent__WEBPACK_IMPORTED_MODULE_15__","jqwidgets_scripts_jqwidgets_react_tsx_jqxgrid__WEBPACK_IMPORTED_MODULE_13__","groupable","source","jqx","dataAdapter","datafields","datatype","localdata","columns","autoheight","sortable","columnsresize","rowsheight","filterable","onRowselect","_shared_Printthis__WEBPACK_IMPORTED_MODULE_10__","ui","semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__","color","content","onBeforeGetContent","cloneNode","brack","makeprintformat","onBeforePrint","mapDispatchToProps","getLocalDataByKey","res","withRouter","connect","root","dashboard"],"mappings":"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","file":"static/js/19.d94348aa.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { Header, Button, Grid, Select, Form, Label } from 'semantic-ui-react';\r\nimport Printthis from './shared/Printthis';\r\nimport { getReportPermits, fetchLocalDataAndReports } from './../store/actions/ReportActions';\r\nimport { getLocalDataByKey } from './../store/actions/dashboardActions';\r\nimport JqxGrid, { IGridProps, jqx } from 'jqwidgets-scripts/jqwidgets-react-tsx/jqxgrid';\r\nimport { connect } from 'react-redux';\r\nimport FallbackComponent from './shared/FallbackComponent';\r\nimport { FISCAL_YEAR_ALL, USER_INFO, WARD_MASTER } from '../utils/constants';\r\nimport { Reportlang } from '../utils/data/ReportLang';\r\n// import { getFiscalYears } from \"./../store/actions/AdminAction\";\r\nimport { Formik } from 'formik';\r\nimport ErrorDisplay from './shared/ErrorDisplay';\r\nimport { withRouter } from 'react-router';\r\nimport { makeprintformat, brack, isDesigner } from './../utils/functionUtils';\r\nimport { setPrint } from '../store/actions/general';\r\nimport { FiscalYear, ReportObject, WardMaster } from '../interfaces/DashboardInterfaces';\r\nimport { UIState } from '../interfaces/ReduxInterfaces';\r\nimport { LocalAPIArray, LocalAPI } from '../utils/urlUtils';\r\nimport { FiscalYearOption, OptionType } from '../interfaces/OptionInterfaces';\r\nimport Helmet from 'react-helmet';\r\nimport { formatReport } from '../utils/reportUtils';\r\nimport { isStringEmpty } from '../utils/stringUtils';\r\nimport { consTypeWithDefaultSelectOptions } from '../utils/optionUtils';\r\nconst report_lang = Reportlang.report_data;\r\n\r\ninterface ReportListProps {\r\n\treportPermits: object;\r\n\tfiscalYears: FiscalYear[];\r\n\twardMaster: WardMaster[];\r\n\tuserData: {\r\n\t\torganization: {\r\n\t\t\tname: string;\r\n\t\t};\r\n\t};\r\n\tgetLocalDataByKey: (localApiArray: LocalAPIArray, needsLoading?: boolean) => {};\r\n\tgetReportPermits: Function;\r\n\tfetchLocalDataAndReports: Function;\r\n}\r\n\r\ninterface ReportListState {\r\n\tfiscalYearOptions: FiscalYearOption[];\r\n\twardOptions: OptionType[];\r\n\tfiscalCode: number;\r\n\twardNo: string;\r\n\tconstructionType: string;\r\n\torganization: string;\r\n\treportPermits: object[];\r\n\tisDesigner: boolean;\r\n}\r\n\r\nclass Report extends React.PureComponent<UIState & ReportListProps, IGridProps & ReportListState> {\r\n\tprivate myGrid = React.createRef<JqxGrid>();\r\n\r\n\tconstructor(props: UIState & ReportListProps) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\torganization: '',\r\n\t\t\tfiscalYearOptions: [],\r\n\t\t\treportPermits: [],\r\n\t\t\twardOptions: [],\r\n\t\t\tfiscalCode: 0,\r\n\t\t\twardNo: '',\r\n\t\t\tconstructionType: '',\r\n\t\t\tisDesigner: isDesigner(),\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.fetchLocalDataAndReports(\r\n\t\t\tnew LocalAPIArray([\r\n\t\t\t\tnew LocalAPI(FISCAL_YEAR_ALL, 'fiscalYears'),\r\n\t\t\t\tnew LocalAPI(USER_INFO, 'userData'),\r\n\t\t\t\tnew LocalAPI(WARD_MASTER, 'wardMaster'),\r\n\t\t\t])\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps: UIState & ReportListProps) {\r\n\t\tif (prevProps.fiscalYears !== this.props.fiscalYears) {\r\n\t\t\tif (this.props.fiscalYears && Array.isArray(this.props.fiscalYears)) {\r\n\t\t\t\tconst fiscalYearOptions: FiscalYearOption[] = this.props.fiscalYears.map((year: FiscalYear) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: Number(year.yearCode),\r\n\t\t\t\t\t\ttext: String(year.yearName),\r\n\t\t\t\t\t\tvalue: Number(year.yearCode),\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({ fiscalYearOptions, fiscalCode: fiscalYearOptions[0].value });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (prevProps.wardMaster !== this.props.wardMaster) {\r\n\t\t\tif (this.props.wardMaster && Array.isArray(this.props.wardMaster)) {\r\n\t\t\t\tconst wardOptions: OptionType[] = this.props.wardMaster\r\n\t\t\t\t\t.map((ward: WardMaster) => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tid: ward.id,\r\n\t\t\t\t\t\t\ttext: String(ward.name),\r\n\t\t\t\t\t\t\tvalue: String(ward.name),\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.concat({ id: '', text: report_lang.allWards, value: '' });\r\n\t\t\t\tthis.setState({ wardOptions, wardNo: '' });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (prevProps.userData !== this.props.userData && this.props.userData && this.props.userData.organization) {\r\n\t\t\tthis.setState({ organization: this.props.userData.organization.name });\r\n\t\t}\r\n\r\n\t\tif (prevProps.reportPermits !== this.props.reportPermits && this.props.reportPermits) {\r\n\t\t\tconst reportPermits: ReportObject[] = formatReport(this.props.reportPermits, this.state.isDesigner);\r\n\t\t\tthis.setState({ reportPermits });\r\n\t\t}\r\n\t}\r\n\r\n\tupdatePermits = (fiscalCode: number, wardNo: string, constructionType: string) => {\r\n\t\tthis.props.getReportPermits(fiscalCode, wardNo, constructionType);\r\n\t};\r\n\r\n\tsetPrintContent = (value: any) => {\r\n\t\tsetPrint(value);\r\n\t};\r\n\r\n\tdatafield = [\r\n\t\t{ name: 'id', type: 'string' },\r\n\t\t{ name: 'label', type: 'string' },\r\n\t\t{ name: 'count', type: 'string' },\r\n\t];\r\n\r\n\tcolumn = [\r\n\t\t{\r\n\t\t\ttext: 'क्र.स',\r\n\t\t\tdataField: 'id',\r\n\t\t\tcellsalign: 'center',\r\n\t\t\talign: 'center',\r\n\t\t\twidth: '50px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: 'निर्माणका चरण',\r\n\t\t\tdataField: 'label',\r\n\t\t\tcellsalign: 'center',\r\n\t\t\talign: 'center',\r\n\t\t\twidth: '400px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: 'संख्या',\r\n\t\t\tdataField: 'count',\r\n\t\t\tcellsalign: 'center',\r\n\t\t\talign: 'center',\r\n\t\t\twidth: '200px',\r\n\t\t},\r\n\t];\r\n\r\n\trender() {\r\n\t\tconst { loading, errors } = this.props;\r\n\t\tconst { fiscalYearOptions, fiscalCode, reportPermits, organization, wardNo, constructionType, wardOptions } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Helmet title=\"EBPS - Report\" />\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\tfiscalyear: fiscalCode,\r\n\t\t\t\t\t\twardNo,\r\n\t\t\t\t\t\tconstructionType,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSubmit={() => {}}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t// for props.errors\r\n\t\t\t\t\t\t\t\t\terrors && <ErrorDisplay message={errors.message} />\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t<Grid centered>\r\n\t\t\t\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Grid.Column computer={8} mobile={16} tablet={12} textAlign=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t\t{/* \r\n                    \t\t\t\t\t\t\t\t//@ts-ignore */}\r\n\t\t\t\t\t\t\t\t\t\t\t<div ref={(r) => (this.RPrint = r)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Header style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Header.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{organization} {report_lang.infobarName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Header.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-container-flex-start margin-bottom\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// style={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \tpaddingBottom: '5px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Field className=\"item zIndexSelect compact\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{report_lang.fiscalYear}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select Fiscal Year\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={fiscalYearOptions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"fiscalyear\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e, { value }) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprops.setFieldValue('fiscalyear', value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ fiscalCode: Number(value) });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.updatePermits(Number(value), wardNo, constructionType);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={props.values.fiscalyear}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Field className=\"item zIndexSelect compact\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{report_lang.wardNo}:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={wardOptions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"wardNo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e, { value }) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprops.setFieldValue('wardNo', value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ wardNo: String(value) });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.updatePermits(fiscalCode, String(value), constructionType);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={props.values.wardNo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Field className=\"item zIndexSelect compact\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{report_lang.constructionType}:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={consTypeWithDefaultSelectOptions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"constructionType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e, { value }) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprops.setFieldValue('constructionType', value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ constructionType: String(value) });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.updatePermits(fiscalCode, wardNo, String(value));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={props.values.constructionType}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{errors || loading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FallbackComponent errors={errors} loading={loading} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"jqx-tables\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<JqxGrid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tref={this.myGrid}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={'650px'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupable={this.groupable}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsource={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew jqx.dataAdapter({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdatafields: this.datafield,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdatatype: 'array',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'id',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocaldata: reportPermits,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns={this.column}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoheight={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumnsresize={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trowsheight={35}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilterable={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonRowselect={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.onRowClick\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Printthis\r\n\t\t\t\t\t\t\t\t\t\t\t\tui={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button color=\"violet\">Print</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={() => this.RPrint}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonBeforeGetContent={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setPrintContent(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.RPrint = this.RPrint.cloneNode(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbrack(this.RPrint);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmakeprintformat(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.RPrint,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'getElementsByClassName',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'ui dropdown',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'innerText'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonBeforePrint={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setPrintContent(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\t//@ts-ignore\r\n\tprivate onRowClick = (e) => {\r\n\t\t// gets selected row indexes. The method returns an Array of indexes.\r\n\t\t// const index = e.args.index;\r\n\t\tconst id = e.args.row.boundindex;\r\n\r\n\t\t//@ts-ignore\r\n\t\tif (e.args.row.label !== 'कुल राजस्व')\r\n\t\t\t//@ts-ignore\r\n\t\t\tthis.props.history.push({\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\tpathname: `/user/report-list/${this.state.fiscalCode}/${isStringEmpty(this.state.wardNo) ? 'allWards' : this.state.wardNo}/${\r\n\t\t\t\t\tisStringEmpty(this.state.constructionType) ? 'all' : this.state.constructionType\r\n\t\t\t\t}/${id + 1}`,\r\n\t\t\t\t// state: {\r\n\t\t\t\t// \tid: id,\r\n\t\t\t\t// \t//@ts-ignore\r\n\t\t\t\t// \tfiscalCode: this.state.fiscalCode,\r\n\t\t\t\t// },\r\n\t\t\t});\r\n\t};\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tgetReportPermits,\r\n\tgetLocalDataByKey,\r\n\tfetchLocalDataAndReports,\r\n\tsetPrint: (res: any) => setPrint(res),\r\n};\r\n//@ts-ignore\r\nconst mapStateToProps = (state) => ({\r\n\treportPermits: state.root.dashboard.reportPermits,\r\n\tfiscalYears: state.root.dashboard.fiscalYears,\r\n\tuserData: state.root.dashboard.userData,\r\n\twardMaster: state.root.dashboard.wardMaster,\r\n\terrors: state.root.ui.errors,\r\n\tloading: state.root.ui.loading,\r\n});\r\n\r\n//@ts-ignore\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Report));\r\n"],"sourceRoot":""}