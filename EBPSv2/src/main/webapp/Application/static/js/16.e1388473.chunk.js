(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{647:function(e,t,a){"use strict";var n=a(36),i=a(37),l=a(41),c=a(40),r=a(0),o=a(46),s=a(635),d=a(242),u=a(114),p=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).tableRef=r.createRef(),i.renderButton=function(e,t){o.render(r.createElement(u.a,{title:i.props.buttonProps.title,onClick:function(){return i.props.handleButtonClick(e)},size:"tiny",className:i.props.buttonProps.class},r.createElement("i",{"aria-hidden":"true",className:i.props.buttonProps.icon})),t)},i.actionColumns=[{text:"Actions",cellsalign:"center",align:"center",createwidget:function(e,t,a,n){i.renderButton(e.boundindex,n)},initwidget:function(e,t,a,n){i.renderButton(e,n)},width:i.props.actionWidth,pinned:"true"}].concat(i.props.columns),i.state={id:"",pageable:!0,groupable:!0,showfilterrow:!0},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.datafield,n=e.needsAction,i=void 0===n||n;return t?r.createElement(r.Fragment,null,r.createElement("div",{className:"mapRegistration-dataTableList"},r.createElement(s.a,{localdata:t,datafield:a,columns:i?this.actionColumns:this.props.columns,groups:!1,rowsheight:50,pageable:this.state.pageable,showfilterrow:this.state.showfilterrow,onRowselect:!1}))):r.createElement(d.b,{errors:this.props.errors,loading:this.props.loading})}}]),a}(r.PureComponent);t.a=p},657:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return l}),a.d(t,"c",function(){return c});var n=a(640),i={modal:{title:"\u092b\u093e\u0908\u0932 \u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938",content:"\u0915\u0947 \u0924\u092a\u093e\u0908\u0902 \u092f\u0938 \u092b\u093e\u0908\u0932\u0932\u093e\u0908 \u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928 \u091a\u093e\u0939\u093e\u0928\u0941\u0939\u0941\u0928\u094d\u091b?",saveText:"\u091a\u093e\u0939\u0928\u094d\u091b\u0941",confirmChange:"\u092b\u093e\u0908\u0932 \u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938",historyNoData:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0915\u094b \u0932\u093e\u0917\u093f \u0905\u091d\u0948 \u0915\u0941\u0928\u0948 \u092b\u093e\u0908\u0932 \u092a\u0920\u093e\u0907\u090f\u0915\u094b \u091b\u0948\u0928\u0964",cancelText:"\u092b\u093e\u0908\u0932\u0932\u093e\u0908 \u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928 \u091a\u093e\u0939\u0928\u094d\u0928\u094d"},tab:{historyHeading:" \u0930\u0926\u094d\u0926 \u0917\u0930\u093f\u090f\u0915\u094b History",setupHeading:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0915\u094b \u0938\u0947\u091f\u092a"},heading:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0915\u094b \u0938\u0947\u091f\u092a",date:"\u092e\u093f\u0924\u093f: ",reason:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0947 \u0915\u093e\u0930\u0923: ",reasonFile:"\u0930\u0926\u094d\u0926 \u092a\u094d\u0930\u0915\u094d\u0930\u093f\u092f\u093e \u0938\u092e\u094d\u092c\u0928\u094d\u0927\u093f\u0924 \u092b\u093e\u0907\u0932:"},l=[{text:"\u0936\u093e\u0916\u093e \u0926\u0930\u094d\u0924\u093e \u0928\u0902.",dataField:"applicationNo",cellsalign:"center",align:"center",width:n.a.APPLICATION_NO,pinned:"true"},{text:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0928\u093e\u092e",dataField:"applicantName",cellsalign:"center",align:"center",pinned:"true"},{text:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0920\u0947\u0917\u093e\u0928\u093e",dataField:"applicantAddress",cellsalign:"center",align:"center"},{text:"\u092d\u0935\u0928\u0915\u094b \u0915\u093f\u0938\u093f\u092e",dataField:"constructionType",cellsalign:"center",align:"center",width:n.a.CONSTRUCTION_TYPE,pinned:"true",filtertype:"list"},{text:"\u0928\u093f\u0935\u0947\u0926\u0915\u0915\u094b \u0928\u093e\u092e ",dataField:"nibedakName",cellsalign:"center",align:"center"},{text:"\u0930\u0926\u094d\u0926 \u0917\u0930\u093f\u090f\u0915\u094b \u0915\u093e\u0930\u0923",dataField:"discardReason",cellsalign:"center",align:"center"},{text:"\u0930\u0926\u094d\u0926 \u0917\u0930\u093f\u090f\u0915\u094b \u092e\u093f\u0924\u0940",dataField:"discardDate",cellsalign:"center",align:"center"},{text:"\u0926\u0930\u094d\u0924\u093e \u092e\u093f\u0924\u093f",dataField:"applicantDate",cellsalign:"center",align:"center",width:"100"}],c=[{name:"applicationNo",type:"string"},{name:"applicantName",type:"string"},{name:"applicantAddress",type:"string"},{name:"constructionType",type:"string"},{name:"nibedakName",type:"string"},{name:"discardReason",type:"string"},{name:"discardDate",type:"string"},{name:"applicantDate",type:"string"}]},981:function(e,t,a){"use strict";a.r(t),a.d(t,"DiscardSetup",function(){return z}),a.d(t,"default",function(){return z});var n=a(8),i=a(79),l=a(0),c=a.n(l),r=a(617),o=a(180),s=a(639),d=a(642),u=a(24),p=a(828),m=a(599),b=a(114),g=a(781),f=a(218),h=a(348),E=a(129),y=a(659),N=a(663),j=a(657),O=a(130),w=a(608),v=a(611),k=a(100),F=a(620),S=a(240),T=a(42),C=a(631),x=a(606),A=a(627),D=a(602),L=a(51),P=a(241),R=a.n(P),I=a(647),V=O.object().shape({file:D.g,date:D.k}),B=O.object().shape({applicationNo:D.q}),H=y.b,U=j.a.modal,Y={nibedakName:"",constructionType:"",year:"",kittaNo:"",wardNo:"",applicationNo:""},G={date:Object(L.c)()},q=function(e){var t=e.getAfterUpdateAdminData,a=e.patchAdminDataByUrl,r=e.errors,O=e.success,D=e.loading,L=e.adminData,P=Object(l.useState)({}),q=Object(i.a)(P,2),z=q[0],J=q[1],W=Object(l.useState)([]),Z=Object(i.a)(W,2),_=Z[0],M=Z[1],K=Object(l.useState)(!1),Q=Object(i.a)(K,2),X=Q[0],$=Q[1],ee=Object(l.useState)([]),te=Object(i.a)(ee,2)[1],ae=Object(l.useState)(!1),ne=Object(i.a)(ae,2),ie=ne[0],le=ne[1],ce=Object(l.useState)(!1),re=Object(i.a)(ce,1)[0],oe=Object(s.b)(L.fiscalYear,"yearCode",!0),se=oe.fy,de=oe.fyOption;Object(d.a)(re,[2,3,4]),Object(l.useEffect)(function(){O&&O.success&&(Object(u.z)("Discarded successfully"),$(!1),le(!1),J({}))},[O]),Object(l.useEffect)(function(){L.applicationList&&M(L.applicationList)},[L.applicationList]),Object(l.useEffect)(function(){L.historyList&&te(L.historyList.map(function(e){return Object(n.a)(Object(n.a)({},e),{},{constructionType:Object(T.h)(e.constructionType)})}))},[L.historyList]);var ue=function(e){var t=_[e];pe(t)},pe=function(e){J(e),$(!0)},me=function(){$(!1),le(!0)},be=function(){J({}),le(!1),$(!1)},ge=[{menuItem:j.a.tab.setupHeading,render:function(){return c.a.createElement(p.a.Pane,{className:"simple-tab-pane"},c.a.createElement(R.a,{title:j.a.heading}),c.a.createElement(E.d,{key:"get-app-info",initialValues:Object(n.a)(Object(n.a)({},Y),{},{year:se}),validationSchema:B,onSubmit:function(e,a){a.setSubmitting(!0);try{M([]),t([{api:"".concat(o.a.applicationFilter,"?applicationNo=").concat(e.applicationNo,"&nibedakName=").concat(e.nibedakName,"&constructionType=").concat(e.constructionType,"&year=").concat(e.year,"&kittaNo=").concat(e.kittaNo,"&wardNo=").concat(e.wardNo),objName:"applicationList"}]),a.setSubmitting(!1)}catch(n){a.setSubmitting(!1),console.log("err",n)}}},function(e){var t=e.handleSubmit,a=e.errors,n=e.isSubmitting,i=e.values,l=e.setFieldValue,r=e.handleChange;return c.a.createElement(m.a,{loading:n||D},c.a.createElement(m.a.Group,{widths:"4"},c.a.createElement(m.a.Field,null,c.a.createElement(w.d,{name:"applicationNo",label:H.applicationId,onChange:r,error:a.applicationNo,value:i.applicationNo})),c.a.createElement(m.a.Field,null,c.a.createElement(w.k,{name:"nibedakName",label:H.nibedakName,setFieldValue:l,errors:a.nibedakName,value:i.nibedakName})),c.a.createElement(m.a.Field,null,c.a.createElement(v.d,{needsZIndex:!0,name:"constructionType",label:H.constructionType,options:k.p})),c.a.createElement(m.a.Field,null,c.a.createElement(v.d,{needsZIndex:!0,name:"year",label:H.year,options:de}))),c.a.createElement(m.a.Group,{widths:"4"},c.a.createElement(m.a.Field,null,c.a.createElement(w.k,{name:"kittaNo",label:H.kittaNo,setFieldValue:l,errors:a.kittaNo,value:i.kittaNo})),c.a.createElement(m.a.Field,null,c.a.createElement(w.k,{name:"wardNo",label:H.wardNo,setFieldValue:l,errors:a.wardNo,value:i.wardNo}))),c.a.createElement(m.a.Group,{widths:"equal"},c.a.createElement(m.a.Field,null,c.a.createElement(b.a,{type:"button",className:"primary-btn",icon:"search",content:y.c.searchApp,onClick:t}))))}),c.a.createElement("h4",null,y.c.searchResults),c.a.createElement(I.a,{data:_,columns:N.d,datafield:N.f,buttonProps:{class:"danger-table-single-btn icon",icon:"times rectangle icon",title:U.title},handleButtonClick:ue,actionWidth:100}),c.a.createElement("br",null),!Object(u.t)(z)&&c.a.createElement("div",null,c.a.createElement(g.a,null),c.a.createElement(E.d,{initialValues:G,key:"assign-designer",validationSchema:V,onSubmit:function(e,t){t.setSubmitting(!0);try{var n=new FormData,i=e.file;i&&i.forEach(function(e){return n.append("file",e)}),n.append("reason",e.reason),n.append("date",e.date),a("".concat(o.a.buildPermit,"/").concat(z.applicantNo),n),t.setSubmitting(!1)}catch(l){t.setSubmitting(!1),console.log("err",l)}}},function(e){var t=e.handleSubmit,a=e.isSubmitting,n=e.errors,i=e.validateForm,l=e.handleChange,o=e.values,s=e.setFieldValue;return c.a.createElement(m.a,null,c.a.createElement(F.b,{key:"open-confirmation",open:X,errors:r,isSubmitting:a||D,handleSubmit:me,handleClose:be,title:U.title,saveText:U.saveText,cancelText:U.cancelText},U.content),c.a.createElement(F.b,{open:ie,errors:r,isSubmitting:a||D,handleSubmit:function(){i().then(function(e){Object(u.t)(e)&&t()})},handleClose:be,title:U.title,saveText:U.confirmChange,cancelText:U.cancelText},c.a.createElement(m.a,{loading:a||D},c.a.createElement(f.a,null,c.a.createElement(f.a.Row,{columns:"2"},c.a.createElement(f.a.Column,null,j.a.reasonFile,c.a.createElement(C.a,{name:"file",fileCatId:"fileUpload",hasMultipleFiles:!0})),c.a.createElement(x.c,{label:j.a.date,name:"date",handleChange:l,value:o.date,error:n.date,inline:!0})),c.a.createElement(f.a.Row,null,c.a.createElement(f.a.Column,null,c.a.createElement(A.a,{labelName:j.a.reason,placeholder:".....",name:"reason",setFieldValue:s,value:o.reason,error:n.reason})))))))})))}}];return c.a.createElement("div",{className:"setup-main"},r&&c.a.createElement(S.b,{message:r.message}),c.a.createElement(h.a,null,j.a.heading),c.a.createElement(p.a,{menu:{secondary:!0,pointing:!0},panes:ge}))},z=function(e){return c.a.createElement(r.a,{api:[{api:o.a.fiscalYear,objName:"fiscalYear"},{api:"".concat(o.a.discardHistory,"?year=2076"),objName:"historyList"}],updateApi:[{api:"".concat(o.a.discardHistory,"?year=2076"),objName:"historyList"}],render:function(t){return c.a.createElement(q,Object.assign({},t,{parentProps:e}))}})}}}]);
//# sourceMappingURL=16.e1388473.chunk.js.map