(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{555:function(e,t,a){"use strict";var n=a(7),r=a(17),l=a(25),o=a(26),c=a(39),i=a(38),s=a(0),u=a.n(s),m=a(558),d=a(210),p=a(27),f=a(56),b=a(13),E=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={allLoaded:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getAdminDataByUrl(this.props.api),this.props.localApi&&this.props.getAdminLocalDataByUrl(this.props.localApi)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.adminData!==e.adminData){var a=this.props.api,n=[],l={};a.forEach(function(e,a){!Object(b.s)(t.props.adminData[e.objName])||Array.isArray(t.props.adminData[e.objName])?(n[a]=!0,Object.assign(l,Object(r.a)({},e.objName,t.props.adminData[e.objName]))):n[a]=!1}),this.setState({allLoaded:n.reduce(function(e,t){return e&&t},!0)})}this.props.success!==e.success&&this.props.getAfterUpdateAdminData(this.props.updateApi)}},{key:"render",value:function(){return this.state.allLoaded?u.a.createElement("div",null,this.props.render(Object(n.a)({},this.props))):u.a.createElement(d.b,{errors:this.props.errors,loading:this.props.loading})}}]),a}(s.Component),h={getAdminDataByUrl:m.k,getAfterUpdateAdminData:m.m,postAdminDataByUrl:m.C,postAdminDataByUrlAndId:m.D,patchAdminDataByUrl:m.B,putAdminDataByUrl:m.P,deleteAdminDataByUrl:m.b,getAdminLocalDataByUrl:m.l};t.a=Object(p.j)(Object(f.b)(function(e){return{adminData:e.root.admin,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.admin.success}},h)(E))},557:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return s});var n=a(0),r=a.n(n),l=a(847),o=a(208),c=a(211),i=function(e){var t=e.handleClose,a=e.open,n=e.title,i=e.saveText,s=e.cancelText,u=void 0===s?"Cancel":s,m=e.handleSubmit,d=e.errors,p=e.isSubmitting,f=e.children,b=e.key,E=e.scroll,h=void 0===E||E,g=e.size,v=void 0===g?"small":g;return r.a.createElement("div",null,r.a.createElement(l.a,{key:b,closeIcon:!0,open:a,onClose:t,size:v},r.a.createElement(l.a.Header,null,n),r.a.createElement(l.a.Content,{scrolling:!!h||void 0},r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(c.b,{message:d.message}),f)),r.a.createElement(l.a.Actions,null,r.a.createElement(o.a,{disabled:p,negative:!0,onClick:t},u),r.a.createElement(o.a,{disabled:p,positive:!0,icon:"checkmark",labelPosition:"right",type:"button",content:i||"Save",onClick:function(e){m()}}))))},s=function(e){var t=e.handleClose,a=e.open,n=e.title,c=e.saveText,i=e.isSubmitting,s=e.children,u=e.key;return r.a.createElement("div",null,r.a.createElement(l.a,{key:u,closeIcon:!0,open:a,onClose:t},r.a.createElement(l.a.Header,null,n),r.a.createElement(l.a.Content,{scrolling:!0},r.a.createElement(r.a.Fragment,null,s)),r.a.createElement(l.a.Actions,null,r.a.createElement(o.a,{disabled:i,positive:!0,icon:"checkmark",labelPosition:"right",content:c||"Ok",onClick:t}))))}},562:function(e,t,a){"use strict";a.d(t,"f",function(){return f}),a.d(t,"g",function(){return b}),a.d(t,"h",function(){return E}),a.d(t,"c",function(){return h}),a.d(t,"e",function(){return g}),a.d(t,"d",function(){return v}),a.d(t,"b",function(){return y}),a.d(t,"a",function(){return O});var n=a(46),r=a.n(n),l=a(82),o=a(44),c=a.n(o),i=a(8),s=a(13),u=a(11),m=a(36),d=a(109),p=a(12),f=function(e,t){return function(){var a=Object(l.a)(r.a.mark(function a(n){var l,o;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:i.q}),n({type:i.e}),a.prev=2,l=Object(s.j)(),c.a.defaults.headers.common.Authorization=l,a.next=7,c.a.post(e,t);case 7:(o=a.sent).data.error?n({type:i.x,payload:o.data.error}):n({type:i.J,payload:{success:!0,data:o.data}}),n({type:i.Q}),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(2),n({type:i.x,payload:a.t0}),n({type:i.Q});case 16:case"end":return a.stop()}},a,null,[[2,12]])}));return function(e){return a.apply(this,arguments)}}()},b=function(e,t){return function(){var a=Object(l.a)(r.a.mark(function a(n){var l,o;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:i.q}),a.prev=1,l=Object(s.j)(),c.a.defaults.headers.common.Authorization=l,a.next=6,c.a.post(e,t);case 6:(o=a.sent).data.error?n({type:i.x,payload:o.data.error}):Object(s.x)(o.data.message||"File uploaded"),n({type:i.Q}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),n({type:i.x,payload:a.t0}),n({type:i.Q});case 15:case"end":return a.stop()}},a,null,[[1,11]])}));return function(e){return a.apply(this,arguments)}}()},E=function(e,t,a){return function(){var n=Object(l.a)(r.a.mark(function n(l){var o,u,m;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(e){l({type:i.y,payload:{id:a,progress:e.loaded,total:e.total}})},n.prev=1,u=Object(s.j)(),c.a.defaults.headers.common.Authorization=u,n.next=6,c.a.post(e,t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o});case 6:(m=n.sent).data.error?l({type:i.P}):Object(s.x)(m.data.message||"File uploaded"),l({type:i.P}),l({type:i.Q}),n.next=17;break;case 12:n.prev=12,n.t0=n.catch(1),l({type:i.x,payload:n.t0}),l({type:i.P}),l({type:i.Q});case 17:case"end":return n.stop()}},n,null,[[1,12]])}));return function(e){return n.apply(this,arguments)}}()},h=function(e){return function(){var e=Object(l.a)(r.a.mark(function e(t){var a,n,l,o,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:i.q}),t({type:i.e}),e.prev=2,a=Object(s.j)(),n=JSON.parse(Object(p.a)(u.e)),l="".concat(Object(m.a)()).concat(d.a.fileUpload).concat(n.applicantNo),c.a.defaults.headers.common.Authorization=a,e.next=9,c.a.get(l);case 9:o=e.sent,f=JSON.parse(Object(p.a)(u.k))||[],o.data.error?t({type:i.x,payload:o.data.error}):t({type:i.z,payload:{files:o.data,fileCategories:f,success:!1}}),t({type:i.Q}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),t({type:i.x,payload:e.t0}),t({type:i.Q});case 19:case"end":return e.stop()}},e,null,[[2,15]])}));return function(t){return e.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(l.a)(r.a.mark(function t(a){var n,l,o,f;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:i.q}),t.prev=1,n=Object(s.j)(),l="".concat(Object(m.a)()).concat(d.a.fileUpload).concat(e),c.a.defaults.headers.common.Authorization=n,t.next=7,c.a.get(l);case 7:o=t.sent,f=JSON.parse(Object(p.a)(u.k))||[],o.data.error?a({type:i.x,payload:o.data.error}):a({type:i.z,payload:{files:o.data,fileCategories:f,success:!1}}),a({type:i.Q}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),a({type:i.x,payload:t.t0}),a({type:i.Q});case 17:case"end":return t.stop()}},t,null,[[1,13]])}));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(l.a)(r.a.mark(function t(a){var n,l,o,f,b,E;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a({type:i.q}),a({type:i.e}),t.prev=2,n=JSON.parse(Object(p.a)(u.k))||[],l=JSON.parse(Object(p.a)(u.o))||[],!e){t.next=9;break}a({type:i.z,payload:{fileCategories:n,formMaster:l,success:!1}}),t.next=17;break;case 9:return o=Object(s.j)(),f=JSON.parse(Object(p.a)(u.e)),b="".concat(Object(m.a)()).concat(d.a.fileUpload).concat(f.applicantNo),c.a.defaults.headers.common.Authorization=o,t.next=15,c.a.get(b);case 15:(E=t.sent).data.error?a({type:i.x,payload:E.data.error}):a({type:i.z,payload:{files:E.data,fileCategories:n,formMaster:l,success:!1}});case 17:a({type:i.Q}),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(2),a({type:i.x,payload:t.t0}),a({type:i.Q});case 24:case"end":return t.stop()}},t,null,[[2,20]])}));return function(e){return t.apply(this,arguments)}}()},y=function(){return function(){var e=Object(l.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i.q}),t({type:i.e});try{a=Object(s.j)(),c.a.defaults.headers.common.Authorization=a,n=JSON.parse(Object(p.a)(u.k))||[],t({type:i.z,payload:{fileCategories:n,success:!1}}),t({type:i.Q})}catch(r){t({type:i.x,payload:r}),t({type:i.Q})}case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(l.a)(r.a.mark(function t(a){var n,l,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:i.q}),a({type:i.e}),t.prev=2,n=Object(s.j)(),l="".concat(Object(m.a)()).concat(d.a.fileUpload).concat(e),c.a.defaults.headers.common.Authorization=n,t.next=8,c.a.delete(l);case 8:if(!(o=t.sent).data.error){t.next=14;break}return a({type:i.x,payload:o.data.error}),t.abrupt("return",o);case 14:return a({type:i.J,payload:{success:!0,data:o.data}}),t.abrupt("return",o);case 16:t.next=23;break;case 18:t.prev=18,t.t0=t.catch(2),a({type:i.x,payload:t.t0}),a({type:i.Q}),console.log(t.t0);case 23:case"end":return t.stop()}},t,null,[[2,18]])}));return function(e){return t.apply(this,arguments)}}()}},564:function(e,t,a){"use strict";a.d(t,"h",function(){return y}),a.d(t,"b",function(){return O}),a.d(t,"c",function(){return j}),a.d(t,"a",function(){return S}),a.d(t,"e",function(){return D}),a.d(t,"i",function(){return k}),a.d(t,"g",function(){return T}),a.d(t,"f",function(){return A}),a.d(t,"j",function(){return x}),a.d(t,"d",function(){return F});var n=a(51),r=a(7),l=a(46),o=a.n(l),c=a(82),i=a(17),s=a(8),u=a(44),m=a.n(u),d=a(36),p=a(13),f=a(11),b=a(12),E=a(109),h=a(57),g=a(59),v=function(e){return function(){var t=Object(c.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:s.q}),t.prev=1,t.next=4,m.a.get("".concat(Object(d.a)()).concat(E.a.buildPermit).concat(e));case 4:(n=t.sent).data.error?a({type:s.x,payload:n.data.error}):(a({type:s.w,payload:{menu:n.data.menu,permitData:n.data.data}}),Object(b.b)(f.q,JSON.stringify(n.data.menu)),Object(b.b)(f.e,JSON.stringify(n.data.data))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:s.x,payload:t.t0});case 11:a({type:s.Q});case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},y=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return function(){var u=Object(c.a)(o.a.mark(function c(u){var E,h,g;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return E=JSON.parse(Object(b.a)(f.e)),h=a?"".concat(Object(d.a)()).concat(e).concat(E.applicantNo):"".concat(Object(d.a)()).concat(e),n&&(t=Object(r.a)(Object(r.a)({},t),{},{applicationNo:E.applicantNo})),t.uploadFile&&delete t.uploadFile,t.imagePreviewUrl&&delete t.imagePreviewUrl,m.a.defaults.headers.common.Authorization=Object(p.j)(),o.prev=6,o.next=9,m.a.post(h,t);case 9:if("Success"!==(g=o.sent).data.message){o.next=18;break}if(!l){o.next=14;break}return o.next=14,v(E.applicantNo)(u);case 14:i&&u({type:s.w,payload:{buildingClass:i}}),u({type:s.J,payload:{success:!0,data:g.data}}),o.next=19;break;case 18:u({type:s.x,payload:g.data.error});case 19:o.next=24;break;case 21:o.prev=21,o.t0=o.catch(6),u({type:s.x,payload:o.t0});case 24:case"end":return o.stop()}},c,null,[[6,21]])}));return function(e){return u.apply(this,arguments)}}()},O=function(e,t){return function(){var a=Object(c.a)(o.a.mark(function a(n){var r,l,c;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=Object(p.e)(),n({type:s.e}),n({type:s.q}),!Object(p.s)(r)){a.next=7;break}n({type:s.M}),a.next=22;break;case 7:return l="".concat(Object(d.a)()).concat(e).concat(r.applicantNo),n({type:s.z,payload:{permitData:r}}),a.prev=9,a.next=12,m.a.get(l);case 12:(c=a.sent).data.error&&"invalid application no"===c.data.error.message||(n({type:s.z,payload:{prevData:c.data.data?t(c.data.data):t(c.data),comment:c.data.comment,history:c.data.history}}),n({type:s.Q})),a.next=22;break;case 16:a.prev=16,a.t0=a.catch(9),n({type:s.Q}),n({type:s.x,payload:a.t0}),n({type:s.z,payload:{permitData:r}}),console.log("Error in stuct form data fetch",a.t0);case 22:case"end":return a.stop()}},a,null,[[9,16]])}));return function(e){return a.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(c.a)(o.a.mark(function a(n){var r,l,c,i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=Object(p.e)(),l=Object(p.m)(),n({type:s.e}),n({type:s.q}),!Object(p.s)(r)&&!Object(p.s)(l)){a.next=8;break}n({type:s.M}),a.next=23;break;case 8:return c="".concat(Object(d.a)()).concat(e).concat(r.applicantNo),n({type:s.z,payload:{permitData:r,userData:l}}),a.prev=10,a.next=13,m.a.get(c);case 13:(i=a.sent).data.error&&"invalid application no"===i.data.error.message||(n({type:s.z,payload:{prevData:i.data.data?t(i.data.data):t(i.data),comment:i.data.comment,history:i.data.history}}),n({type:s.Q})),a.next=23;break;case 17:a.prev=17,a.t0=a.catch(10),n({type:s.Q}),n({type:s.x,payload:a.t0}),n({type:s.z,payload:{permitData:r}}),console.log("Error in data fetch",a.t0);case 23:case"end":return a.stop()}},a,null,[[10,17]])}));return function(e){return a.apply(this,arguments)}}()},C=function(e,t,a){return function(n){try{var r=(JSON.parse(Object(b.a)(g.a.FORM_GROUP))||[]).find(function(e){return e.formId.viewUrl.trim()===String(a)}).previousForm,l=e.filter(function(e){return e.formId===r&&"Y"===e.isRequired}).every(function(e){return t.find(function(t){return t.fileType.id===e.formId})});n({type:s.z,payload:{hasPreviousFiles:l}})}catch(o){console.error("Error in previous file check",o)}}},S=function(e,t,a,r){var l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(){var u=Object(c.a)(o.a.mark(function c(u){var h,g,v,y,O,j,S,D,N,k;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(u({type:s.q}),u({type:s.e}),u({type:s.f}),h=Object(p.e)(),g=Object(p.m)(),v=JSON.parse(Object(b.a)(f.k))||[],y=v&&v.some(function(e){return e.viewUrl&&e.viewUrl.trim()===a.getUrl()}),r&&Array.isArray(r)&&r.length>0)try{O=Object(n.a)(r);try{for(O.s();!(j=O.n()).done;)S=j.value,u({type:s.z,payload:Object(i.a)({},S.getObjName(),JSON.parse(Object(b.a)(S.getKey())))})}catch(c){O.e(c)}finally{O.f()}}catch(c){console.error(c,"Couldn't load local storage data")}if(Object(p.s)(h)||Object(p.s)(g)){o.next=26;break}if(D=h.applicantNo,!y&&!l){o.next=23;break}return N="".concat(Object(d.a)()).concat(E.a.fileUpload).concat(h.applicantNo),o.prev=12,o.next=15,m.a.get(N);case 15:(k=o.sent).data.error?u({type:s.x,payload:k.data.error}):(l&&C(v,k.data,a.getUrl())(u),u({type:s.z,payload:{files:k.data,fileCategories:v}})),o.next=23;break;case 19:o.prev=19,o.t0=o.catch(12),u({type:s.x,payload:o.t0}),u({type:s.Q});case 23:w(0,e,D,h,g,t)(u),o.next=28;break;case 26:u({type:s.M}),u({type:s.Q});case 28:case"end":return o.stop()}},c,null,[[12,19]])}));return function(e){return u.apply(this,arguments)}}()},w=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;return function(){var p=Object(c.a)(o.a.mark(function p(f){return o.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,Promise.all(a.map(function(){var e=Object(c.a)(o.a.mark(function e(t){var a,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.utility?"".concat(Object(d.a)()).concat(t.api):"".concat(Object(d.a)()).concat(t.api).concat(n),!t.concatToApi){e.next=6;break}if(l=r[t.concatToApi.fieldName],!t.concatToApi.needsTranslation){e.next=5;break}return e.abrupt("return",m.a.get("".concat(a).concat(t.concatToApi.prefix).concat(Object(h.f)(l))));case 5:return e.abrupt("return",m.a.get("".concat(a).concat(t.concatToApi.prefix).concat(l)));case 6:return e.abrupt("return",m.a.get(a));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 3:p.sent.forEach(function(e){var t,n=a.find(function(t){return e.config.url.includes(t.api)});n.form?f({type:s.z,payload:(t={},Object(i.a)(t,n.objName,e.data.data?u(e.data.data):u(e.data)),Object(i.a)(t,"comment",e.data.comment),Object(i.a)(t,"history",e.data.history),Object(i.a)(t,"permitData",r),Object(i.a)(t,"userData",l),t)}):f({type:s.z,payload:Object(i.a)({},n.objName,e.data.data?u(e.data.data):u(e.data))})}),f({type:s.Q}),p.next=11;break;case 8:p.prev=8,p.t0=p.catch(0),t<3?e(t+1,a,n,r,l,u)(f):(console.log("Error in form data fetch",p.t0,t),f({type:s.x,payload:p.t0}),f({type:s.Q}));case 11:case"end":return p.stop()}},p,null,[[0,8]])}));return function(e){return p.apply(this,arguments)}}()},D=function(e,t){return function(){var a=Object(c.a)(o.a.mark(function a(n){var r,l,i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n({type:s.q}),n({type:s.e}),n({type:s.f}),r=Object(p.e)(),l=Object(p.m)(),Object(p.s)(r)||Object(p.s)(l)?(n({type:s.M}),n({type:s.Q})):(i=r.applicantNo,Promise.all(e.map(function(){var e=Object(c.a)(o.a.mark(function e(a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:N(0,a,i,t,r,l)(n);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(){}));case 6:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},N=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;return function(){var p=Object(c.a)(o.a.mark(function c(p){var f,b,E;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,f=a.utility?"".concat(Object(d.a)()).concat(a.api):"".concat(Object(d.a)()).concat(a.api).concat(n),o.next=4,m.a.get(f);case 4:b=o.sent,a.form?p({type:s.z,payload:(E={},Object(i.a)(E,a.objName,b.data.data?r(b.data.data):r(b.data)),Object(i.a)(E,"comment",b.data.comment),Object(i.a)(E,"history",b.data.history),Object(i.a)(E,"permitData",l),Object(i.a)(E,"userData",u),E)}):p({type:s.z,payload:Object(i.a)({},a.objName,b.data.data?r(b.data.data):r(b.data))}),o.next=16;break;case 8:if(o.prev=8,o.t0=o.catch(0),!(t<3)){o.next=15;break}return o.next=13,e(t+1,a,n,r,l,u)(p);case 13:o.next=16;break;case 15:p({type:s.x,payload:o.t0});case 16:case"end":return o.stop()}},c,null,[[0,8]])}));return function(e){return p.apply(this,arguments)}}()},k=function(e,t,a,n){var l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(){var i=Object(c.a)(o.a.mark(function c(i){var u,f,b,E,h,g;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=Object(p.e)(),Object(p.s)(u)){o.next=32;break}return f="".concat(Object(d.a)()).concat(e).concat(u.applicantNo),b="".concat(Object(d.a)()).concat(a).concat(u.applicantNo),t=Object(r.a)(Object(r.a)({},t),{},{applicationNo:u.applicantNo}),m.a.defaults.headers.common.Authorization=Object(p.j)(),o.prev=6,o.t0=Promise,o.next=10,m.a.post(f,t);case 10:if(o.t1=o.sent,!l){o.next=17;break}return o.next=14,m.a.post(b,n);case 14:o.t2=o.sent,o.next=18;break;case 17:o.t2=!1;case 18:return o.t3=o.t2,o.t4=[o.t1,o.t3],o.next=22,o.t0.all.call(o.t0,o.t4);case 22:(E=o.sent)[0].data&&E[0].data.error?(h="".concat(E[0].data.error.message||"","; ").concat(E[1]?E[1].data.error:""),i({type:s.x,payload:{message:h}})):(g="".concat(E[0].data.message||"","; ").concat(E[1].data?E[1].data.message:""),i({type:s.J,payload:{success:!0,data:{message:g}}})),o.next=30;break;case 26:o.prev=26,o.t5=o.catch(6),console.log("g errs?",o.t5),i({type:s.x,payload:o.t5});case 30:o.next=34;break;case 32:i({type:s.M}),i({type:s.Q});case 34:case"end":return o.stop()}},c,null,[[6,26]])}));return function(e){return i.apply(this,arguments)}}()},T=function(){return function(e){var t=Object(p.e)();Object(p.s)(t)&&e({type:s.M});try{e({type:s.q}),e({type:s.z,payload:{permitData:t}}),e({type:s.Q})}catch(a){e({type:s.Q})}}},A=function(){return function(e){e({type:s.z,payload:{permitData:{}}});var t=Object(p.e)(),a=Object(p.m)();if(Object(p.s)(t)||Object(p.s)(a))e({type:s.M});else try{e({type:s.q}),e({type:s.z,payload:{permitData:t,userData:a}}),e({type:s.Q})}catch(n){e({type:s.Q}),e({type:s.x,payload:n})}}},x=function(e,t){return function(){var a=Object(c.a)(o.a.mark(function a(n){var r,l;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:s.R}),n({type:s.e}),a.prev=2,r=Object(p.j)(),m.a.defaults.headers.common.Authorization=r,n({type:s.p}),a.next=8,m.a.put(e,t);case 8:if(!(l=a.sent).data||!l.data.message){a.next=14;break}return n({type:s.R}),a.abrupt("return",l);case 14:return n({type:s.R}),a.abrupt("return",l);case 16:a.next=22;break;case 18:throw a.prev=18,a.t0=a.catch(2),n({type:s.R}),new Error(a.t0);case 22:case"end":return a.stop()}},a,null,[[2,18]])}));return function(e){return a.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(c.a)(o.a.mark(function t(a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:s.q}),Promise.all(e.getLocalApis().map(function(){var e=Object(c.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.a)(t.getKey());case 3:n=e.sent,a({type:s.z,payload:Object(i.a)({},t.getObjName(),JSON.parse(n))}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:s.x,payload:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}())).then(function(){a({type:s.Q})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},569:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return u});var n=a(122),r=a(0),l=a.n(r),o=a(550),c=a(545),i=a(119),s=function(e){var t=e.label,a=e.name,r=e.formValue,s=e.onChange,u=e.size,m=void 0===u?"small":u,d=e.disabled,p=void 0!==d&&d;return l.a.createElement(n.a,null,function(e){var u=e.form,d=Object(n.d)(u.errors,a),f=Object(n.d)(u.values,a);return l.a.createElement(o.a.Field,{error:!!d,disabled:p},l.a.createElement("span",null,t),l.a.createElement(c.a,{name:a,onChange:s||u.handleChange,value:r||f,size:m}),d&&l.a.createElement(i.a,{pointing:!0,prompt:!0,size:"large"},d))})},u=function(e){var t=e.label,a=e.name,n=e.formValue,r=e.onChange,s=e.size,u=void 0===s?"small":s,m=e.error;return l.a.createElement(o.a.Field,{error:!!m},l.a.createElement("span",null,t),l.a.createElement(c.a,{name:a,onChange:r,value:n,size:u}),m&&l.a.createElement(i.a,{pointing:!0,prompt:!0,size:"large"},m))}},571:function(e,t,a){"use strict";var n=a(25),r=a(26),l=a(39),o=a(38),c=a(0),i=a(619),s=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.createElement("div",null,c.createElement(i.a,{ref:this.props.Grid,width:"100%",groups:this.props.groups||[],groupable:this.props.groupable,source:new i.b.dataAdapter({datafields:this.props.datafield,datatype:"json",id:"id",localdata:this.props.localdata}),columns:this.props.columns,autoheight:!0,sortable:!0,altrows:!0,pageable:"boolean"!==typeof this.props.pageable||this.props.pageable,columnsresize:!0,rowsheight:35,filterable:!0,showfilterrow:this.props.showfilterrow}))}}]),a}(c.PureComponent);t.a=s},573:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(0),r=a.n(n),l=a(121),o=function(e){var t=e.content;return r.a.createElement(l.a,{floating:!0,info:!0,compact:!0,icon:"warning circle",className:"compact-info-message",content:t})}},574:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return c});var n=a(73),r=a(0),l=a(124),o=function(e){var t=Object(r.useState)([]),a=Object(n.a)(t,2),l=a[0],o=a[1],c=Object(r.useState)(""),i=Object(n.a)(c,2),s=i[0],u=i[1];return Object(r.useEffect)(function(){var t=e.filter(function(e){return"Y"===e.status});t&&t.length>0&&(o(t.map(function(e){return{value:e.yearName,text:e.yearName}})),u(t[0].yearName))},[e]),{fy:s,fyOption:l}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yearName",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(r.useState)([]),c=Object(n.a)(o,2),i=c[0],s=c[1],u=Object(r.useState)(""),m=Object(n.a)(u,2),d=m[0],p=m[1];return Object(r.useEffect)(function(){if(e&&e.length>0){var n=e.find(function(e){return"Y"===e.status});s(e.map(function(e){return{value:a?Object(l.g)(e[t]):e[t],text:e.yearName}})),p(n?n[t]:e[0][t])}},[e,t,a]),{fy:d,fyOption:i}}},576:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(73),r=a(0),l=a.n(r),o=a(120),c=a(57),i=function(e){var t=e.label,a=e.options,i=e.name,s=e.handleChange,u=e.value,m=e.bold,d=void 0!==m&&m,p=Object(r.useState)(""),f=Object(n.a)(p,2),b=f[0],E=f[1];return l.a.createElement("div",null,l.a.createElement("span",null,d?l.a.createElement("b",null,t,": "):t),l.a.createElement(o.a,{search:!0,searchQuery:b,onSearchChange:function(e){return E(Object(c.b)(e.target.value,Object(c.a)()))},selection:!0,options:a,name:i,value:u,onChange:function(e,t){var n=t.value,r=a.find(function(e){return e.value===n}),l=r?r.text||r.label:b||"";E(l),s(n)},selectOnNavigation:!1,onClick:function(){return E("")}}))}},577:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(57),r=a(0),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[2,3,4,5],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0];Object(r.useEffect)(function(){var e=document.querySelectorAll(".jqx-filter-input");return e.length>0&&Array.from(e).forEach(function(e,r){a.includes(r)?e.style.display="none":t.includes(r)&&e.addEventListener("input",function(e){e.target.value=Object(n.b)(e,Object(n.a)())})}),function(){var e=document.querySelectorAll(".jqx-filter-input");e.length>0&&Array.from(e).forEach(function(e,a){t.includes(a)&&e.removeEventListener("input",function(e){e.target.value=Object(n.b)(e,Object(n.a)())})})}},[e,t,a])}},579:function(e,t,a){"use strict";a.d(t,"d",function(){return n}),a.d(t,"e",function(){return r}),a.d(t,"c",function(){return l}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return c});var n="~^%",r="[[",l="]]",o="input",c="date-input"},580:function(e,t,a){"use strict";var n,r;a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),function(e){e.NEPALI_INPUT="input",e.DASHED_NORMAL_INPUT="dashed-normal-input",e.UNIT_DROPDOWN="unit-dropdown",e.NEPALI_DATE="date-input",e.NORMAL_NEPALI_DATE="normal-date-input",e.FLOOR_TABLE="floor-table",e.DASHED_DROPDOWN="dashed-dropdown",e.DROPDOWN="dropdown"}(n||(n={})),function(e){e.NUMBER="number",e.STRING="string",e.NORMAL_DATE="normal-date",e.UNICODE_DATE="unicode-date"}(r||(r={}))},585:function(e,t,a){"use strict";var n=a(25),r=a(26),l=a(39),o=a(38),c=a(0),i=a.n(c),s=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return i.a.createElement("span",{style:{color:"grey"}}," ".concat(this.props.content))}}]),a}(c.Component);t.a=s},588:function(e,t,a){"use strict";var n=a(73),r=a(0),l=a.n(r),o=a(847),c=a(534),i=a(320),s=a(208),u=a(13),m=a(211),d=a(559);t.a=function(e){var t=e.open,a=e.onClose,p=e.loadingModal,f=e.content,b=e.title,E=e.deleteFile,h=Object(r.useState)(""),g=Object(n.a)(h,2),v=g[0],y=g[1],O=function(){a(),y("")};return l.a.createElement("div",null,l.a.createElement(o.a,{key:"approval-modal",closeIcon:!0,open:t,onClose:O},l.a.createElement(o.a.Header,null,b||d.c.delete.title),v&&l.a.createElement(m.b,{message:v}),l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{active:p,inverted:!0},l.a.createElement(i.a,{active:p,inline:"centered"},"Deleting Files...")),l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a.Content,{scrolling:!0},f||l.a.createElement("h3",null,d.c.delete.content)),l.a.createElement(o.a.Actions,null,l.a.createElement(s.a,{negative:!0,onClick:O},d.c.delete.close),l.a.createElement(s.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:d.c.delete.save,onClick:function(e){E().then(function(e){e.data&&e.data.message?(Object(u.x)(e.data.message),O()):Object(u.w)("Invalid FileUrl")}).catch(function(e){Object(u.w)(e),y("Network Error")})}}))))))}},589:function(e,t,a){"use strict";a.d(t,"b",function(){return f}),a.d(t,"a",function(){return b}),a.d(t,"c",function(){return E});var n=a(46),r=a.n(n),l=a(82),o=a(8),c=a(44),i=a.n(c),s=a(36),u=a(13),m=a(11),d=a(109),p=a(12),f=function(e){return function(t){t({type:o.e});var a="".concat(Object(s.a)(),"api/Application/BuildingPermit/"),n=Object(u.j)();return Array.isArray(e.buildingJoinRoadType)&&(e.buildingJoinRoadType=e.buildingJoinRoadType.join(",")),Array.isArray(e.mohada)&&(e.mohada=e.mohada.join(",")),e.citizenshipNo&&(e.nationalIdNo=e.citizenshipNo),e.certificateArea="",e.landCertificateNo="",e.aminAction&&delete e.aminAction,e.applicationAction&&delete e.applicationAction,e.chiefAction&&delete e.chiefAction,e.designerAction&&delete e.designerAction,e.enginieerAction&&delete e.enginieerAction,e.rajasowAction&&delete e.rajasowAction,e.subEnginieerAction&&delete e.subEnginieerAction,i.a.defaults.headers.common.Authorization=n,t({type:o.q}),i.a.post(a,e,{headers:{Authorization:n}}).then(function(e){return Object(u.s)(e.data.error)||(t({type:o.x,payload:e.data.error}),t({type:o.Q})),t({type:o.Q}),e}).catch(function(e){return console.log("err",e),t({type:o.x,payload:e}),t({type:o.Q}),{error:e}})}},b=function(){return function(){var e=Object(l.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.a.defaults.headers.common.Authorization=Object(u.j)(),a=JSON.parse(Object(p.a)(m.e)),e.prev=2,e.next=5,i.a.get("".concat(Object(s.a)()).concat(d.a.buildPermit).concat(a.applicantNo));case 5:(n=e.sent).data.error?t({type:o.x,payload:n.data.error}):t({type:o.z,payload:{permitDataNew:n.data.data}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:o.x,payload:e.t0});case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}()},E=function(e,t){return function(){var a=Object(l.a)(r.a.mark(function a(n){var l;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i.a.defaults.headers.common.Authorization=Object(u.j)(),a.prev=1,a.next=4,i.a.post("".concat(Object(s.a)()).concat(e),t);case 4:(l=a.sent).data.error?n({type:o.x,payload:l.data.error}):n({type:o.J,payload:{success:!0,data:l.data}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:o.x,payload:a.t0});case 11:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()}},590:function(e,t,a){"use strict";var n=a(213),r=a(25),l=a(26),o=a(39),c=a(38),i=a(0),s=a.n(i),u=a(696),m=a.n(u),d=a(56),p=a(585),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.content,a=e.ui,r=e.shortcut,l=Object(n.a)(e,["content","ui","shortcut"]);return s.a.createElement(m.a,Object.assign({trigger:function(){return a||s.a.createElement("span",{className:"printt",color:"instagram"},"Print ",r&&s.a.createElement(p.a,{content:"[alt + p]"}))},pageStyle:"@page { size: A4;} @media print{body{text-align: justify}}}",content:t},l))}}]),a}(s.a.Component);t.a=Object(d.b)(function(e){return{shortcut:e.root.general.shortcut}})(f)},598:function(e,t,a){"use strict";var n=a(46),r=a.n(n),l=a(82),o=a(25),c=a(26),i=a(39),s=a(38),u=a(0),m=a.n(u),d=a(56),p=a(589),f=a(550),b=a(829),E=a(850),h=a(208),g=a(122),v=a(36),y=a(109),O=a(13),j=a(211),C=a(567),S=a(570),w=a.n(S),D=a(210),N=a(11),k=a(123),T=a(620),A=a(566),x=k.object().shape({photo:k.array().typeError(A.p.required).of(k.mixed().test("fileSize",A.p.fileSize,function(e){return e&&e.size<=T.b}).test("fileFormat",A.p.photoError,function(e){return e&&T.g.includes(e.type)})).required(A.p.required)}),F=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={imageOpen:!1,src:"",existingPhoto:"",imageHash:Date.now()},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getNibedakPhoto()}},{key:"componentDidUpdate",value:function(e){e.success!==this.props.success&&this.props.getNibedakPhoto(),e.permitData!==this.props.permitData&&this.setState({existingPhoto:this.props.permitData.photo,imageHash:Date.now()})}},{key:"render",value:function(){var e=this,t=this.props,a=t.permitData,n=t.loading,o=t.errors;if(a){var c,i=a.photo;return c=Object(O.h)(i,"/"),m.a.createElement(m.a.Fragment,null,m.a.createElement(f.a,{loading:this.props.loading},m.a.createElement(g.c,{initialValues:{photo:i},validationSchema:x,enableReinitialize:!0,onSubmit:function(){var t=Object(l.a)(r.a.mark(function t(a,n){var l,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.setSubmitting(!0),l=new FormData,!(o=a.photo)){t.next=18;break}return o.forEach(function(e){return l.append("photo",e)}),t.prev=5,t.next=8,e.props.postNibedakPhoto("".concat(y.a.buildPermit).concat(e.props.permitData.applicantNo),l);case 8:e.props.success&&e.props.success.success&&Object(O.x)("File uploaded"),n.setSubmitting(!1),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),n.setSubmitting(!1),console.log("File upload failed",t.t0);case 16:t.next=19;break;case 18:n.setError("Please select a file before uploading.");case 19:case"end":return t.stop()}},t,null,[[5,12]])}));return function(e,a){return t.apply(this,arguments)}}()},function(t){var a=t.handleSubmit,n=(t.errors,t.setFieldValue,t.values),r=e.state,l=r.existingPhoto,o=r.imageHash;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,e.props.errors&&m.a.createElement(j.b,{message:e.props.errors.message}),m.a.createElement(b.a,{horizontal:!0},N.r)," ",m.a.createElement(C.b,{name:"photo",fileCatId:"photo",hasMultipleFiles:!1}),m.a.createElement(E.a,{relaxed:!0},m.a.createElement(E.a.Header,null,"Existing Files"),m.a.createElement("div",{className:"previewFileUpload"},n.photo?m.a.createElement("div",{key:l,className:"eachPreviewFile viewFileSuccess",title:c},m.a.createElement("img",{src:"".concat(Object(v.c)()).concat(l,"?").concat(o),alt:"imageFile",onClick:function(){return e.setState({imageOpen:!0,src:"".concat(Object(v.c)()).concat(l,"?").concat(o)})}})):m.a.createElement(E.a.Item,null,"No files uploaded."))),m.a.createElement(h.a,{primary:!0,type:"submit",onClick:a},"Upload"),m.a.createElement(w.a,{visible:e.state.imageOpen,onClose:function(){return e.setState({imageOpen:!1})},images:[e.state.src?{src:e.state.src,alt:"nibedak photo"}:{src:"".concat(Object(v.c)()).concat(e.state.existingPhoto),alt:"nibedak photo"}],zIndex:1e4})))})))}return m.a.createElement(D.b,{loading:n,errors:o})}}]),a}(u.Component),M={getNibedakPhoto:p.a,postNibedakPhoto:p.c};t.a=Object(d.b)(function(e){return{permitData:e.root.formData.permitDataNew,success:e.root.formData.success,loading:e.root.ui.loading,errors:e.root.ui.errors}},M)(F)},599:function(e,t,a){"use strict";a.d(t,"a",function(){return k});var n=a(73),r=a(46),l=a.n(r),o=a(82),c=a(25),i=a(26),s=a(39),u=a(38),m=a(0),d=a.n(m),p=a(847),f=a(831),b=a(208),E=a(119),h=a(35),g=a(13),v=a(559),y=a(562),O=a(56),j=a(126),C=a(598),S=a(609),w=a(36),D=a(109),N=a(610),k=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmitModal=function(){n.setState({submitting:!0});var e=function(){var e=Object(o.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.state.files.map(function(){var e=Object(o.a)(l.a.mark(function e(t){var a,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.files,r=new FormData,o=n.props.permitData.applicantNo,!a){e.next=17;break}return a.forEach(function(e){return r.append("file",e)}),r.append("fileType",t.fileCatId),r.append("applicationNo",o),e.prev=7,e.abrupt("return",n.props.postFileWithProgress("".concat(Object(w.a)()).concat(D.a.fileUpload).concat(o),r,t.fileCatName));case 11:return e.prev=11,e.t0=e.catch(7),console.log("File upload failed",e.t0),e.abrupt("return",[]);case 15:e.next=19;break;case 17:return console.log("Please select a file before uploading."),e.abrupt("return",[]);case 19:case"end":return e.stop()}},e,null,[[7,11]])}));return function(t){return e.apply(this,arguments)}}()));case 2:n.setState({files:[],isFileUploading:!1}),n.props.handleSubmit();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();n.state.files.length>0?(n.setState({isFileUploading:!0}),e()):n.props.handleSubmit(),n.setState({submitting:!1})},n.handleFileChange=function(e){n.setState(function(t){return{files:Object(N.a)(t.files,e)}})},n.handleModalOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n.state={open:!1,isFileUploading:!1,submitting:!1,files:[]},n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e.success!==this.props.success&&this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.hasSavePermission,r=t.hasDeletePermission,l=t.isSaveDisabled,o=t.handleSubmit,c=t.prevData,i=t.errors,s=t.formName,u=t.fileCategories,m=t.validateForm,y=t.formUrl,O=void 0===y?"":y,w=t.fileLoading,D=this.state,N=D.open,k=D.isFileUploading,T=D.submitting,A=Object(g.s)(c),x=u&&u.some(function(e){return e.viewUrl&&e.viewUrl.trim()===O.trim()});return a?d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,{key:"save-confirmation",closeIcon:!0,open:N,onClose:this.handleClose},d.a.createElement(p.a.Header,null,v.j.uploadFileReminder),k?d.a.createElement(p.a.Content,null,d.a.createElement("div",null,v.j.fileUploading),w&&Object.entries(w).map(function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return d.a.createElement(f.a,{percent:r.percent,progress:!0,success:!0,indicating:!0},a)})):d.a.createElement(p.a.Content,{scrolling:!0},O===j.a.BUILD_PERMIT&&d.a.createElement(C.a,null),d.a.createElement(S.a,{url:O,hasDeletePermission:r,fileCategories:u,handleFileChange:this.handleFileChange})),d.a.createElement(p.a.Actions,null,d.a.createElement(b.a,{disabled:k||T,negative:!0,onClick:this.handleClose},"Exit"),d.a.createElement(b.a,{type:"submit",positive:!0,icon:"checkmark",loading:k||T,disabled:k||T,labelPosition:"right",content:A?"Save Form":"Update Form",onClick:this.handleSubmitModal}))),d.a.createElement(b.a,{type:"button",className:"success-button",content:A?"Save":"Update",icon:"save",disabled:l,onClick:function(){Object(g.s)(i)||i.hasOwnProperty("uploadFile")&&1===Object.keys(i).length?x?m?m().then(function(t){(Object(g.s)(t)||t.hasOwnProperty("uploadFile")&&1===Object.keys(t).length)&&e.handleModalOpen()}):e.handleModalOpen():o():function(){for(var e=document.forms[s||0],t=function(t){if(Object.keys(i).some(function(a){return e[t].name.includes(a)}))return e[t].focus(),"break"},a=0;a<e.length;a++){if("break"===t(a))break}}()}}),l&&d.a.createElement(E.a,{basic:!0,color:"green",size:"large"},d.a.createElement(h.a,{name:"check"}),Object(g.o)("A"))):null}}]),a}(d.a.Component),T={postFileValidation:y.g,postFileWithProgress:y.h,deleteFile:y.a};t.b=Object(O.b)(function(e){return{fileCategories:e.root.formData.fileCategories,fileLoading:e.root.ui.fileLoading,success:e.root.formData.success,permitData:e.root.formData.permitData}},T)(k)},603:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(73),r=a(0),l=a.n(r),o=a(847),c=a(198),i=a(550),s=a(208),u=a(12),m=a(11),d=a(57),p=function(e){var t=e.langModalOpen,a=e.setLangModalOpen,p=Object(d.a)(),f=Object(r.useState)(p),b=Object(n.a)(f,2),E=b[0],h=b[1];return l.a.createElement("div",null,l.a.createElement(o.a,{open:t,onClose:function(){return a(!1)},style:{width:"50%"}},l.a.createElement(o.a.Header,null,"Select Keyboard Layout"),l.a.createElement(o.a.Content,{scrolling:!0},l.a.createElement(c.a,{centered:!0},l.a.createElement(c.a.Row,null,l.a.createElement(c.a.Column,{width:8,verticalAlign:"middle"},l.a.createElement(i.a.Field,null,l.a.createElement("div",{className:"ui radio checkbox",onClick:function(){return h(m.A)}},l.a.createElement("input",{type:"radio",tabindex:"0",value:m.A,checked:E===m.A}),l.a.createElement("label",{style:{paddingTop:"2.5px",cursor:"pointer"}},"Romanized")))),l.a.createElement(c.a.Column,{width:8,verticalAlign:"middle"},l.a.createElement(i.a.Field,null,l.a.createElement("div",{className:"ui radio checkbox",onClick:function(){return h(m.u)}},l.a.createElement("input",{type:"radio",tabindex:"0",value:m.u,checked:E===m.u,readOnly:!0}),l.a.createElement("label",{style:{paddingTop:"2.5px",cursor:"pointer"}},"Traditional"))))))),l.a.createElement(o.a.Actions,null,l.a.createElement(s.a,{primary:!0,className:"primaryButton",onClick:function(){Object(u.b)(m.p,E),a(!1)}},"Ok"))))}},605:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"b",function(){return p});var n=a(73),r=a(213),l=a(0),o=a.n(l),c=a(545),i=a(119),s=a(53),u=a(57),m=a(122);var d=function(e){var t=e.name,a=e.line,m=e.value,d=e.setFieldValue,p=e.handleChange,f=e.error,b=e.compact,E=void 0!==b&&b,h=e.label,g=void 0===h?null:h,v=Object(r.a)(e,["name","line","value","setFieldValue","handleChange","error","compact","label"]),y=Object(l.useState)(m),O=Object(n.a)(y,2),j=O[0],C=O[1],S=Object(s.a)(j)?"text-input":f?"error":"success";return o.a.createElement(o.a.Fragment,null,g||"",o.a.createElement(c.a,Object.assign({},v,{name:t,onChange:d?function(e){var a=Object(u.b)(e,Object(u.a)());C(a),d(t,a)}:p,className:"dashedForm-control bpf-inputType ".concat(S," ").concat(a," ").concat(E?"compact-form-input":void 0),value:j||m})),f&&o.a.createElement(i.a,{pointing:"left",prompt:!0,size:"large",basic:!0,color:"red"},f))},p=function(e){var t=e.name,a=Object(r.a)(e,["name"]);return o.a.createElement(m.a,null,function(e){var n=e.field,r=e.form,l=Object(m.d)(r.errors,t),u=Object(m.d)(r.values,t),d=Object(s.a)(u)?"text-input":l?"error":"success";return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,Object.assign({name:t,onChange:n.onChange,className:"dashedForm-control bpf-inputType ".concat(d),value:u},a)),l&&o.a.createElement(i.a,{pointing:"left",prompt:!0,size:"small",basic:!0,color:"red"},l))})}},606:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(51),r=a(7),l=a(17),o=a(73),c=a(0),i=a(13),s=a(580),u=function(e,t,a){var u=Object(c.useState)(0),m=Object(o.a)(u,2),d=m[0],p=m[1],f=Object(c.useState)(null),b=Object(o.a)(f,2),E=b[0],h=b[1],g=Object(c.useState)({}),v=Object(o.a)(g,2),y=v[0],O=v[1];return Object(c.useEffect)(function(){var t=e.find(function(e){return"application_no"===e.columnName}),a=e.find(function(e){return e.type===s.a.FLOOR_TABLE});h(a&&a.id?[a.id]:null),t&&p(t.id)},[e]),Object(c.useEffect)(function(){var e=Object(i.s)(t)&&E?Object(l.a)({},E[0],a.floor):t;e&&!Object(i.s)(e)&&O(e)},[E]),{complexDataIndices:E,initialValues:y,getDataToSend:function(e,t){var a=Object(r.a)({},e);if(d&&(a=Object(r.a)(Object(r.a)({},e),{},Object(l.a)({},d,t))),E){var o,c=Object(n.a)(E);try{for(c.s();!(o=c.n()).done;){var i=o.value;a=Object(r.a)(Object(r.a)({},a),{},Object(l.a)({},i,JSON.stringify(a[i])))}}catch(s){c.e(s)}finally{c.f()}}return a}}}},607:function(e,t,a){"use strict";var n=a(25),r=a(26),l=a(39),o=a(38),c=a(0),i=a.n(c),s=a(122),u=a(570),m=a.n(u),d=a(550),p=a(198),f=a(829),b=a(850),E=a(35),h=a(847),g=a(56),v=a(562),y=a(564),O=a(210),j=a(36),C=a(13),S=a(211),w=a(588),D=a(212),N=a(560),k=a(573),T=a(559),A=a(561),x=a(576),F=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={open:!1,modalUrl:"",currImg:0,id:"",isDeleteModalOpen:!1,formOptions:[],selectedForm:"",fileCategories:[]},e.getFormWiseCategory=function(t){return e.props.fileCategories.filter(function(e){return String(e.formId)===String(t)})},e.handleFormSelection=function(t){e.setState({selectedForm:t,fileCategories:e.getFormWiseCategory(t)})},e.show=function(t,a){return function(){e.setState({size:t,open:!0,modalUrl:a})}},e.close=function(){return e.setState({open:!1})},e.componentDidMount=function(){e.props.getPermitAndUserData(),e.props.files?e.props.getUploadedFilesMaster(!0):e.props.getUploadedFilesMaster()},e.handleDeleteModalOpen=function(t){e.setState({isDeleteModalOpen:!0,id:t})},e.handleDeleteModalClose=function(){e.setState({isDeleteModalOpen:!1})},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){if(e.success!==this.props.success&&this.props.success&&this.props.getUploadedFiles(),e.formMaster!==this.props.formMaster){var t=this.props.fileCategories?this.props.fileCategories.map(function(e){return String(e.formId)}):[],a=this.props.formMaster.filter(function(e){return t.includes(String(e.id))}),n=a&&a.length>0?a.map(function(e){return{value:e.id,text:e.name}}):[],r=this.props.url?this.props.url:n&&n.length>0?n[0].value:"",l=this.getFormWiseCategory(r);this.setState({formOptions:n,selectedForm:r,fileCategories:l})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.formOptions,n=t.selectedForm,r=t.fileCategories;if(this.props.permitData&&this.props.userData&&this.props.fileCategories&&this.props.formMaster){var l=this.state,o=l.open,c=l.size,u=l.modalUrl,g=this.props,v=g.files,y=g.prevData,F=g.userData,M=g.Durl,R=!1;if(y)try{R=Object(D.g)(M,y,F)}catch(_){R=!1}return i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a,null,i.a.createElement("h2",{className:"bottom-margin"},T.f.fileList)),i.a.createElement(s.c,{initialValues:{formName:this.props.url||1},render:function(t){return i.a.createElement("div",null,i.a.createElement(d.a,{loading:t.isSubmitting},a.length<1?i.a.createElement(k.a,{content:T.f.noFormWithFile}):i.a.createElement(x.a,{label:T.f.selectForm,options:a,name:"selectedForm",value:n,handleChange:e.handleFormSelection,bold:!0})),i.a.createElement("br",null),r.length>0?i.a.createElement("div",null,i.a.createElement(p.a,{columns:2,divided:!0,doubling:!0,padded:!0},r.map(function(t,a){return i.a.createElement(p.a.Column,{key:a},e.props.errors&&i.a.createElement(S.b,{message:e.props.errors.message}),i.a.createElement(f.a,{horizontal:!0},t.name)," ",i.a.createElement(b.a,{relaxed:!0},i.a.createElement(b.a.Header,null,"Existing Files"),i.a.createElement("div",{className:"previewFileUpload"},v&&v.length>0&&v.some(function(e){return e.fileType.id===t.id})?v.filter(function(e){return e.fileType.id===t.id}).map(function(t){var a=Object(C.h)(t.fileUrl,"/");return i.a.createElement("div",{key:t.fileUrl,className:"eachPreviewFile viewFileSuccess",title:a},i.a.createElement(i.a.Fragment,null,i.a.createElement(N.f,{src:t.fileUrl,alt:a,onClick:function(){e.setState({imageOpen:!0,currImg:{src:"".concat(Object(j.c)()).concat(t.fileUrl)}})}}),R&&i.a.createElement(E.a,{name:"close",className:"closeImg",onClick:function(){return e.handleDeleteModalOpen(t.id)}})))}):i.a.createElement(b.a.Item,null,"No files uploaded."))),i.a.createElement(m.a,{visible:e.state.imageOpen,onClose:function(){return e.setState({imageOpen:!1})},images:[e.state.currImg],zIndex:1e4}))}))):i.a.createElement(k.a,{content:T.f.noFileCategoryForm}))}}),i.a.createElement(h.a,{size:c,open:o,onClose:this.close},i.a.createElement(h.a.Content,null,i.a.createElement("img",{src:u,alt:""}))),i.a.createElement(w.a,{open:this.state.isDeleteModalOpen,onClose:this.handleDeleteModalClose,history:this.props.parentHistory,loadingModal:this.props.loadingModal,id:this.state.id,deleteFile:function(){return e.props.deleteFile(e.state.id)}}))}return i.a.createElement(O.b,{errors:this.props.errors,loading:this.props.loading})}}]),a}(c.Component),M={getPermitAndUserData:y.f,getUploadedFilesMaster:v.d,deleteFile:v.a};t.a=Object(g.b)(function(e){return{permitData:e.root.formData.permitData,userData:e.root.formData.userData,files:e.root.formData.files,fileCategories:e.root.formData.fileCategories,formMaster:e.root.formData.formMaster,loading:e.root.ui.loading,errors:e.root.ui.errors}},M)(F)},609:function(e,t,a){"use strict";var n=a(25),r=a(26),l=a(39),o=a(38),c=a(0),i=a.n(c),s=a(550),u=a(829),m=a(119),d=a(850),p=a(35),f=a(56),b=a(562),E=a(122),h=a(13),g=a(211),v=a(553),y=a(36),O=a(570),j=a.n(O),C=a(588),S=a(560),w=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleChange=function(e,t){var a=Array.from(e.target.files);r.props.handleFileChange({fileCatId:t,files:a})},r.handleDeleteModalOpen=function(e){r.setState({isDeleteModalOpen:!0,id:e})},r.handleDeleteModalClose=function(){r.setState({isDeleteModalOpen:!1})},r.state={currImg:0,id:"",isDeleteModalOpen:!1,applicationNo:e.permitData&&e.permitData.applicationNo},r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){e.success!==this.props.success&&this.props.success&&this.state.applicationNo&&this.props.getUploadedFilesValidation(this.state.applicationNo)}},{key:"render",value:function(){var e=this,t=this.props,a=t.files,n=t.hasDeletePermission;return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{loading:this.props.loading},i.a.createElement(i.a.Fragment,null,this.props.fileCategories.filter(function(t){return t.viewUrl&&t.viewUrl.trim()===e.props.url}).map(function(t){var r=a&&a.length>0?a.filter(function(e){return e.fileType.id===t.id}):[];return i.a.createElement("div",{key:t.id},e.props.errors&&i.a.createElement(g.b,{message:e.props.errors.message}),i.a.createElement(u.a,{horizontal:!0},t.name)," ",i.a.createElement(E.a,null,function(a){a.field;var n,l,o=a.form,c=Object(E.d)(o.errors,"uploadFile._".concat(t.id)),u=o.values;return i.a.createElement(s.a.Field,{error:!!c},i.a.createElement(E.a,{type:"file",name:"uploadFile._".concat(t.id),id:"file_".concat(t.id),multiple:Object(h.q)(t.isMultiple),value:void 0,onChange:function(a){var n=Array.from(a.target.files);e.props.handleFileChange({fileCatId:t.id,fileCatName:t.name,files:n}),o.setFieldValue("uploadFile._".concat(t.id),n);var r=n.map(function(e,t){return{file:e,id:t,src:window.URL.createObjectURL(e)}});o.setFieldValue("imagePreviewUrl._".concat(t.id),r)},validate:(n=t.isRequired,l=r.length>0,l?v.s:n&&"Y"===n?v.c:v.s)}),c&&i.a.createElement(m.a,{pointing:!0,prompt:!0,size:"large"},c),Object(E.d)(u,"imagePreviewUrl._".concat(t.id))&&i.a.createElement("div",{className:"previewFileUpload"},Object(E.d)(u,"imagePreviewUrl._".concat(t.id)).map(function(e,t){return i.a.createElement("div",{key:t,className:"eachPreviewFile"},i.a.createElement(S.f,{isInput:!0,src:e.src,alt:e.file.name,type:e.file.type,title:e.file.name}))})))}),i.a.createElement(d.a,{relaxed:!0},i.a.createElement(d.a.Header,null,"Existing Files"),i.a.createElement("div",{className:"previewFileUpload"},r.length>0?r.map(function(t){var a=Object(h.h)(t.fileUrl,"/");return i.a.createElement("div",{key:t.fileUrl,className:"eachPreviewFile viewFileSuccess",title:a},i.a.createElement(i.a.Fragment,null,i.a.createElement(S.f,{src:t.fileUrl,alt:a,onClick:function(){return e.setState({imageOpen:!0,currImg:"".concat(Object(y.c)()).concat(t.fileUrl)})}}),n&&i.a.createElement(p.a,{name:"close",className:"closeImg",onClick:function(){return e.handleDeleteModalOpen(t.id)}})))}):i.a.createElement(d.a.Item,null,"No files uploaded."))),i.a.createElement(j.a,{visible:e.state.imageOpen,onClose:function(){return e.setState({imageOpen:!1})},images:[{src:e.state.currImg}],zIndex:1e4}))})),i.a.createElement(C.a,{open:this.state.isDeleteModalOpen,onClose:this.handleDeleteModalClose,history:this.props.parentHistory,loadingModal:this.props.loadingModal,id:this.state.id,deleteFile:function(){return e.props.deleteFile(e.state.id)}})))}}]),a}(c.Component),D={postFileValidation:b.g,getUploadedFilesValidation:b.e,deleteFile:b.a};t.a=Object(f.b)(function(e){return{files:e.root.formData.files,fileCategories:e.root.formData.fileCategories,success:e.root.formData.success,loading:e.root.ui.loading,errors:e.root.ui.errors,permitData:e.root.formData.permitData}},D)(w)},610:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e,t){var a=t.fileCatId;return e.filter(function(e){return e.fileCatId!==a}).concat(t)}},615:function(e,t,a){"use strict";var n=a(73),r=a(0),l=a.n(r),o=a(74),c=a(605),i=a(568),s=a(556),u=a(120),m=function(e){var t=e.label,a=e.options,n=e.setFieldValue,r=e.value,o=e.name;return l.a.createElement(l.a.Fragment,null,t&&"".concat(t)," ",l.a.createElement("div",{className:"brackets",style:{display:"inline-flex"}},"(",l.a.createElement(u.a,{name:o,onChange:function(e,t){var a=t.value;return n(o,a)},value:r,options:a})," ) ")," ")},d=a(852),p=a(569),f=function(e){var t=e.floorArray,a=e.inputType,n=e.formFieldId,r=a&&a.meta&&a.meta.header;return r?l.a.createElement("div",null,l.a.createElement(d.a,{collapsing:!0,size:"small",compact:"very",className:"certificate-ui-table"},l.a.createElement(d.a.Header,null,l.a.createElement(d.a.Row,null,l.a.createElement(d.a.HeaderCell,null,"\u0924\u0932\u093e"),Object.values(r).map(function(e){return l.a.createElement(l.a.Fragment,null,e?l.a.createElement(d.a.HeaderCell,{key:e},e):null)}))),l.a.createElement(d.a.Body,null,t.map(function(e,t){return l.a.createElement(d.a.Row,{key:e.floor},l.a.createElement(d.a.Cell,null,o.e.find(function(t){return e.floor===t.floor}).nepaliName),Object.keys(r).map(function(e){return l.a.createElement(l.a.Fragment,null,r[e]?l.a.createElement(d.a.Cell,{key:"".concat(n,".").concat(t,".").concat(e)},l.a.createElement(p.a,{label:"",name:"".concat(n,".").concat(t,".").concat(e)})):null)}))})))):null},b=a(580),E=a(579);a.d(t,"a",function(){return h});var h=function(e){var t=e.content,a=e.formikProps,u=e.inputTypes,d=e.vocabulary,p=e.permitData,h=Object(r.useState)([]),g=Object(n.a)(h,2),v=g[0],y=g[1],O=Object(r.useState)(),j=Object(n.a)(O,2),C=j[0],S=j[1],w=Object(r.useState)(),D=Object(n.a)(w,2),N=D[0],k=D[1],T=Object(r.useState)(),A=Object(n.a)(T,2),x=A[0],F=A[1],M=Object(r.useState)([]),R=Object(n.a)(M,2),_=R[0],I=R[1];if(Object(r.useEffect)(function(){var e=function(e){var t=e.replace(/\[\[/g,"").replace(/\]\]/g,"").split(E.d),a=Object(n.a)(t,3);return[a[0],a[1],a[2]]}(t),a=Object(n.a)(e,3),r=a[0],l=a[1],o=a[2],c=u.find(function(e){return e.columnName===l});if(c){k(r),F(o),S(c);var i=c.meta;if(i&&i.vocabulary){var s=d.find(function(e){return e.id===i.vocabulary});if(s){var m=s.vocabularyDetails.map(function(e){return{key:e.id||0,value:e.value,text:e.label}});y(m)}}p&&p.floor&&I(p.floor)}},[]),!C)return null;var H=C.id;switch(N){case b.a.NEPALI_DATE:return l.a.createElement(i.a,{inline:!0,name:H,label:x,setFieldValue:a.setFieldValue,value:a.values[H],error:a.errors[H]});case b.a.FLOOR_TABLE:return l.a.createElement(f,{floorArray:_,inputType:C,formFieldId:H});case b.a.DASHED_NORMAL_INPUT:return l.a.createElement(c.b,{name:H});case b.a.UNIT_DROPDOWN:return l.a.createElement(m,{name:"floorUnit",options:o.s,setFieldValue:a.setFieldValue});case b.a.DASHED_DROPDOWN:return v?l.a.createElement(s.a,{label:x,name:H,options:v}):null;case b.a.DROPDOWN:return v?l.a.createElement(s.d,{label:x,name:H,options:v}):null;default:return l.a.createElement(c.a,{name:H,label:x,setFieldValue:a.setFieldValue,value:a.values[H],error:a.errors[H]})}}},616:function(e,t,a){"use strict";var n=a(46),r=a.n(n),l=a(82),o=a(25),c=a(26),i=a(39),s=a(38),u=a(0),m=a.n(u),d=a(534),p=a(320),f=a(121),b=a(198),E=a(854),h=a(119),g=a(546),v=a(208),y=a(35),O=a(847),j=a(56),C=a(36),S=a(44),w=a.n(S),D=a(13),N=a(8),k=a(109),T=a(53),A=a(566),x=a(564),F=a(558),M=a(211),R=a(74),_=a(210),I=a(12),H=a(11),U=a(559),P=a(212),B=a(209),z=a.n(B),L=a(573),G={step1:{title:"\u092b\u093e\u0930\u092e \u092d\u0930\u094d\u0928\u0947",description:"\u0924\u092a\u093e\u0908\u0902\u0932\u0947 \u092b\u093e\u0930\u092e \u092d\u0930\u094d\u0928\u0941 \u092d\u092f\u094b"},step2:{title:"\u092e\u093e\u0925\u093f\u0915\u094b \u0924\u0939 \u092e\u093e \u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u0915\u094b \u0932\u093e\u0917\u093f \u092a\u0920\u093e\u0909\u0928\u0941"},sendToLabel:"\u092a\u0920\u093e\u0909\u0928\u0947 \u0924\u0939 \u091b\u093e\u0928\u094d\u0928\u0941 \u0939\u094b\u0938\u094d",rejected:"\u092f\u094b \u092b\u093e\u0930\u092e \u0905\u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u0917\u0930\u093f\u090f\u0915\u094b \u0939\u0941\u0901\u0926\u093e \u0905\u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u092d\u090f\u0915\u094b \u0924\u0939\u092e\u093e \u092a\u0920\u093e\u0909\u0928\u0941 \u0939\u094b\u0938\u0964",confirmation:{title:"\u092b\u093e\u0930\u092e \u092e\u093e\u0925\u093f\u0915\u094b \u0924\u0939 \u092e\u093e \u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u0915\u094b \u0932\u093e\u0917\u093f \u092a\u0920\u093e\u0909\u0928\u0941\u0939\u094b\u0938\u094d",content1:"\u0915\u0947 \u0924\u092a\u093e\u0908 \u092f\u094b \u092b\u093e\u0930\u092e ",content2:" \u0932\u093e\u0908 \u092a\u0920\u093e\u0909\u0928 \u091a\u093e\u0939\u0928\u0941\u0939\u0941\u0928\u094d\u091b \u0964",contentForcefully1:"\u092f\u094b \u092b\u093e\u0930\u092e \u092a\u0939\u093f\u0932\u0947 \u0928\u0948 \u092e\u093e\u0925\u093f\u0915\u094b \u0924\u0939 \u092e\u093e \u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u0915\u094b \u0932\u093e\u0917\u093f \u092a\u0920\u093e\u0907\u090f\u0915\u094b \u091b\u0964 \u0915\u0947 \u0924\u092a\u093e\u0908 \u092f\u094b \u092b\u093e\u0930\u092e ",contentForcefully2:" \u0932\u093e\u0908 \u092a\u0941\u0928\u0903 \u092a\u0920\u093e\u0909\u0928 \u091a\u093e\u0939\u0928\u0941\u0939\u0941\u0928\u094d\u091b \u0964",close:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",save:"\u092a\u0920\u093e\u0909\u0928 \u091a\u093e\u0939\u0928\u094d\u091b\u0941"},error:{title:"\u092e\u093e\u0925\u093f\u0915\u094b \u0924\u0939 \u0924\u094d\u0930\u0941\u091f\u093f \u0938\u0928\u094d\u0926\u0947\u0936",content:"\u092b\u093e\u0930\u092e \u092e\u093e\u0925\u093f\u0915\u094b \u0924\u0939 \u092e\u093e \u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u0915\u094b \u0932\u093e\u0917\u093f \u092a\u0920\u093e\u0909\u0928\u0947 \u0924\u0939 \u0915\u0943\u092a\u092f\u093e \u0938\u0947\u091f \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d"}};var V=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n,c,i;Object(o.a)(this,a),(n=t.call(this,e)).handleModalOpen=function(){n.setState({isConfirmationOpen:!0})},n.handleModalClose=function(){n.setState({isConfirmationOpen:!1})},n.handlePost=Object(l.a)(r.a.mark(function e(){var t,a,l,o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props.location.pathname,a=t.split("/"),l=n.props.modal?Object(P.e)(t):{groupId:a[a.length-1]},o="",c="";try{o=l.groupId,c=n.state.sendTo}catch(r){o="",c=""}return e.prev=5,e.next=8,n.props.postForwardToNext(o,c,n.state.needsForcefullForward,n.state.autoSaveForm);case 8:n.props.success&&n.props.success.success&&(Object(D.x)(n.props.success.data.message||"Form successfully forwarded."),n.props.history.push("/user/task-list")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log("Error in forward to next form",e.t0);case 14:case"end":return e.stop()}},e,null,[[5,11]])})),n.handleSendToSet=function(e){n.setState({sendTo:e})};try{var s=Object(R.i)(),u=n.props.location.pathname,m=u.split("/");i=e.modal?Object(D.b)(u).groupId:m[m.length-1],c=e.modal?s.find(function(e){return parseInt(e.id)===parseInt(Object(D.b)(u).groupId)}):s.find(function(e){return parseInt(e.id)===parseInt(m[m.length-1])})}catch(E){c=G.step1.title,i=0}var d=Object(I.a)(H.x),p=Object(D.e)(),f=d&&JSON.parse(d).some(function(e){return e===p.applicantNo}),b=Object(D.n)();return n.state={groupName:c?c.name:G.step1.title,groupId:i,userType:b,options:"",sendTo:"",isVisible:f,hasBeenRejected:!1,isConfirmationOpen:!1,needsForcefullForward:!1,autoSaveForm:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.scroll(0,0),this.props.clearSuccessState(),this.props.getLocalDataByKey(new P.b([new P.a(H.a,"forwardMaster"),new P.a(H.v,"rejectedStatus")]));var e=this.props.location.pathname,t=e.split("/"),a=this.props.modal?Object(D.b)(e).groupId:t[t.length-1];this.setState({groupId:a})}},{key:"componentDidUpdate",value:function(e){if(e.location.pathname!==this.props.location.pathname){this.props.getLocalDataByKey(new P.b([new P.a(H.a,"forwardMaster"),new P.a(H.v,"rejectedStatus")]));var t=this.props.location.pathname,a=t.split("/"),n=this.props.modal?Object(D.b)(t).groupId:a[a.length-1];this.setState({groupId:n})}if(e.forwardTo!==this.props.forwardTo){var r=function(e,t,a){var n=[];try{e.filter(function(e){return e.forwardBy===t&&e.formGroup===parseInt(a)}).forEach(function(e){return n.push({key:e.id,value:e.forwardTo,skipParameter:e.skipParameter,text:Object(D.p)(e.forwardTo)})})}catch(r){n=[]}return n}(this.props.forwardTo,this.state.userType,this.state.groupId),l=r.find(function(e){return e.skipParameter});if(l){var o=(c=l.skipParameter,"48"===String(c)?k.a.sansodhanSuperTippaniAdesh:"47"===String(c)?k.a.sansodhankoTippaniAdesh:"46"===String(c)?k.a.sansodhanTippani:null);o&&this.props.getFormDataWithPermit(o,function(e){return Object(R.j)(e)})}this.setState({options:r,sendTo:r&&r.length>0&&r[0].value})}var c;if(e.amountCheckForm!==this.props.amountCheckForm){var i=0;Object(D.s)(this.props.amountCheckForm)||(i=this.props.amountCheckForm.totalAmt||0),null!==i&&void 0!==i&&+i<=0&&this.setState(function(e){return{options:e.options.filter(function(e){return!e.skipParameter}),autoSaveForm:e.options.find(function(e){return e.skipParameter}).skipParameter}})}if(""!==this.state.options&&this.props.rejectedStatus!==e.rejectedStatus&&this.props.rejectedStatus&&this.props.rejectedStatus.rejectedBy&&this.setState({options:[{key:this.props.rejectedStatus.rejectedBy,value:this.props.rejectedStatus.rejectedBy,text:Object(D.p)(this.props.rejectedStatus.rejectedBy)}],sendTo:this.props.rejectedStatus.rejectedBy,hasBeenRejected:!0}),e.errors!==this.props.errors){var s=this.props.errors&&"This group is already forwarded"===this.props.errors.message;this.setState({needsForcefullForward:s})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.userType,n=t.needsForcefullForward,r=t.hasBeenRejected,l=this.props.forwardTo;return Array.isArray(l)?m.a.createElement(m.a.Fragment,null,!this.props.modal&&m.a.createElement(z.a,null,m.a.createElement("title",null,"Forward To")),m.a.createElement(d.a,{active:this.props.loading,inverted:!0,page:!0},m.a.createElement(p.a,{active:this.props.loading,inline:"centered"})),this.state.options.length<1?m.a.createElement(f.a,{floating:!0,negative:!0,className:"renew",icon:"warning circle",header:G.error.title,content:G.error.content}):m.a.createElement(b.a,{centered:!0,rows:3,padded:!0},m.a.createElement(b.a.Row,{centered:!0},m.a.createElement(E.a.Group,{ordered:!0},m.a.createElement(E.a,{completed:!0},m.a.createElement(E.a.Content,null,m.a.createElement(E.a.Title,null,this.state.groupName))),m.a.createElement(E.a,{active:!0},m.a.createElement(E.a.Content,null,m.a.createElement(E.a.Title,null,G.step2.title))))),r&&m.a.createElement(b.a.Row,null,m.a.createElement(L.a,{content:G.rejected})),m.a.createElement(b.a.Row,{centered:!0},a&&m.a.createElement(m.a.Fragment,null,m.a.createElement(h.a,{style:{lineHeight:2},basic:!0,color:"blue",size:"large"},G.sendToLabel),m.a.createElement(g.a,{options:this.state.options,value:this.state.sendTo,name:"sendTo",onChange:function(t,a){var n=a.value;return e.handleSendToSet(n)}})),m.a.createElement(v.a,{primary:!0,onClick:this.handleModalOpen,disabled:!this.state.isVisible},"Forward to Next")),m.a.createElement(b.a.Row,{centered:!0},!this.state.isVisible&&m.a.createElement(h.a,{basic:!0,color:"blue",size:"large"},m.a.createElement(y.a,{name:"info"}),U.k.taskListError)),this.props.errors&&m.a.createElement(b.a.Row,{centered:!0},m.a.createElement(M.a,{message:this.props.errors.message})),n&&m.a.createElement(b.a.Row,{centered:!0},m.a.createElement(v.a,{negative:!0,onClick:this.handleModalOpen},"Forward Forcefully"))),m.a.createElement(O.a,{key:"forward-confirmation",closeIcon:!0,open:this.state.isConfirmationOpen,onClose:this.handleModalClose},m.a.createElement(O.a.Header,null,G.confirmation.title),m.a.createElement(O.a.Content,null,m.a.createElement("h3",null,n?G.confirmation.contentForcefully1:G.confirmation.content1,""===this.state.sendTo?Object(D.p)("B"):Object(D.p)(this.state.sendTo),n?G.confirmation.contentForcefully2:G.confirmation.content2)),m.a.createElement(O.a.Actions,null,m.a.createElement(v.a,{negative:!0,onClick:this.handleModalClose},G.confirmation.close),m.a.createElement(v.a,{positive:!0,onClick:function(){e.handleModalClose(),e.handlePost()}},G.confirmation.save)))):m.a.createElement(_.b,{errors:this.props.errors,loading:this.props.loading})}}]),a}(m.a.Component),q={postForwardToNext:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(){var o=Object(l.a)(r.a.mark(function l(o){var c,i,s,u,m,d,p,f;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o({type:N.q}),c=Object(D.n)(),i=Object(D.e)(),!Object(T.a)(c)&&!Object(T.a)(i)){r.next=8;break}o({type:N.x,payload:{message:"User type or appId not found."}}),o({type:N.Q}),r.next=48;break;case 8:if(s=Object(T.a)(t)?"".concat(Object(C.a)()).concat(k.a.forwardToNext).concat(c,"/").concat(i.applicantNo,"/").concat(e):"".concat(Object(C.a)()).concat(k.a.forwardToNext).concat(c,"/").concat(i.applicantNo,"/").concat(e,"?forwaTo=").concat(t),u=Object(T.a)(t)?"".concat(Object(C.a)()).concat(k.a.forwardToNext).concat(c,"/").concat(i.applicantNo,"/").concat(e,"?forcefully=Y"):"".concat(Object(C.a)()).concat(k.a.forwardToNext).concat(c,"/").concat(i.applicantNo,"/").concat(e,"?forwaTo=").concat(t,"&forcefully=Y"),w.a.defaults.headers.common.Authorization=Object(D.j)(),!n){r.next=36;break}return m="".concat(Object(C.a)(),"api/Processing/Skip/").concat(i.applicantNo,"/").concat(n),r.prev=13,r.next=16,w.a.post(m);case 16:if("Success"!==(d=r.sent).data.data[0].message){r.next=25;break}return r.next=20,w.a.post(a?u:s);case 20:(p=r.sent).data.error?o({type:N.x,payload:p.data.error}):o({type:N.J,payload:{success:!0,data:p.data}}),o({type:N.Q}),r.next=27;break;case 25:d.data.data.some(function(e){return e.body&&e.body.error&&e.body.error.message})&&o({type:N.x,payload:{message:A.r.technicalError}});case 27:r.next=34;break;case 29:return r.prev=29,r.t0=r.catch(13),o({type:N.x,payload:r.t0}),o({type:N.Q}),r.abrupt("return");case 34:r.next=48;break;case 36:return r.prev=36,r.next=39,w.a.post(a?u:s);case 39:(f=r.sent).data.error?o({type:N.x,payload:f.data.error}):o({type:N.J,payload:{success:!0,data:f.data}}),o({type:N.Q}),r.next=48;break;case 44:r.prev=44,r.t1=r.catch(36),o({type:N.x,payload:r.t1}),o({type:N.Q});case 48:case"end":return r.stop()}},l,null,[[13,29],[36,44]])}));return function(e){return o.apply(this,arguments)}}()},getLocalDataByKey:x.d,getForwardData:F.v,getFormDataWithPermit:function(e,t){return function(){var a=Object(l.a)(r.a.mark(function a(n){var l,o,c;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(l=Object(D.e)(),n({type:N.q}),!Object(D.s)(l)){a.next=6;break}n({type:N.M}),a.next=20;break;case 6:return o="".concat(Object(C.a)()).concat(e).concat(l.applicantNo),n({type:N.z,payload:{permitData:l}}),a.prev=8,a.next=11,w.a.get(o);case 11:(c=a.sent).data.error&&"invalid application no"===c.data.error.message||(n({type:N.z,payload:{amountData:c.data.data?t(c.data.data):t(c.data)}}),n({type:N.Q})),a.next=20;break;case 15:a.prev=15,a.t0=a.catch(8),n({type:N.Q}),n({type:N.x,payload:a.t0}),console.log("Error in stuct form data fetch",a.t0);case 20:case"end":return a.stop()}},a,null,[[8,15]])}));return function(e){return a.apply(this,arguments)}}()},clearSuccessState:F.a};t.a=Object(j.b)(function(e){return{forwardTo:e.root.formData.forwardMaster,rejectedStatus:e.root.formData.rejectedStatus,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.formData.success,amountCheckForm:e.root.formData.amountData}},q)(V)},617:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l="\u0938\u0901\u0927\u093f\u092f\u093e\u0930\u0939\u0930\u0941\u0915\u094b \u0928\u093e\u092e\u092e\u093e \u091c\u093e\u0930\u0940 \u0938\u0942\u091a\u0928\u093e \u0928\u093f\u0930\u094d\u092e\u093e\u0923 \u0938\u094d\u0925\u0932\u092e\u093e \u091f\u093e\u0901\u0938\u0915\u094b \u0921\u0915\u0941\u092e\u0947\u0928\u094d\u091f",o="\u0938\u0941\u091a\u0928\u093e \u092c\u0941\u091d\u093e\u090f\u0915\u094b \u092d\u0930\u094d\u092a\u093e\u0908 \u091f\u093e\u0938 \u0924\u0925\u093e \u092e\u0941\u091a\u0941\u0932\u094d\u0915\u093e \u092b\u093e\u0908\u0932\u094d",c="\u0915\u0941\u0928\u0948 \u092b\u093e\u0908\u0932 \u0905\u092a\u0932\u094b\u0921 \u0917\u0930\u093f\u090f\u0915\u094b \u091b\u0948\u0928",i=a(560),s=a(198),u=a(829),m=a(74),d=a(573);a.d(t,"b",function(){return p}),a.d(t,"a",function(){return f});var p=function(e){var t=e.prevData,a=t&&t.fileUrl1&&Array.isArray(Object(m.u)(t.fileUrl1)),n=t&&t.fileUrl2;return r.a.createElement("div",null,r.a.createElement("div",{style:{pageBreakAfter:"always"}},r.a.createElement(s.a,null,r.a.createElement(s.a.Row,{centered:!0},r.a.createElement(u.a,{horizontal:!0},o)),r.a.createElement(s.a.Row,{centered:!0},n?r.a.createElement(i.g,{width:900,src:t.fileUrl2,alt:o}):r.a.createElement(d.a,{content:c})))),r.a.createElement("div",{className:"remove-on-print"},r.a.createElement(s.a,null,r.a.createElement(s.a.Row,{centered:!0},r.a.createElement(u.a,{horizontal:!0},l)),r.a.createElement(s.a.Row,{centered:!0},a?Object(m.u)(t.fileUrl1).map(function(e,t){return r.a.createElement("span",{style:{marginRight:"10px"}},r.a.createElement(i.c,{key:t,el:{fileUrl:e},deletable:!1}))}):r.a.createElement(d.a,{content:c})))))},f=function(e){var t=e.url,a=e.title,n=e.width,l=void 0===n?500:n;return r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement(s.a.Row,{centered:!0},r.a.createElement(u.a,{horizontal:!0},a)),r.a.createElement(s.a.Row,{centered:!0},r.a.createElement(i.a,{el:{fileUrl:t},deletable:!1,width:l}))))}},625:function(e,t,a){"use strict";var n=a(46),r=a.n(n),l=a(82),o=a(25),c=a(26),i=a(39),s=a(38),u=a(0),m=a.n(u),d=a(550),p=a(829),f=a(850),b=a(35),E=a(208),h=a(56),g=a(562),v=a(564),y=a(109),O=a(36),j=a(122),C=a(13),S=a(211),w=a(123),D=a(553),N=a(567),k=a(570),T=a.n(k),A=a(588),x=a(212),F=a(560),M=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={currImg:0,id:"",isDeleteModalOpen:!1},e.handleDeleteModalOpen=function(t){e.setState({isDeleteModalOpen:!0,id:t})},e.handleDeleteModalClose=function(){e.setState({isDeleteModalOpen:!1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getPermitAndUserData(),Object(C.s)(this.props.files)&&this.props.getUploadedFiles()}},{key:"componentDidUpdate",value:function(e){e.success!==this.props.success&&this.props.success&&this.props.getUploadedFiles()}},{key:"render",value:function(){var e=this,t=w.object().shape({uploadFile:D.b}),a=this.props,n=a.files,o=a.userData,c=a.prevData,i=a.url,s=!1;try{s=Object(x.g)(i,c,o)}catch(u){s=!1}return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{loading:this.props.loading},this.props.fileCategories&&this.props.fileCategories.filter(function(t){return t.viewUrl&&t.viewUrl.trim()===e.props.url}).map(function(a){return m.a.createElement(j.c,{key:a.id,validationSchema:t,onSubmit:function(){var t=Object(l.a)(r.a.mark(function t(n,l){var o,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l.setSubmitting(!0),o=new FormData,!(c=n.uploadFile)){t.next=20;break}return c.forEach(function(e){return o.append("file",e)}),o.append("fileType",a.id),o.append("applicationNo",e.props.permitData.applicantNo),t.prev=7,t.next=10,e.props.postFile("".concat(Object(O.a)()).concat(y.a.fileUpload).concat(e.props.permitData.applicantNo),o);case 10:e.props.success&&e.props.success.success&&(Object(C.x)(e.props.success.data.message||"File uploaded"),e.setState(function(){return{needToGet:!0}}),l.resetForm({imagePreviewUrl:[],uploadFile:""}),document.getElementById("file_".concat(a.id)).value=""),l.setSubmitting(!1),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),l.setSubmitting(!1),console.log("File upload failed",t.t0);case 18:t.next=21;break;case 20:l.setError("Please select a file before uploading.");case 21:case"end":return t.stop()}},t,null,[[7,14]])}));return function(e,a){return t.apply(this,arguments)}}()},function(t){var r=t.handleSubmit;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,e.props.errors&&m.a.createElement(S.b,{message:e.props.errors.message}),m.a.createElement(p.a,{horizontal:!0},a.name)," ",m.a.createElement(N.b,{name:"uploadFile",fileCatId:a.id,hasMultipleFiles:Object(C.q)(a.isMultiple)}),m.a.createElement(f.a,{relaxed:!0},m.a.createElement(f.a.Header,null,"Existing Files"),m.a.createElement("div",{className:"previewFileUpload"},n&&n.length>0&&n.some(function(e){return e.fileType.id===a.id})?n.filter(function(e){return e.fileType.id===a.id}).map(function(t){var a=Object(C.h)(t.fileUrl,"/");return m.a.createElement("div",{key:t.fileUrl,className:"eachPreviewFile viewFileSuccess",title:a},m.a.createElement(m.a.Fragment,null,m.a.createElement(F.f,{src:t.fileUrl,alt:a,onClick:function(){return e.setState({imageOpen:!0,currImg:"".concat(Object(O.c)()).concat(t.fileUrl)})}}),s&&m.a.createElement(b.a,{name:"close",className:"closeImg",onClick:function(){return e.handleDeleteModalOpen(t.id)}})))}):m.a.createElement(f.a.Item,null,"No files uploaded."))),m.a.createElement(E.a,{primary:!0,type:"submit",id:a.id,onClick:r},"Upload"),m.a.createElement(T.a,{visible:e.state.imageOpen,onClose:function(){return e.setState({imageOpen:!1})},images:[{src:e.state.currImg}],zIndex:1e4})))})}),m.a.createElement(A.a,{open:this.state.isDeleteModalOpen,onClose:this.handleDeleteModalClose,history:this.props.parentHistory,loadingModal:this.props.loadingModal,id:this.state.id,deleteFile:function(){return e.props.deleteFile(e.state.id)}})))}}]),a}(u.Component),R={postFile:g.f,getPermitAndUserData:v.f,getUploadedFiles:g.c,deleteFile:g.a};t.a=Object(h.b)(function(e){return{permitData:e.root.formData.permitData,userData:e.root.formData.userData,files:e.root.formData.files,fileCategories:e.root.formData.fileCategories,success:e.root.formData.success,loading:e.root.ui.loading,errors:e.root.ui.errors}},R)(M)},626:function(e,t,a){"use strict";a.d(t,"b",function(){return v}),a.d(t,"a",function(){return y});var n=a(0),r=a.n(n),l=a(198),o=a(535),c=a(119),i=a(208),s=a(35),u=a(852),m=a(849),d=a(848),p=a(212),f=a(9),b=a(49),E=a(57),h=a(559),g=a(53),v=function(e){var t=e.formUrl,a=e.statuses,n=e.isRejected,o=e.dynamic,d=void 0!==o&&o,b=Object(p.k)(t);return r.a.createElement(m.a,{trigger:d?n?r.a.createElement(i.a,{compact:!0,size:"tiny",className:n?"danger-button":"primary-btn",icon:n?"warning circle":"tag",content:"Status"}):r.a.createElement(i.a,{compact:!0,size:"tiny",className:"primary-btn",icon:"tag",content:"Status"}):n?r.a.createElement("span",null,"Status ",r.a.createElement(s.a,{color:"red",name:"warning circle"})):r.a.createElement("span",null,"Status"),hoverable:!0,flowing:!0,position:"bottom center",className:"popups"},r.a.createElement(l.a,{centered:!0,divided:!0},r.a.createElement(u.a,null,r.a.createElement(u.a.Header,null,r.a.createElement(u.a.Row,null,r.a.createElement(u.a.HeaderCell,null,h.b.user),r.a.createElement(u.a.HeaderCell,null,h.b.status))),r.a.createElement(u.a.Body,null,a&&a.map(function(e){var t=e.status,a=e.name,n=e.userType,l=e.userDesignation;return r.a.createElement(r.a.Fragment,{key:"".concat(n,"-").concat(a)},function(e,t,a,n){var l=Object(f.g)(e,t),o=l.approvalFieldName,i=l.label,m=l.className,d=l.statusLabel,p=l.color,E=l.icon;return b.enterBy===e||"N"===b[o]?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Cell,null,r.a.createElement(c.a,{className:m},a&&!Object(g.a)(a)?"".concat(a," - ").concat(n||i):n||i)),r.a.createElement(u.a.Cell,null,r.a.createElement(c.a,{color:p},r.a.createElement(s.a,{name:E}),d))))}(n,t,a,l))})))))},y=function(e){var t=e.comments,a=void 0===t?[]:t;return a.length>0?r.a.createElement(o.a,null,r.a.createElement("div",{className:"section-header"},r.a.createElement("h3",{className:"left-align"},"Rejection Comments")),r.a.createElement(d.a,null,a.filter(function(e){return"APPROVED_COMMENT"!==e.remark}).map(function(e,t){return r.a.createElement(d.a.Event,{key:t},r.a.createElement(d.a.Label,null,r.a.createElement(s.a,{name:"warning circle",color:"red"})),r.a.createElement(d.a.Content,null,r.a.createElement(d.a.Summary,null,r.a.createElement("div",{className:"flex-item-space-between"},r.a.createElement(d.a.User,null,"Rejected By: ",e.commentBy," ","(".concat(e.userTypeName,")")),r.a.createElement(d.a.Date,null,r.a.createElement(s.a,{name:"calendar check outline"}),"\u092e\u093f\u0924\u093f: ",Object(b.e)(e.commentDate.split(" ")[0])," ",Object(E.d)(e.commentDate.split(" ")[1])))),r.a.createElement(d.a.Extra,{content:!0},r.a.createElement("div",null,"Comment ",r.a.createElement("p",null,e.comment)),r.a.createElement("div",null,"Remark: ",r.a.createElement("p",null,e.remark)))))}))):r.a.createElement(o.a,null,"No Comments Found.")}},627:function(e,t,a){"use strict";a.d(t,"a",function(){return E});var n=a(25),r=a(26),l=a(39),o=a(38),c=a(0),i=a.n(c),s=a(35),u=a(848),m=a(121),d=a(49),p=a(57),f=(c.Component,"\u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u092d\u090f\u0915\u094b"),b="\u0905\u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u0917\u0930\u093f\u090f\u0915\u094b",E=function(e){var t=e.historyList;return i.a.createElement(i.a.Fragment,null,t.length>0?i.a.createElement(u.a,null,t.map(function(e,t){var a,n=(a=e.status||"")===f?{color:"green",icon:"check"}:a===b?{color:"red",icon:"close"}:{color:"purple",icon:"save"},r=n.color,l=n.icon;return i.a.createElement(u.a.Event,{key:t},i.a.createElement(u.a.Label,null,i.a.createElement(s.a,{name:"history"})),i.a.createElement(u.a.Content,null,i.a.createElement(u.a.Summary,null,i.a.createElement(u.a.User,null,"Action By: ",e.enterBy," ","(".concat(e.userType,")")),i.a.createElement(u.a.Date,{className:"kalimati-feed-date"},i.a.createElement("b",null,i.a.createElement(s.a,{name:"calendar check outline"}),"\u092e\u093f\u0924\u093f: ",Object(d.e)(e.actionDate.split(" ")[0])," ",Object(p.d)(e.actionDate.split(" ")[1])))),i.a.createElement(u.a.Meta,null,"Status:"," ",e.status&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{style:{color:r}},i.a.createElement(s.a,{name:l,color:r}),e.status)))))})):i.a.createElement(m.a,{info:!0},i.a.createElement("p",null,"No History Found.")))}},631:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(26),l=a(39),o=a(38),c=a(0),i=a.n(c),s=a(27),u=a(633),m=a(217),d=a(7),p=a(54),f=a(17),b=a(46),E=a.n(b),h=a(82),g=a(122),v=a(550),y=a(535),O=a(546),j=a(119),C=a(208),S=a(829),w=a(852),D=a(587),N=a(558),k=a(56),T=a(210),A=a(13),x=a(123),F=a(553),M=a(554),R=a(567),_=a(211),I=a(560),H=a(209),U=a.n(H),P=a(109),B=a(9),z=D.c.us_data,L=[{key:"a",value:"Y",text:"Yes"},{key:"b",value:"N",text:"No"}],G=["userStamp","userSignature","userImage"],V=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).modalOpen=function(e){r.setState({isModalOpen:!0,idToDelete:e})},r.modalClose=function(){r.setState({isModalOpen:!1})},r.handleEdit=function(e){window.scrollTo(0,0),r.setState({currentUser:{userName:e.userName,address:e.address,mobile:e.mobile,phone:e.phone,email:e.email,dbPassword:e.dbPassword,photo:e.photo,educationQualification:e.educationQualification,licenseNo:e.licenseNo,userStamp:e.stamp,loginId:e.loginId,joinDate:e.joinDate,userType:e.userType.id,userSignature:e.signature,municipalRegNo:e.municipalRegNo,status:e.status,id:e.id},isEditing:!0})},r.handleDelete=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.props.deleteUsers(t);case 3:r.props.success&&r.props.success.success&&Object(A.x)("Your data has been successfully deleted."),r.modalClose(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error",e.t0),r.modalClose();case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),r.state={currentUser:{id:0,token:"",userName:"",address:"",mobile:"",phone:"",email:"",dbPassword:"",photo:"",educationQualification:"",licenseNo:"",userStamp:"",loginId:"",joinDate:"",userType:"",userSignature:"",municipalRegNo:"",status:""},isEditing:!1,isModalOpen:!1,idToDelete:"",userTypeOptions:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(),this.props.getAdminDataByUrl([{api:"".concat(P.a.userType),objName:"userTypeMaster"}])}},{key:"componentDidUpdate",value:function(e){var t=this;e.success!==this.props.success&&setTimeout(function(){t.props.getUsers()},0),e.userTypeMaster!==this.props.userTypeMaster&&this.props.userTypeMaster&&this.setState({userTypeOptions:Object(B.e)(this.props.userTypeMaster).filter(function(e){return e.value!==B.a.DESIGNER})})}},{key:"render",value:function(){var e=this,t=["userName","userType","address","loginId","educationQualification","status"].map(function(e){return Object(f.a)({},e,F.w)}),a=["mobile","municipalRegNo"].map(function(e){return Object(f.a)({},e,F.l)}),n=x.object().shape(Object.assign.apply(Object,[{email:x.string().email("\u0907\u092e\u0947\u0932 \u0917\u0932\u0924 \u092d\u092f\u094b").required("\u092f\u094b \u092d\u0930\u094d\u0928\u0941 \u0906\u0935\u0936\u094d\u092f\u0915 \u091b")}].concat(Object(p.a)(t),Object(p.a)(a)))),r=this.props,l=r.userData,o=r.postUsers,c=r.putUsers,s=this.state,u=s.isEditing,m=s.currentUser,b=s.userTypeOptions;return l?i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,null,i.a.createElement("title",null,z.heading.heading1)),this.props.errors&&i.a.createElement(_.b,{message:this.props.errors.message}),i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},this.state.currentUser),validationSchema:n,onSubmit:function(){var t=Object(h.a)(E.a.mark(function t(a,n){var r,l,i,s,m,d,p;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.setSubmitting(!0),a.error&&delete a.error,a.id&&delete a.id,r=new FormData,l=a.userSignature,i=a.userStamp,s=a.userImage,l)for(m=0;m<l.length;m++)r.append("userSignature",l[m]);else r.append("userSignature",null);if(i)for(d=0;d<i.length;d++)r.append("userStamp",i[d]);else r.append("userStamp",null);if(s)for(p=0;p<s.length;p++)r.append("userImage",s[p]);else r.append("userImage",null);if(Object.keys(a).forEach(function(e){G.includes(e)||r.append(e,a[e])}),t.prev=11,!e.state.isEditing){t.next=17;break}return t.next=15,c(e.state.currentUser.id,r);case 15:t.next=19;break;case 17:return t.next=19,o(r);case 19:n.setSubmitting(!1),window.scrollTo(0,0),e.props.success&&e.props.success.success&&(u?Object(A.x)("The user details has been updated."):Object(A.x)("Please Check Your email for password")),t.next=29;break;case 24:t.prev=24,t.t0=t.catch(11),n.setSubmitting(!1),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 29:case"end":return t.stop()}},t,null,[[11,24]])}));return function(e,a){return t.apply(this,arguments)}}()},function(t){var a=t.handleSubmit,n=t.isSubmitting,r=t.setFieldValue,o=t.values,c=t.handleChange,s=t.errors;t.touched;return i.a.createElement(v.a,{loading:e.props.loading||n},i.a.createElement(y.a,null,i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},z.heading.heading1),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,i.a.createElement(M.h,{label:z.formdata.formdata1,name:"userName",onChange:c,error:s.userName,value:o.userName,setFieldValue:r})),i.a.createElement(v.a.Field,null,i.a.createElement(M.h,{label:z.formdata.formdata2,name:"address",onChange:c,error:s.address,value:o.address,setFieldValue:r})),i.a.createElement(v.a.Field,null,i.a.createElement(M.h,{label:z.formdata.formdata3,name:"mobile",onChange:c,error:s.mobile,value:o.mobile,setFieldValue:r})),i.a.createElement(v.a.Field,{error:!!s.email,className:"english-div"},i.a.createElement(M.c,{label:z.formdata.formdata5,name:"email",onChange:c,error:s.email,value:o.email}))),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{className:"english-div"},i.a.createElement(M.c,{label:z.formdata.formdata19,name:"loginId",readOnly:u,onChange:u?void 0:c,error:s.loginId,value:o.loginId})),i.a.createElement(v.a.Field,null,i.a.createElement(M.c,{label:z.formdata.eduQualification,name:"educationQualification",onChange:c,error:s.educationQualification,value:o.educationQualification})),i.a.createElement(v.a.Field,null,i.a.createElement(M.c,{label:z.formdata.formdata14,name:"licenseNo",onChange:c,error:s.licenseNo,value:o.licenseNo})),i.a.createElement(v.a.Field,{error:!!s.userType},z.formdata.formdata10,i.a.createElement("br",null),i.a.createElement(O.a,{value:o.userType,name:"userType",options:b,onChange:function(e,t){var a=t.value;r("userType",a)}}),s.userType&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},s.userType))),i.a.createElement(v.a.Group,{widths:"four"},i.a.createElement(v.a.Field,null,i.a.createElement(M.h,{label:z.formdata.formdata16,name:"municipalRegNo",onChange:c,error:s.municipalRegNo,value:o.municipalRegNo,setFieldValue:r})),i.a.createElement(v.a.Field,{error:!!s.status},z.formdata.formdata18,i.a.createElement("br",null),i.a.createElement(O.a,{fluid:!0,name:"status",value:o.status,options:L,onChange:function(e,t){var a=t.value;r("status",a)}}),s.status&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},s.status))),i.a.createElement(v.a.Group,{widths:"three"},i.a.createElement(v.a.Field,null,i.a.createElement("label",null,z.formdata.formdata15),i.a.createElement(R.a,{name:"userSignature",fileCatId:"userSignature",hasMultipleFiles:!1}),m.userSignature&&i.a.createElement("div",null,i.a.createElement("div",null,"Existing File"),i.a.createElement(I.c,{deletable:!1,el:{fileUrl:m.userSignature}}))),i.a.createElement(v.a.Field,null,i.a.createElement("label",null,z.formdata.formdata17),i.a.createElement(R.a,{name:"userStamp",fileCatId:"userStamp",hasMultipleFiles:!1}),m.userStamp&&i.a.createElement("div",null,i.a.createElement("div",null,"Existing File"),i.a.createElement(I.c,{deletable:!1,el:{fileUrl:m.userStamp}}))),i.a.createElement(v.a.Field,null,i.a.createElement("label",null,z.formdata.formdata12),i.a.createElement(R.a,{name:"userImage",fileCatId:"userImage",hasMultipleFiles:!1}),m.photo&&i.a.createElement("div",null,i.a.createElement("div",null,"Existing File"),i.a.createElement(I.c,{deletable:!1,el:{fileUrl:m.photo}})))),i.a.createElement("br",null),i.a.createElement(C.a,{type:"submit",className:"fileStorageSegment",onClick:a},e.state.isEditing?"Update":"Save")),i.a.createElement(S.a,null),i.a.createElement(y.a,null,i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},z.user),i.a.createElement("div",{style:{overflowX:"scroll"}},i.a.createElement(w.a,{striped:!0,celled:!0,size:"small",compact:"very",selectable:!0,style:{textAlign:"center"}},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,z.tableheads.head3),i.a.createElement(w.a.HeaderCell,null,z.tableheads.head4),i.a.createElement(w.a.HeaderCell,null,z.tableheads.head1),i.a.createElement(w.a.HeaderCell,null,z.tableheads.head2),i.a.createElement(w.a.HeaderCell,null,z.tableheads.head5),i.a.createElement(w.a.HeaderCell,null,z.tableheads.head7),i.a.createElement(w.a.HeaderCell,null,z.tableheads.head10),i.a.createElement(w.a.HeaderCell,null,"Action"))),i.a.createElement(w.a.Body,null,l.filter(function(e){return e.userType&&"D"!==e.userType.id}).map(function(t,a){return i.a.createElement(w.a.Row,{key:a},i.a.createElement(w.a.Cell,null,t.userName),i.a.createElement(w.a.Cell,null,t.address),i.a.createElement(w.a.Cell,null,t.mobile),i.a.createElement(w.a.Cell,{className:"english-div"},t.email),i.a.createElement(w.a.Cell,null,t.municipalRegNo),i.a.createElement(w.a.Cell,null,t.joinDate&&String(t.joinDate).substring(0,10)),i.a.createElement(w.a.Cell,null,t.userType.designationNepali||t.userType.designation),i.a.createElement(w.a.Cell,{width:"2"},i.a.createElement(C.a,{inverted:!0,color:"green",onClick:function(){return e.handleEdit(t)},icon:"edit",title:"Edit",size:"tiny",style:{marginBottom:"2px"}})))}))))))})):i.a.createElement(T.b,{loading:this.props.loading,errors:this.props.errors})}}]),a}(c.Component),q={getUsers:N.A,postUsers:N.O,putUsers:N.Y,deleteUsers:N.j,getAdminDataByUrl:N.k},Y=Object(k.b)(function(e){return{userTypeMaster:e.root.admin.userTypeMaster,userData:e.root.admin.userData,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.admin.success}},q)(V),Q=a(847),J=a(36),W={heading:"Add Downloads",data:{data_1:"\u0936\u0940\u0930\u094d\u0937\u0915:",data_2:"\u092b\u093e\u0907\u0932 \u091b\u093e\u0928\u094d\u0928\u0941 \u0939\u094b\u0938\u094d :",data_3:"\u092e\u093f\u0924\u093f"},existing:"Existing File",downloads:"Downloads Data",down_data:{data_1:"\u0936\u0940\u0930\u094d\u0937\u0915:",data_2:"\u092b\u093e\u0907\u0932",data_3:"\u092e\u093f\u0924\u093f",data_4:"\u0915\u093e\u0930\u094d\u092f"}},K=["fileType"].map(function(e){return Object(f.a)({},e,F.w)}),X=["file"].map(function(e){return Object(f.a)({},e,F.b)}),Z=x.object().shape(Object.assign.apply(Object,[{}].concat(Object(p.a)(K),Object(p.a)(X)))),$=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).modelClose=function(){r.setState({isModelOpen:!1})},r.modelOpen=function(e){r.setState({isModelOpen:!0,idToDelete:e})},r.handleEdit=function(e){console.log("User:",e),window.scrollTo(0,0),r.setState({currentUser:{fileType:e.fileType,file:e.file,id:e.id},isEditing:!0})},r.handleDelete=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.props.deleteDownloads(t);case 3:r.props.success&&r.props.success.success&&Object(A.x)("Your data has been successfully deleted."),r.modelClose(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error",e.t0),r.modelClose();case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),r.state={currentUser:{id:""},isEditing:!1,isModelOpen:!1,idToDelete:""},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getDownloads()}},{key:"componentDidUpdate",value:function(e){var t=this;e.success!==this.props.success&&setTimeout(function(){t.props.getDownloads()},0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.postDownloads,n=t.userData,r=t.putDownloads;return n?i.a.createElement(g.c,{validationSchema:Z,enableReinitialize:!0,initialValues:this.state.currentUser,onSubmit:function(){var t=Object(h.a)(E.a.mark(function t(n,l){var o,c,i;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l.setSubmitting(!0),n.error&&delete n.error,o=new FormData,c=n.file)for(i=0;i<c.length;i++)o.set("file",c[i]);if(o.set("fileType",n.fileType),t.prev=6,!e.state.isEditing){t.next=13;break}return console.log("isediting",e.state.currentUser.id),t.next=11,r(e.state.currentUser.id,o);case 11:t.next=15;break;case 13:return t.next=15,a(o);case 15:l.setSubmitting(!1),window.scrollTo(0,0),e.props.success&&e.props.success.success&&Object(A.x)("Your data has been successfully posted."),t.next=26;break;case 20:t.prev=20,t.t0=t.catch(6),console.log("err rroo",t.t0),l.setSubmitting(!1),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 26:case"end":return t.stop()}},t,null,[[6,20]])}));return function(e,a){return t.apply(this,arguments)}}()},function(t){var a=t.handleChange,n=t.values,r=t.handleSubmit,l=t.errors,o=t.setFieldValue,c=t.isSubmitting;return i.a.createElement(v.a,{loading:c},e.props.errors&&i.a.createElement(_.b,{message:e.props.errors.message}),i.a.createElement(U.a,null,i.a.createElement("title",null,"Add Downloads")),i.a.createElement(y.a,null,i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},W.heading),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,i.a.createElement("label",null,i.a.createElement("strong",null,W.data.data_1)),i.a.createElement(M.h,{name:"fileType",setFieldValue:o,onChange:a,error:l.fileType,value:n.fileType})),i.a.createElement(v.a.Field,null,i.a.createElement("label",null,i.a.createElement("strong",null,W.data.data_2)),i.a.createElement(R.a,{name:"file",fileCatId:"downloads",hasMultipleFiles:!1,setFieldValue:o}))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(C.a,{type:"submit",className:"fileStorageSegment",onClick:r},e.state.isEditing?"Update":"Save")),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{className:"tableSectionHeader"},W.downloads),i.a.createElement(w.a,{striped:!0,celled:!0,selectable:!0,style:{textAlign:"center"}},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,W.down_data.data_1),i.a.createElement(w.a.HeaderCell,null,W.down_data.data_2),i.a.createElement(w.a.HeaderCell,null,W.down_data.data_3),i.a.createElement(w.a.HeaderCell,null,W.down_data.data_4))),i.a.createElement(w.a.Body,null,e.props.userData.map(function(t,a){return i.a.createElement(w.a.Row,{key:a},i.a.createElement(w.a.Cell,null,t.fileType),i.a.createElement(w.a.Cell,null,t.fileUrl),i.a.createElement(w.a.Cell,null,t.uploadDate),i.a.createElement(w.a.Cell,null,i.a.createElement(C.a,{inverted:!0,color:"green",title:"Edit",size:"tiny",onClick:function(){return e.handleEdit(t)},icon:"edit"}),i.a.createElement(C.a,{inverted:!0,color:"red",title:"Delete",icon:"remove circle",size:"tiny",onClick:function(){return e.modelOpen(t.id)}}),i.a.createElement(Q.a,{close:e.modelClose,open:e.state.isModelOpen},i.a.createElement(Q.a.Content,null,i.a.createElement("p",null,"Do you want to delete this section?")),i.a.createElement(Q.a.Actions,null,i.a.createElement(C.a,{color:"green",onClick:function(){return e.handleDelete(e.state.idToDelete)},positive:!0,labelPosition:"left",icon:"checkmark",content:"Yes",title:"Confirm Delete!"}),i.a.createElement(C.a,{color:"red",onClick:e.modelClose,negative:!0,labelPosition:"left",icon:"remove",content:"No",title:"Decline Delete!"}))),i.a.createElement(C.a,{inverted:!0,color:"blue",title:"Download",size:"tiny",icon:"download",as:"a",href:"".concat(Object(J.c)()).concat(t.fileUrl),target:"_blank",rel:"noopener noreferrer"})))})))))}):i.a.createElement(T.b,{loading:this.props.loading,errors:this.props.errors})}}]),a}(c.Component),ee={getDownloads:N.o,postDownloads:N.F,putDownloads:N.Q,deleteDownloads:N.c},te=Object(k.b)(function(e){return{userData:e.root.admin.userData,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.admin.success}},ee)($),ae=a(568),ne={heading:{heading_1:"\u0906\u0930\u094d\u0925\u093f\u0915 \u0935\u0930\u094d\u0937\u0939\u0930\u0941",heading_2:"\u0906\u0930\u094d\u0925\u093f\u0915 \u0935\u0930\u094d\u0937 \u092d\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",heading_3:"\u0906\u0930\u094d\u0925\u093f\u0915 \u0935\u0930\u094d\u0937 \u0938\u0947\u091f\u092a"},table_1:{table_1_1:"\u0915\u094b\u0921 \u0928\u0902.",table_1_2:"\u0906\u0930\u094d\u0925\u093f\u0915 \u0935\u0930\u094d\u0937",table_1_3:"\u0906\u0930\u094d\u0925\u093f\u0915 \u0935\u0930\u094d\u0937 \u0938\u0941\u0930\u0941\u0935\u093e\u0924",table_1_4:"\u0906\u0930\u094d\u0925\u093f\u0915 \u0935\u0930\u094d\u0937 \u0905\u0928\u094d\u0924",table_1_5:"\u0938\u094d\u0925\u093f\u0924\u093f "},modal:{message:"\u0915\u0947 \u0924\u092a\u093e\u0908\u0902 \u092f\u094b \u0939\u091f\u093e\u0909\u0928 \u091a\u093e\u0939\u093e\u0928\u0941\u0939\u0941\u0928\u094d\u091b?",acceptText:"\u0939\u0941\u0928\u094d\u091b",cancelText:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d"}},re=[{key:"a1",value:"Y",text:"Y"},{key:"a2",value:"N",text:"N"}],le=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).modalOpen=function(e){r.setState({isModalOpen:!0,idToDelete:e})},r.modalClose=function(){r.setState({isModalOpen:!1})},r.handleDelete=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.props.deleteFiscalYear(t);case 3:r.props.success&&r.props.success.success&&Object(A.x)("Your data has been successfully deleted."),r.modalClose(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error",e.t0),r.modalClose();case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),r.handleEdit=function(e){console.log("User:",e),window.scrollTo(0,0),r.setState({formData:{endDate:e.endDate,startDate:e.startDate,status:e.status,yearCode:e.yearCode,yearName:e.yearName},isEditing:!0})},r.state={formData:{yearCode:""},isEditing:!1,isModalOpen:!1,idToDelete:""},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getFiscalYears()}},{key:"componentDidUpdate",value:function(e){var t=this;e.success!==this.props.success&&setTimeout(function(){t.props.getFiscalYears()},0)}},{key:"render",value:function(){var e=this,t=["yearCode","yearName","status"].map(function(e){return Object(f.a)({},e,F.w)}),a=["startDate","endDate"].map(function(e){return Object(f.a)({},e,F.e)}),n=x.object().shape(Object.assign.apply(Object,[{}].concat(Object(p.a)(t),Object(p.a)(a)))),r=this.props,l=r.userData,o=r.postFiscalYears;return l?i.a.createElement(g.c,{enableReinitialize:!0,initialValues:this.state.formData,validationSchema:n,onSubmit:function(){var t=Object(h.a)(E.a.mark(function t(a,n){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.setSubmitting(!0),a.error&&delete a.error,t.prev=2,!e.state.isEditing){t.next=8;break}return t.next=6,e.props.putFiscalYear(e.state.formData.yearCode,a);case 6:t.next=10;break;case 8:return t.next=10,o(a);case 10:n.setSubmitting(!1),window.scrollTo(0,0),e.props.success&&e.props.success.success&&Object(A.x)("Your data has been successfully added."),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(2),n.setSubmitting(!1),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 20:case"end":return t.stop()}},t,null,[[2,15]])}));return function(e,a){return t.apply(this,arguments)}}()},function(t){var a=t.handleSubmit,n=t.setFieldValue,r=t.values,l=t.errors,o=t.handleChange;return i.a.createElement(v.a,null,e.props.errors&&i.a.createElement(_.b,{message:e.props.errors.message}),i.a.createElement(U.a,{title:ne.heading.heading_3}),i.a.createElement("div",null," ",i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},ne.heading.heading_2),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,ne.table_1.table_1_1),i.a.createElement(M.c,{name:"yearCode",onChange:o,error:l.yearCode,value:r.yearCode})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,ne.table_1.table_1_2),i.a.createElement(ae.c,{name:"yearName",value:r.yearName,onChange:function(e,t){var a=t.value;n("yearName",a)},handleChange:o,error:l.yearName})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,ne.table_1.table_1_3),i.a.createElement(ae.b,{name:"startDate",onChange:function(e,t){var a=t.value;n("startDate",a)},handleChange:o,value:r.startDate,error:l.startDate})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,ne.table_1.table_1_4),i.a.createElement(ae.b,{name:"endDate",value:r.endDate,onChange:function(e,t){var a=t.value;n("endDate",a)},handleChange:o,error:l.endDate})),i.a.createElement(v.a.Field,{error:!!l.status},i.a.createElement("strong",null,ne.table_1.table_1_5),i.a.createElement("br",null),i.a.createElement(O.a,{placeholder:"Y",value:r.status,name:"status",options:re,onChange:function(e,t){var a=t.value;n("status",a)}}),l.status&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},l.status))),i.a.createElement("br",null),i.a.createElement(C.a,{type:"submit",onClick:a,className:"fileStorageSegment"},e.state.isEditing?"\u0905\u092a\u0921\u0947\u091f":"Save")),i.a.createElement("br",null),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},ne.heading.heading_1),i.a.createElement(w.a,{striped:!0,celled:!0,selectable:!0,style:{textAlign:"center"}},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,ne.table_1.table_1_1),i.a.createElement(w.a.HeaderCell,null,ne.table_1.table_1_2),i.a.createElement(w.a.HeaderCell,null,ne.table_1.table_1_3),i.a.createElement(w.a.HeaderCell,null,ne.table_1.table_1_4),i.a.createElement(w.a.HeaderCell,null,ne.table_1.table_1_5),i.a.createElement(w.a.HeaderCell,null,"Action"))),i.a.createElement(w.a.Body,null,e.props.userData.map(function(t,a){return i.a.createElement(w.a.Row,{key:a},i.a.createElement(w.a.Cell,null,t.yearCode),i.a.createElement(w.a.Cell,null,t.yearName),i.a.createElement(w.a.Cell,null,t.startDate),i.a.createElement(w.a.Cell,null,t.endDate),i.a.createElement(w.a.Cell,null,t.status),i.a.createElement(w.a.Cell,null,i.a.createElement(C.a,{inverted:!0,title:"Edit",color:"green",icon:"edit",size:"tiny",style:{marginBottom:"2px"},onClick:function(){return e.handleEdit(t)}}),i.a.createElement(C.a,{inverted:!0,color:"red",title:"Delete",icon:"remove circle",size:"tiny",style:{marginBottom:"2px"},onClick:function(){return e.modalOpen(t.yearCode)}}),i.a.createElement(Q.a,{close:e.modalClose,open:e.state.isModalOpen},i.a.createElement(Q.a.Content,null,i.a.createElement("p",null,ne.modal.message)),i.a.createElement(Q.a.Actions,null,i.a.createElement(C.a,{color:"green",onClick:function(){return e.handleDelete(e.state.idToDelete)},title:"Confirm Delete!",positive:!0,labelPosition:"left",icon:"checkmark",content:ne.modal.acceptText}),i.a.createElement(C.a,{color:"red",onClick:e.modalClose,title:"Decline Delete!",negative:!0,labelPosition:"left",icon:"remove",content:ne.modal.cancelText})))))}))))))}):i.a.createElement(T.b,{loading:this.props.loading,errors:this.props.errors})}}]),a}(c.Component),oe={getFiscalYears:N.r,postFiscalYears:N.I,putFiscalYear:N.S,deleteFiscalYear:N.e},ce=Object(k.b)(function(e){return{userData:e.root.admin.userData,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.admin.success}},oe)(le),ie=a(305),se=a(35),ue=a(680),me=a(576),de={header:{header_1:"\u0928\u093e\u092e",header_2:"Is Multiple",header_3:"\u092b\u0930\u094d\u092e \u0928\u093e\u092e",header_4:"\u0915\u093e\u0930\u094d\u092f",header_5:"Is Required"}},pe=[{key:"m1",value:"Y",text:"Yes"},{key:"m2",value:"N",text:"No"}],fe=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).modelClose=function(){r.setState({isModelOpen:!1})},r.modelOpen=function(e){r.setState({isModelOpen:!0,idToDelete:e})},r.handleEdit=function(e){console.log("User:",e),window.scrollTo(0,0),r.setState({currentUser:{name:e.name,isMultiple:e.isMultiple,formName:e.formName.id,isRequired:e.isRequired,id:e.id},isEditing:!0})},r.handleDelete=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.props.deleteFileStorage(t);case 3:r.props.success&&r.props.success.success&&Object(A.x)("Your data has been successfully deleted."),r.modelClose(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error",e.t0),r.modelClose();case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),r.state={currentUser:{id:""},isEditing:!1,isModelOpen:!1,idToDelete:""},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getFileStorage(),this.props.getFormNameMasterData()}},{key:"componentDidUpdate",value:function(e){var t=this;e.success!==this.props.success&&Object(ue.setTimeout)(function(){t.props.getFileStorage(),t.props.getFormNameMasterData()},0)}},{key:"render",value:function(){var e=this,t=["name","isMultiple","formName","isRequired"].map(function(e){return Object(f.a)({},e,F.w)}),a=x.object().shape(Object.assign.apply(Object,[{}].concat(Object(p.a)(t)))),n=this.props,r=n.postFileStorage,l=n.formNames,o=n.userData,c=n.putFileStorage;if(l&&o){var s=[];return l.map(function(e){return s.push({value:e.id,text:e.name})}),i.a.createElement(g.c,{enableReinitialize:!0,validationSchema:a,initialValues:this.state.currentUser,onSubmit:function(){var t=Object(h.a)(E.a.mark(function t(a,n){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.setSubmitting(!0),a.error&&delete a.error,a.formName=a.formName.toString(),console.log(a),t.prev=4,!e.state.isEditing){t.next=10;break}return t.next=8,c(e.state.currentUser.id,a);case 8:t.next=12;break;case 10:return t.next=12,r(a);case 12:n.setSubmitting(!1),window.scrollTo(0,0),e.props.success&&e.props.success.success&&Object(A.x)("Your data has been successfully posted."),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(4),n.setSubmitting(!1),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 22:case"end":return t.stop()}},t,null,[[4,17]])}));return function(e,a){return t.apply(this,arguments)}}()},function(t){var a=t.values,n=t.setFieldValue,r=t.handleSubmit,l=(t.handleChange,t.errors),o=t.handleReset;return i.a.createElement(v.a,null,e.props.errors&&i.a.createElement(_.b,{message:e.props.errors.message}),i.a.createElement(U.a,null,i.a.createElement("title",null,"File Storage Category")),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"File Storage Category",i.a.createElement(C.a,{basic:!0,style:{right:6,top:6,position:"absolute"},inverted:!0,type:"reset",onClick:function(){o(),e.setState({currentUser:{},isEditing:!1})}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"file outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"}))," ","Add File Category"))),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,de.header.header_1),i.a.createElement(M.b,{name:"name",setFieldValue:n,error:l.name,value:a.name})),i.a.createElement(v.a.Field,{error:!!l.isMultiple},i.a.createElement("strong",null,de.header.header_2),i.a.createElement("br",null),i.a.createElement(O.a,{placeholder:"Yes",value:a.isMultiple,name:"isMultiple",options:pe,onChange:function(e,t){var a=t.value;n("isMultiple",a)}}),l.isMultiple&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},l.isMultiple)),i.a.createElement(v.a.Field,{error:!!l.formName},i.a.createElement("strong",null,de.header.header_3),i.a.createElement("br",null),i.a.createElement(me.a,{placeholder:"\u0938\u0902\u0938\u094b\u0927\u0928 \u092c\u093f\u0932 \u092d\u0941\u0915\u094d\u0924\u093e\u0928\u0940",value:a.formName,name:"formName",options:s,handleChange:function(e){n("formName",e)}}),l.formName&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},l.formName)),i.a.createElement(v.a.Field,{error:!!l.isRequired},i.a.createElement("strong",null,de.header.header_5),i.a.createElement("br",null),i.a.createElement(O.a,{placeholder:"Yes",value:a.isRequired,name:"isRequired",options:pe,onChange:function(e,t){var a=t.value;n("isRequired",a)}}),l.isRequired&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},l.isRequired))),i.a.createElement("br",null),i.a.createElement(C.a,{onClick:r,className:"fileStorageSegment"},e.state.isEditing?"Update":"Save")),i.a.createElement("br",null),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{className:"tableSectionHeader"},"File Storage Category Data"),i.a.createElement(w.a,{striped:!0,celled:!0,selectable:!0,style:{textAlign:"center"}},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null," ",de.header.header_1),i.a.createElement(w.a.HeaderCell,null," ",de.header.header_2),i.a.createElement(w.a.HeaderCell,null," ",de.header.header_3),i.a.createElement(w.a.HeaderCell,null," ",de.header.header_5),i.a.createElement(w.a.HeaderCell,null," ",de.header.header_4))),i.a.createElement(w.a.Body,null,e.props.userData.map(function(t,a){return i.a.createElement(w.a.Row,{key:a},i.a.createElement(w.a.Cell,null,t.name),i.a.createElement(w.a.Cell,null,t.isMultiple),i.a.createElement(w.a.Cell,null,t.formName&&t.formName.name),i.a.createElement(w.a.Cell,null,t.isRequired),i.a.createElement(w.a.Cell,null,i.a.createElement(C.a,{inverted:!0,color:"green",title:"Edit",size:"tiny",onClick:function(){return e.handleEdit(t)},icon:"edit"}),t.staticCategoryIdentifier?null:i.a.createElement(C.a,{inverted:!0,color:"red",title:"Delete",icon:"remove circle",size:"tiny",onClick:function(){return e.modelOpen(t.id)}}),i.a.createElement(Q.a,{close:e.modelClose,open:e.state.isModelOpen},i.a.createElement(Q.a.Content,null,i.a.createElement("p",null,"Do you want to delete this section?")),i.a.createElement(Q.a.Actions,null,i.a.createElement(C.a,{color:"green",onClick:function(){return e.handleDelete(e.state.idToDelete)},positive:!0,labelPosition:"left",icon:"checkmark",content:"Yes",title:"Confirm Delete!"}),i.a.createElement(C.a,{color:"red",onClick:e.modelClose,negative:!0,labelPosition:"left",icon:"remove",content:"No",title:"Decline Delete!"})))))})))))})}return i.a.createElement(T.b,{loading:this.props.loading,errors:this.props.errors})}}]),a}(c.Component),be={getFileStorage:N.q,postFileStorage:N.H,getFormNameMasterData:N.u,putFileStorage:N.R,deleteFileStorage:N.d},Ee=Object(k.b)(function(e){return{formNames:e.root.admin.formNames,userData:e.root.admin.userData,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.admin.success}},be)(fe),he=a(545),ge=a(556),ve=a(74),ye={size:"small",compact:"very",striped:!0,celled:!0,textAlign:"center",selectable:!0},Oe=[{key:"a",value:"1",text:"\u0928\u092f\u093e\u0901"},{key:"b",value:"2",text:"\u092a\u0941\u0930\u093e\u0928\u094b"},{key:"c",value:"3",text:"\u0924\u0932\u093e \u0925\u092a"},{key:"N",value:"N",text:"\u0928\u093e\u092e\u0938\u093e\u0930\u0940"}],je=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).modalOpen=function(e,t,a){r.setState(function(n){return{isModalOpen:!0,idToDelete:e,formData:Object(d.a)(Object(d.a)({},n.formData),{},{groupId:t,userType:a})}})},r.modalClose=function(){r.setState({isModalOpen:!1})},r.handleEdit=function(e){window.scrollTo(0,0),r.setState({formData:{userType:e.userType.id,formId:e.formId.id,groupId:e.groupId.id,groupType:e.groupType,groupPosition:e.groupPosition,previousForm:e.previousForm,id:e.id},isEditing:!0})},r.handleDelete=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.props.deleteFormDatas(t);case 3:r.props.success&&r.props.success.success&&(Object(A.x)("Your data has been successfully deleted."),r.props.getFormGroupData("".concat(r.state.formData.groupType,"-").concat(r.state.formData.userType))),r.modalClose(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error",e.t0),r.modalClose();case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),r.handleUserTypeSelect=function(e){r.props.getFormGroupData(e)},r.getGroupType=function(e){return"1"===e?"\u0928\u092f\u093e\u0901":"2"===e?"\u092a\u0941\u0930\u093e\u0928\u094b":"N"===e?"\u0928\u093e\u092e\u0938\u093e\u0930\u0940":"\u0924\u0932\u093e \u0925\u092a"},r.state={},r.state={formData:{formId:1,groupId:1,groupPosition:"1",id:"",groupType:"1",userType:"R",previousForm:1},isEditing:!1,isModalOpen:!1,idToDelete:"",formList:[],enterByOptions:[],groupOptions:[],formNameOptions:[],previousFormOptions:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getFormGroupData("1-R"),this.props.getFormNameMasterData(),this.props.getFormGroupMasterData()}},{key:"componentDidUpdate",value:function(e){if(e.userTypeMaster!==this.props.userTypeMaster&&this.props.userTypeMaster){var t=this.props.userTypeMaster,a=Object(B.e)(t);this.setState({enterByOptions:a})}if(this.props.formNames!==e.formNames&&this.props.formNames){var n=this.props.formNames.map(function(e){return{value:e.id,text:e.name}});this.setState({formNameOptions:n,previousFormOptions:[{value:"",text:"No Previous Form"}].concat(n)})}this.props.group!==e.group&&this.props.group&&this.setState({groupOptions:this.props.group.map(function(e){return{value:e.id,text:e.name}})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.enterByOptions,n=t.groupOptions,r=t.formNameOptions,l=t.previousFormOptions;return this.props.group&&this.props.formNames&&this.props.formList?i.a.createElement(g.c,{enableReinitialize:!0,initialValues:this.state.formData,onSubmit:function(){var t=Object(h.a)(E.a.mark(function t(a,n){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.setSubmitting(!0),a.error&&delete a.error,t.prev=2,!e.state.isEditing){t.next=8;break}return t.next=6,e.props.putFormDatas("".concat(e.state.formData.id),a);case 6:t.next=10;break;case 8:return t.next=10,e.props.postFormDatas(a);case 10:n.setSubmitting(!1),window.scrollTo(0,0),e.props.success&&e.props.success.success&&(Object(A.x)("Your data has been successfully added"),e.props.getFormGroupData("".concat(a.groupType,"-").concat(a.userType)),e.setState({isEditing:!1})),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(2),n.setSubmitting(!1),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 20:case"end":return t.stop()}},t,null,[[2,15]])}));return function(e,a){return t.apply(this,arguments)}}()},function(t){var o=t.handleSubmit,c=t.setFieldValue,s=t.values,u=t.isSubmitting;return i.a.createElement(v.a,{loading:u},e.props.errors&&i.a.createElement(_.b,{message:e.props.errors.message}),i.a.createElement(U.a,{title:"Form Group"}),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"Form Group"),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Group ID"),i.a.createElement(ge.e,{name:"groupId",options:n,onChange:function(e,t){var a=t.value;c("groupId",a)},value:s.groupId})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"User Type"),i.a.createElement(ge.e,{name:"userType",options:a,onChange:function(t,a){var n=a.value;c("userType",n),e.handleUserTypeSelect("".concat(s.groupType,"-").concat(n))},value:s.userType})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Group Type"),i.a.createElement(ge.e,{name:"groupType",options:Oe,onChange:function(t,a){var n=a.value;c("groupType",n),e.handleUserTypeSelect("".concat(n,"-").concat(s.userType))},value:s.groupType}))),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,"Form ID",i.a.createElement(me.a,{options:r,name:"formId",value:s.formId,handleChange:function(e){return c("formId",e)}})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Position"),i.a.createElement(he.a,{name:"groupPosition",type:"number",onChange:function(e,t){var a=t.value;c("groupPosition",a)},value:s.groupPosition})),i.a.createElement(v.a.Field,null,"Previous Form",i.a.createElement(me.a,{options:l,name:"previousForm",value:s.previousForm,handleChange:function(e){return c("previousForm",e)}}))),i.a.createElement("br",null),i.a.createElement(C.a,{onClick:o,className:"fileStorageSegment"},e.state.isEditing?"Update":"Save")),i.a.createElement("br",null),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"Form Group Data"),i.a.createElement(w.a,ye,i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"User"),i.a.createElement(w.a.HeaderCell,null,"Group"),i.a.createElement(w.a.HeaderCell,null,"Group Type"),i.a.createElement(w.a.HeaderCell,null,"Form"),i.a.createElement(w.a.HeaderCell,null,"Position"),i.a.createElement(w.a.HeaderCell,null,"Previous Form"),i.a.createElement(w.a.HeaderCell,null,"Action"))),i.a.createElement(w.a.Body,null,e.props.formList.map(function(t,n){var r=Object(ve.m)(t.previousForm,l);return i.a.createElement(w.a.Row,{key:n},i.a.createElement(w.a.Cell,null,Object(ve.m)(t.userType.id,a)),i.a.createElement(w.a.Cell,null,t.groupId.name),i.a.createElement(w.a.Cell,null,e.getGroupType(t.groupType)),i.a.createElement(w.a.Cell,null,t.formId.name),i.a.createElement(w.a.Cell,null,t.groupPosition),i.a.createElement(w.a.Cell,null,r),i.a.createElement(w.a.Cell,null,i.a.createElement(C.a,{inverted:!0,title:"Edit",color:"green",onClick:function(){return e.handleEdit(t)},icon:"edit",size:"tiny",style:{marginBottom:"2px"}}),i.a.createElement(C.a,{inverted:!0,color:"red",title:"Delete",icon:"remove circle",onClick:function(){return e.modalOpen(t.id,t.groupId.id,t.userType.id)},size:"tiny"}),i.a.createElement(Q.a,{close:e.modalClose,open:e.state.isModalOpen},i.a.createElement(Q.a.Content,null,i.a.createElement("p",null,"Do you want to delete this section?")),i.a.createElement(Q.a.Actions,null,i.a.createElement(C.a,{color:"green",onClick:function(){return e.handleDelete(e.state.idToDelete)},positive:!0,labelPosition:"left",icon:"checkmark",content:"Yes",title:"Confirm Delete!"}),i.a.createElement(C.a,{color:"red",onClick:e.modalClose,negative:!0,labelPosition:"left",icon:"remove",content:"No",title:"Cancel"})))))})))))}):i.a.createElement(T.b,{loading:this.props.loading,errors:this.props.errors})}}]),a}(c.Component),Ce={getFormGroupData:N.s,getFormNameMasterData:N.u,getFormGroupMasterData:N.t,postFormDatas:N.J,putFormDatas:N.T,deleteFormDatas:N.f},Se=Object(k.b)(function(e){return{formNames:e.root.admin.formNames,userTypeMaster:e.root.admin.userTypeMaster,group:e.root.admin.group,loading:e.root.ui.loading,formList:e.root.admin.formList,errors:e.root.ui.errors,success:e.root.admin.success}},Ce)(je),we=a(73),De=function(e,t){var a=Object(c.useState)(!1),n=Object(we.a)(a,2),r=n[0],l=n[1],o=Object(c.useState)(!1),i=Object(we.a)(o,2),s=i[0],u=i[1],m=Object(c.useState)(!1),p=Object(we.a)(m,2),f=p[0],b=p[1],E=Object(c.useState)(!1),h=Object(we.a)(E,2),g=h[0],v=h[1],y=Object(c.useState)(e),O=Object(we.a)(y,2),j=O[0],C=O[1];Object(c.useEffect)(function(){t&&t.success&&(g?(Object(A.x)("Data deleted successfully"),u(!1),v(!1)):(Object(A.x)("Data saved successfully"),l(!1),b(!1)))},[t]);return{isEditing:f,isDeleting:g,formState:j,openAddModal:r,openDeleteModal:s,handleAdd:function(){C(Object(d.a)({},e)),b(!1),v(!1),l(!0)},handleEdit:function(e){l(!0),b(!0),v(!1),C(Object(d.a)({},e))},handleDelete:function(e){u(!0),v(!0),b(!1),C(Object(d.a)({},e))},setOpenAddModal:l,setOpenDeleteModal:u,resetFormState:function(){b(!1),v(!1),u(!1),l(!1),C(e)}}},Ne=function(e,t){var a=Object(c.useState)(!1),n=Object(we.a)(a,2),r=n[0],l=n[1],o=Object(c.useState)(!1),i=Object(we.a)(o,2),s=i[0],u=i[1],m=Object(c.useState)(!1),p=Object(we.a)(m,2),f=p[0],b=p[1],E=Object(c.useState)(!1),h=Object(we.a)(E,2),g=h[0],v=h[1],y=Object(c.useState)(e),O=Object(we.a)(y,2),j=O[0],C=O[1];Object(c.useEffect)(function(){t&&t.success&&(g?(Object(A.x)("Data deleted successfully"),u(!1),v(!1)):(Object(A.x)("Data saved successfully"),l(!1),b(!1)))},[t]);return{isEditing:f,isDeleting:g,formState:j,openAddModal:r,openDeleteModal:s,handleAdd:function(){C(Object(d.a)({},e)),b(!1),v(!1),l(!0)},handleEdit:function(e){l(!0),b(!0),v(!1),C(Object(d.a)({},e))},handleDelete:function(e){u(!0),v(!0),b(!1),C(Object(d.a)({},e))},handleClose:function(t){u(!1),l(!1),v(!1),b(!1),C(Object(d.a)({},e))}}},ke="__delete_success__",Te="__edit_success__",Ae="__handle_add__",xe="__handle_edit__",Fe="__handle_close__",Me="__handle_delete__",Re={isDeleting:!1,openDeleteModal:!1},_e={isEditing:!1,openAddModal:!1},Ie={tableHeader:"Table and Columns Setup",tableHeadings:{id:"Id",name:"Name",tableName:"Table Name",active:"Status",actions:"Actions"}},He={titleAdd:"Add Table",titleEdit:"Edit Table",saveText:"Save Table",editText:"Update Table",deleteText:"Delete Table",delete:{title:"Delete Table",content:"Are you sure you want to delete this row?"}},Ue={titleAdd:"Add Column",titleEdit:"Edit Column",saveText:"Save Column",editText:"Update Column",deleteText:"Delete Column",delete:{title:"Delete Column",content:"Are you sure you want to delete this column?"}},Pe={tableHeader:"Form Name Master Setup",tableHeadings:{id:"Id",name:"Name",viewUrl:"View URL",pageCode:"Page Code",tableName:"Table Name",enterBy:"Enter By",actions:"Actions"}},Be={titleAdd:"Add Form",titleEdit:"Edit Table",saveText:"Save Table",editText:"Update Table",deleteText:"Delete Table",delete:{title:"Delete Table",content:"Are you sure you want to delete this row?"}},ze={tableHeader:"Vocabulary Setup",tableHeadings:{id:"Id",name:"Name",actions:"Actions"}},Le={titleAdd:"Add Vocabulary",titleEdit:"Edit Vocabulary",saveText:"Save Vocabulary",editText:"Update Vocabulary",deleteText:"Delete Vocabulary",delete:{title:"Delete Vocabulary",content:"Are you sure you want to delete this row?"}},Ge=a(555),Ve=function(e){var t=e.handleEdit,a=e.row;return i.a.createElement(C.a,{inverted:!0,title:"Edit",type:"reset",color:"green",onClick:function(){t(Object(d.a)({},a))},icon:"edit",size:"tiny",style:{marginBottom:"2px"}})},qe=function(e){var t=e.handleDelete,a=e.row;return i.a.createElement(C.a,{inverted:!0,title:"Delete",type:"reset",color:"red",icon:"delete",onClick:function(){t(a)},size:"tiny"})},Ye=function(e){var t=e.handleEdit,a=e.row,n=e.className,r=void 0===n?"":n;return i.a.createElement(C.a,{title:"Edit",type:"reset",onClick:function(){t(Object(d.a)({},a))},compact:!0,className:r||"primary-btn",icon:"edit",size:"tiny"})},Qe=function(e){var t=e.handleDelete,a=e.row,n=e.className,r=void 0===n?"":n;return i.a.createElement(C.a,{className:r||"danger-button",title:"Delete",type:"reset",icon:"delete",compact:!0,onClick:function(){t(a)},size:"tiny"})},Je=a(557),We=a(569),Ke=a(566),Xe=Pe.tableHeadings,Ze=Be,$e={id:"",name:"",viewUrl:"",pageCode:"",tableId:"",enterBy:"D",formFieldsList:[],formPermissions:[]},et=x.object().shape({name:F.w,tableId:F.w,viewUrl:F.w,pageCode:x.string().typeError(Ke.m.required).max(5,"Cant be longer than 5 letters").required(Ke.m.required),enterBy:F.w}),tt=function(e){var t=e.adminData,a=e.success,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.errors,o=e.loading,u=De($e,a),m=u.isEditing,p=u.isDeleting,f=u.formState,b=u.openAddModal,O=u.openDeleteModal,j=u.handleEdit,S=u.handleDelete,D=u.setOpenAddModal,N=u.setOpenDeleteModal,k=u.resetFormState,T=Object(s.h)(),x=Object(c.useState)([]),F=Object(we.a)(x,2),M=F[0],R=F[1],_=Object(c.useState)([]),I=Object(we.a)(_,2),H=I[0],z=I[1],L=Object(c.useState)([]),G=Object(we.a)(L,2),V=G[0],q=G[1],Y=Object(c.useState)([]),Q=Object(we.a)(Y,2);Q[0],Q[1];Object(c.useEffect)(function(){if(t.userTypeMaster&&Array.isArray(t.userTypeMaster)){var e=Object(B.e)(t.userTypeMaster);R(e)}},[t.userTypeMaster]),Object(c.useEffect)(function(){if(t.tables&&Array.isArray(t.tables)){var e=t.tables.map(function(e,t){return{key:t,value:e.id,text:e.name}});q(e)}},[t.userTypeMaster]),Object(c.useEffect)(function(){t.formNameMaster&&Array.isArray(t.formNameMaster)&&z(t.formNameMaster)},[t.formNameMaster]);return i.a.createElement("div",{className:"english-div"},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},Pe.tableHeader,i.a.createElement(C.a,{basic:!0,style:{right:2,top:4,position:"absolute"},inverted:!0,type:"reset",onClick:function(){k(),D(!0)}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"file outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"})),"  ".concat(Ze.titleAdd)))),i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},f),validationSchema:p?null:et,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{m?n(P.a.d_formNameMaster,t):p?r(P.a.d_formNameMaster,f.id):n(P.a.d_formNameMaster,t),k(),a.setSubmitting(!1)}catch(l){console.log("Error in menu master post",l),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{title:"Table Setup"}),i.a.createElement(Je.b,{key:"form-add-modal",size:"small",open:b,scroll:!1,errors:l,isSubmitting:a||o,handleSubmit:t,handleClose:function(){return D(!1)},title:"Add Form Name",saveText:m?"Edit Form Name":"Add Form Name"},i.a.createElement(v.a,{loading:a||o},i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(We.a,{name:"name",label:Xe.name}),i.a.createElement(We.a,{name:"viewUrl",label:Xe.viewUrl}),i.a.createElement(We.a,{name:"pageCode",label:Xe.pageCode})),i.a.createElement(v.a.Group,null,i.a.createElement(ge.c,{name:"tableId",label:Xe.tableName,options:V}),i.a.createElement(ge.c,{name:"enterBy",label:Xe.enterBy,options:M}))))," ",i.a.createElement(Je.b,{key:"delete-form",open:O,errors:l,isSubmitting:a||o,handleSubmit:t,handleClose:function(){return N(!1)},title:Ze.delete.title,saveText:Ze.deleteText},i.a.createElement(v.a,{loading:a||o},Ze.delete.content)))}),i.a.createElement(w.a,{sortable:!0,striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,Xe.id),i.a.createElement(w.a.HeaderCell,null,Xe.name),i.a.createElement(w.a.HeaderCell,null,Xe.tableName),i.a.createElement(w.a.HeaderCell,null,Xe.enterBy),i.a.createElement(w.a.HeaderCell,null,Xe.viewUrl),i.a.createElement(w.a.HeaderCell,null,Xe.actions))),i.a.createElement(w.a.Body,null,H.length>0?H.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.name),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.tableId,V)),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.enterBy,M)),i.a.createElement(w.a.Cell,null,e.viewUrl),i.a.createElement(w.a.Cell,null,function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{title:"Edit Permission and Fields",type:"reset",className:"success-button",onClick:function(){T.push("/admin/form-name-details/".concat(e.id))},icon:"list",size:"tiny",compact:!0}),i.a.createElement(Ye,{row:e,handleEdit:j}),i.a.createElement(Qe,{handleDelete:S,row:e}))}(e)))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"6"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))))},at=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.d_ebpsTables,objName:"tables"},{api:P.a.d_formNameMaster,objName:"formNameMaster"},{api:P.a.userType,objName:"userTypeMaster"}],updateApi:[{api:P.a.formNameMaster,objName:"formNameMaster"}],render:function(t){return i.a.createElement(tt,Object.assign({},t,{parentProps:e}))}})},nt={heading:"Delete forward to next data",content:"Are you sure you want to delete this forward to next data?"},rt=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;Object(n.a)(this,a),(r=t.call(this,e)).modalOpen=function(e){r.setState({isModalOpen:!0,idToDelete:e})},r.modalClose=function(){r.setState({isModalOpen:!1})},r.handleGroupSelect=function(e){r.setState({currentGroup:e}),r.props.getGroupwiseForwardData(e)},r.handleEdit=function(e){window.scrollTo(0,0),r.setState({formData:{id:e.id,formGroup:e.formGroup.id,forwardBy:e.forwardBy,forwardTo:e.forwardTo,skipParameter:e.skipParameter},isEditing:!0})},r.handleDelete=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.props.deleteForwardData(t);case 3:r.props.success&&r.props.success.success&&Object(A.x)("Your data has been successfully deleted."),r.modalClose(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error",e.t0),r.modalClose();case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();var l=Object(A.n)();return r.state={formData:{id:"",formGroup:1,forwardBy:"",forwardTo:"",skipParameter:""},currentGroup:1,userType:l,groupMasterOptions:[],userTypeOptions:[],formNameOptions:[],isEditing:!1,isModalOpen:!1,idToDelete:""},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getAdminDataByUrl([{api:"".concat(P.a.userType),objName:"userTypeMaster"},{api:"".concat(P.a.formGroupMaster),objName:"group"},{api:"".concat(P.a.forwardMaster,"?formGroup=1"),objName:"forwardMaster"},{api:"".concat(P.a.formNameMaster),objName:"formNameMaster"}])}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.success!==this.props.success&&setTimeout(function(){t.props.getGroupwiseForwardData(t.state.currentGroup)},0),e.userTypeMaster!==this.props.userTypeMaster&&this.props.userTypeMaster&&this.setState({userTypeOptions:Object(B.e)(this.props.userTypeMaster)}),this.props.formNameMaster!==e.formNameMaster&&this.props.formNameMaster){var a=this.props.formNameMaster.map(function(e){return{value:String(e.id),text:e.name}});this.setState({formNameOptions:[{value:"",text:"No Form"}].concat(a)})}e.group!==this.props.group&&this.props.group&&this.setState({groupMasterOptions:this.props.group.map(function(e){return{value:e.id,text:e.name}}),formData:{formGroup:1,forwardBy:"D",forwardTo:"B",skipParameter:null}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.forwardMaster,n=t.group,r=this.state,l=r.formNameOptions,o=r.groupMasterOptions,c=r.formData,s=r.userTypeOptions,u=["forwardTo","forwardBy"].map(function(e){return Object(f.a)({},e,F.w)}),m=x.object().shape(Object.assign.apply(Object,[{}].concat(Object(p.a)(u))));return a&&n?i.a.createElement(i.a.Fragment,null,i.a.createElement(g.c,{initialValues:c,enableReinitialize:!0,validationSchema:m,onSubmit:function(){var t=Object(h.a)(E.a.mark(function t(a,n){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.setSubmitting(!0),a.error&&delete a.error,t.prev=2,!e.state.isEditing){t.next=8;break}return t.next=6,e.props.putForwardData(e.state.formData.id,a);case 6:t.next=10;break;case 8:return t.next=10,e.props.postForwardData(a);case 10:n.setSubmitting(!1),window.scrollTo(0,0),e.props.success&&e.props.success.success&&Object(A.x)("Your data has been successfully added."),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(2),n.setSubmitting(!1),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 20:case"end":return t.stop()}},t,null,[[2,15]])}));return function(e,a){return t.apply(this,arguments)}}()},function(t){var n=t.values,r=t.setFieldValue,c=t.isSubmitting,u=t.handleSubmit,m=t.errors;return i.a.createElement(v.a,{loading:c},i.a.createElement(U.a,null,i.a.createElement("title",null,"Forward To")),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"Application Forwarding Setup"),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!m.formGroup},i.a.createElement("strong",null,"Form Group"),i.a.createElement(ge.e,{name:"formGroup",options:o,onChange:function(t,a){var n=a.value;r("formGroup",n),e.handleGroupSelect(n)},value:n.formGroup}),m.formGroup&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},m.formGroup)),i.a.createElement(v.a.Field,{error:!!m.forwardBy},i.a.createElement("strong",null,"Forward By"),i.a.createElement(ge.e,{name:"forwardBy",options:s,onChange:function(e,t){var a=t.value;r("forwardBy",a)},value:n.forwardBy}),m.forwardBy&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},m.forwardBy)),i.a.createElement(v.a.Field,{error:!!m.forwardTo},i.a.createElement("strong",null,"Forward To"),i.a.createElement(ge.e,{name:"forwardTo",options:s,onChange:function(e,t){var a=t.value;r("forwardTo",a)},value:n.forwardTo}),m.forwardTo&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},m.forwardTo))," ",i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"\u091b\u094b\u0921\u094d\u0928 \u0938\u0915\u093f\u0928\u0947 \u092b\u093e\u0930\u092e"),i.a.createElement(ge.e,{name:"skipParameter",options:l,onChange:function(e,t){var a=t.value;r("skipParameter",a)},value:n.skipParameter}),m.skipParameter&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},m.skipParameter))),i.a.createElement(C.a,{type:"submit",onClick:u,className:"fileStorageSegment"},e.state.isEditing?"Update":"Save")),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{className:"tableSectionHeader"},"Application Forwarding Setup Data"),i.a.createElement(w.a,{celled:!0,selectable:!0,striped:!0,style:{textAlign:"center"}},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null," Id"),i.a.createElement(w.a.HeaderCell,null,"Form Group"),i.a.createElement(w.a.HeaderCell,null,"Forward By"),i.a.createElement(w.a.HeaderCell,null,"Forward To"),i.a.createElement(w.a.HeaderCell,null,"Skipable Form"),i.a.createElement(w.a.HeaderCell,null,"Action"))),i.a.createElement(w.a.Body,null,a.map(function(t,a){return i.a.createElement(w.a.Row,{key:a},i.a.createElement(w.a.Cell,null,t.id),i.a.createElement(w.a.Cell,null,t.formGroup.name),i.a.createElement(w.a.Cell,null,Object(ve.m)(t.forwardBy,s)),i.a.createElement(w.a.Cell,null,Object(ve.m)(t.forwardTo,s)),i.a.createElement(w.a.Cell,null,Object(ve.m)(t.skipParameter,l)),i.a.createElement(w.a.Cell,null,i.a.createElement(C.a,{inverted:!0,color:"green",title:"Edit",size:"tiny",onClick:function(){return e.handleEdit(t)},icon:"edit"}),i.a.createElement(C.a,{inverted:!0,color:"red",title:"Delete",icon:"remove circle",size:"tiny",onClick:function(){return e.modalOpen(t.id)}}),i.a.createElement(Q.a,{onClose:e.modalClose,open:e.state.isModalOpen},i.a.createElement(Q.a.Header,null,nt.heading),i.a.createElement(Q.a.Content,null,i.a.createElement("p",null,nt.content)),i.a.createElement(Q.a.Actions,null,i.a.createElement(C.a,{color:"green",onClick:function(){return e.handleDelete(e.state.idToDelete)},positive:!0,labelPosition:"left",icon:"checkmark",content:"Yes",title:"Confirm Delete!"}),i.a.createElement(C.a,{color:"red",onClick:e.modalClose,negative:!0,labelPosition:"left",icon:"remove",content:"No",title:"Decline Delete!"})))))})))))})):i.a.createElement(T.b,{loading:this.props.loading,errors:this.props.errors})}}]),a}(c.Component),lt={getAdminDataByUrl:N.k,getForwardData:N.v,getGroupwiseForwardData:N.w,postForwardData:N.K,putForwardData:N.U,deleteForwardData:N.g},ot=Object(k.b)(function(e){return{forwardMaster:e.root.admin.forwardMaster,formNameMaster:e.root.admin.formNameMaster,userTypeMaster:e.root.admin.userTypeMaster,group:e.root.admin.group,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.admin.success}},lt)(rt),ct=a(622),it=a(93),st=a(12),ut=a(11),mt=(a(91),{id:"",address:"",province:"",name:"",email:"",mayorName:"",officeContactNo:"",officeName:"",secretaryName:"",subMayorName:"",fileLocation:"",url:"",designerLoginType:"",mailServer:"",mailServerPort:"",mailSender:"",mailPassword:"",showSignatureImage:"N"}),dt=["address","province","mayorName","name","officeContactNo","officeName","fileLocation","designerLoginType","mailServer","mailServerPort","mailPassword"].map(function(e){return Object(f.a)({},e,F.w)}),pt=["officeContactNo"].map(function(e){return Object(f.a)({},e,F.r)}),ft=x.object().shape(Object.assign.apply(Object,[{email:x.string().email("\u0907\u092e\u0947\u0932 \u0917\u0932\u0924 \u092d\u092f\u094b").required("\u092f\u094b \u092d\u0930\u094d\u0928\u0941 \u0906\u0935\u0936\u094d\u092f\u0915 \u091b"),mailSender:x.string().email("\u0907\u092e\u0947\u0932 \u0917\u0932\u0924 \u092d\u092f\u094b").required("\u092f\u094b \u092d\u0930\u094d\u0928\u0941 \u0906\u0935\u0936\u094d\u092f\u0915 \u091b")}].concat(Object(p.a)(dt),Object(p.a)(pt)))),bt=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).modalOpen=function(e){r.setState({isModalOpen:!0,idToDelete:e})},r.modalClose=function(){r.setState({isModalOpen:!1})},r.handleEdit=function(e){window.scrollTo(0,0),r.setState({formData:{address:e.address,province:e.province,name:e.name,email:e.email,mayorName:e.mayorName,officeContactNo:e.officeContactNo,officeName:e.officeName,secretaryName:e.secretaryName,subMayorName:e.subMayorName,fileLocation:e.fileLocation,url:e.url,id:e.id,designerLoginType:e.designerLoginType,mailServer:e.mailServer,mailServerPort:e.mailServerPort,mailSender:e.mailSender,mailPassword:e.mailPassword,showSignatureImage:e.showSignatureImage},isEditing:!0})},r.state={formData:mt,isEditing:!1,isModalOpen:!1,idToDelete:"",hidden:!0},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getOrganizationData()}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.success!==this.props.success&&this.state.isEditing&&(setTimeout(function(){t.props.getOrganizationData()},0),this.setState({isEditing:!1})),this.props.success&&this.props.success.success&&this.props.organizationData!==e.organizationData){var a=Object(ct.pick)(this.props.organizationData[0],["name","officeName","address","province","organizationCode","designerLoginType"]);Object(st.b)(ut.s,JSON.stringify({organization:a}))}}},{key:"render",value:function(){var e=this,t=this.props.organizationData,a=this.state.hidden;return t?i.a.createElement(g.c,{enableReinitialize:!0,validationSchema:ft,initialValues:this.state.formData,onSubmit:function(){var t=Object(h.a)(E.a.mark(function t(a,n){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.setSubmitting(!0),a.error&&delete a.error,t.prev=2,!e.state.isEditing){t.next=8;break}return t.next=6,e.props.putOrganization(a);case 6:t.next=10;break;case 8:return t.next=10,e.props.postOrganization(a);case 10:n.setSubmitting(!1),window.scrollTo(0,0),e.props.success&&e.props.success.success&&(n.resetForm(),e.setState({formData:mt}),Object(A.x)("Your data has been successfully posted.")),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(2),n.setSubmitting(!1),console.log("error ",t.t0),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 21:case"end":return t.stop()}},t,null,[[2,15]])}));return function(e,a){return t.apply(this,arguments)}}()},function(n){var r=n.handleSubmit,l=n.setFieldValue,o=n.handleBlur,c=n.values,s=n.isSubmitting,u=n.errors,m=n.handleChange,d=n.handleReset;return i.a.createElement(v.a,{loading:s},i.a.createElement(U.a,{title:"Organization"}),e.props.errors&&i.a.createElement(_.b,{message:e.props.errors.message}),i.a.createElement(y.a,null,i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"Organization"),i.a.createElement(v.a.Group,{widths:"4"},i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Address"),i.a.createElement(M.h,{name:"address",setFieldValue:l,onChange:m,error:u.address,value:c.address})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Province"),i.a.createElement(M.h,{name:"province",setFieldValue:l,onChange:m,error:u.province,value:c.province})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Email"),i.a.createElement(M.d,{name:"email"})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Mayor Name"),i.a.createElement(M.h,{name:"mayorName",setFieldValue:l,onChange:m,error:u.mayorName,value:c.mayorName}))),i.a.createElement(v.a.Group,{widths:"4"},i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Name"),i.a.createElement(M.h,{name:"name",setFieldValue:l,onChange:m,error:u.name,value:c.name})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Office Contact No"),i.a.createElement(M.h,{name:"officeContactNo",setFieldValue:l,onChange:m,error:u.officeContactNo,value:c.officeContactNo})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Office Name"),i.a.createElement(M.h,{name:"officeName",setFieldValue:l,onChange:m,error:u.officeName,value:c.officeName})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Secretary Name"),i.a.createElement(M.h,{name:"secretaryName",setFieldValue:l,onChange:m,error:u.secretaryName,value:c.secretaryName}))),i.a.createElement(v.a.Group,{widths:"3"},i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Sub Mayor Name"),i.a.createElement(M.h,{name:"subMayorName",setFieldValue:l,onChange:m,error:u.subMayorName,value:c.subMayorName})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"URL"),i.a.createElement(M.d,{name:"url"})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"File Location"),i.a.createElement(M.d,{name:"fileLocation"}))),i.a.createElement(v.a.Group,{widths:"4"},i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Mail Server"),i.a.createElement(M.d,{name:"mailServer"})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Mail Server Port"),i.a.createElement(M.d,{name:"mailServerPort"})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Mail Sender"),i.a.createElement(M.d,{name:"mailSender"})),i.a.createElement(v.a.Field,{error:u.mailPassword},i.a.createElement("strong",null,"Mail Password"),i.a.createElement(v.a.Input,{icon:i.a.createElement(se.a,{name:a?"eye slash":"eye",link:!0,onClick:function(){return e.setState(function(e){return{hidden:!e.hidden}})}}),type:a?"password":"text",name:"mailPassword",autoComplete:!1,onChange:m,onBlur:o,value:c.mailPassword,error:u.mailPassword,placeholder:"Mail Password"}),u.mailPassword&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},u.mailPassword))),i.a.createElement(v.a.Group,{widths:"1"},i.a.createElement(v.a.Field,null,i.a.createElement(ge.d,{label:"Designer Signup Type",name:"designerLoginType",options:it.m})),i.a.createElement(v.a.Field,null,i.a.createElement(ge.d,{label:"Show Signature Image",name:"showSignatureImage",options:it.q}))),i.a.createElement("br",null),i.a.createElement(C.a,{type:"submit",disabled:!e.state.isEditing,onClick:r,className:"fileStorageSegment"},"Update")),i.a.createElement("br",null),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"Organization Data"),i.a.createElement(w.a,{striped:!0,celled:!0,selectable:!0,style:{textAlign:"center"}},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"Address"),i.a.createElement(w.a.HeaderCell,null,"Province"),i.a.createElement(w.a.HeaderCell,null,"Name"),i.a.createElement(w.a.HeaderCell,null,"Office Name"),i.a.createElement(w.a.HeaderCell,null,"Action"))),i.a.createElement(w.a.Body,null,t.map(function(t,a){return i.a.createElement(w.a.Row,{key:1},i.a.createElement(w.a.Cell,null,t.address),i.a.createElement(w.a.Cell,null,t.province),i.a.createElement(w.a.Cell,null,t.name),i.a.createElement(w.a.Cell,null,t.officeName),i.a.createElement(w.a.Cell,null,i.a.createElement(C.a,{inverted:!0,title:"Edit",color:"green",onClick:function(){d(),e.setState({formData:mt}),e.handleEdit(t)},icon:"edit",size:"tiny"})))})))))}):i.a.createElement(T.b,{loading:this.props.loading,errors:this.props.errors})}}]),a}(c.Component),Et={getOrganizationData:N.x,postOrganization:N.L,putOrganization:N.V},ht=Object(k.b)(function(e){return{organizationData:e.root.admin.userData,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.admin.success}},Et)(bt),gt=a(124),vt=a(213),yt=function e(t){var a=t.label,n=t.error,r=t.name,l=Object(vt.a)(t,["label","error","name"]);return i.a.createElement(v.a.Field,{error:!!n},a&&a,i.a.createElement(g.a,Object.assign({name:r,type:"number"},l)),i.a.createElement(e.Error,{error:n}))};yt.Error=function(e){var t=e.error;return t?i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},t):null};var Ot,jt=function(e){var t=e.children,a=Object(vt.a)(e,["children"]),n=Object(c.useCallback)(function(e,t,a){return{name:e,value:t[e],error:a[e]}},[]),r=Object(c.useCallback)(function(e,t,a,n){return{name:e,value:t[e],error:a[e],setFieldValue:n}},[]);return i.a.createElement("div",null,i.a.createElement(g.c,a,function(e){return t(Object(d.a)(Object(d.a)({},e),{},{getSetFieldProps:function(t){return r(t,e.values,e.errors,e.setFieldValue)},getProps:function(t){return n(t,e.values,e.errors)}}))}))},Ct={id:"",placeName:"",setBackFoot:0,setBackMeter:0,status:"N"},St=["placeName","status"].map(function(e){return Object(f.a)({},e,F.w)}),wt=["setBackMeter","setBackFoot"].map(function(e){return Object(f.a)({},e,F.p)}),Dt=x.object().shape(Object.assign.apply(Object,[{}].concat(Object(p.a)(St),Object(p.a)(wt)))),Nt=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).modalOpen=function(e){r.setState({isModalOpen:!0,idToDelete:e})},r.modalClose=function(){r.setState({isModalOpen:!1})},r.handleDelete=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.props.deleteOtherSetBack(t);case 3:r.props.success&&r.props.success.success&&(Object(A.x)("Your data has been successfully deleted."),r.props.getOtherSetBack()),r.modalClose(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error",e.t0),r.modalClose();case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),r.handleAdd=function(){window.scrollTo(0,0),r.setState({formData:Ct,isEditing:!1})},r.handleEdit=function(e){window.scrollTo(0,0),r.setState({formData:{placeName:e.placeName,setBackMeter:e.setBackMeter,status:e.status,id:e.id,setBackFoot:e.setBackFoot},isEditing:!0})},r.state={formData:Ct,isEditing:!1,isModalOpen:!1,idToDelete:""},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getOtherSetBack()}},{key:"render",value:function(){var e=this,t=this.props,a=t.userData,n=t.postOtherSetBack;return a?i.a.createElement(jt,{enableReinitialize:!0,initialValues:this.state.formData,validationSchema:Dt,onSubmit:function(){var t=Object(h.a)(E.a.mark(function t(a,r){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.setSubmitting(!0),a.error&&delete a.error,t.prev=2,!e.state.isEditing){t.next=8;break}return t.next=6,e.props.putOtherSetBack(e.state.formData.id,a);case 6:t.next=10;break;case 8:return t.next=10,n(a);case 10:r.setSubmitting(!1),window.scrollTo(0,0),e.props.success&&e.props.success.success&&(Object(A.x)("Your data has been successfully added."),e.props.getOtherSetBack(),e.handleAdd()),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(2),r.setSubmitting(!1),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 20:case"end":return t.stop()}},t,null,[[2,15]])}));return function(e,a){return t.apply(this,arguments)}}()},function(t){var a=t.handleSubmit,n=t.setFieldValue,r=t.errors,l=t.getSetFieldProps,o=t.getProps;return i.a.createElement(v.a,null,e.props.errors&&i.a.createElement(_.b,{message:e.props.errors.message}),i.a.createElement("div",null,i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"Other SetBack",i.a.createElement(C.a,{basic:!0,style:{right:4,top:5,position:"absolute"},inverted:!0,type:"reset",onClick:function(){e.handleAdd()}},i.a.createElement(ie.a,null,i.a.createElement(se.a,{name:"add"}),"Add Road Set Back"))),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,"Place Name",i.a.createElement(M.b,Object.assign({name:"placeName"},l("placeName")))),i.a.createElement(yt,Object.assign({label:"SetBack (Feet)",name:"setBackFoot",onChange:function(e){void 0!==e.target.value&&(n("setBackFoot",Object(gt.f)(e.target.value)),n("setBackMeter",Object(gt.j)(e.target.value,"METRE","FEET")))}},o("setBackFoot"))),i.a.createElement(yt,Object.assign({label:"SetBack (Meter)",name:"setBackMeter",onChange:function(e){void 0!==e.target.value&&(n("setBackMeter",Object(gt.f)(e.target.value)),n("setBackFoot",Object(gt.j)(e.target.value,"FEET","METRE")))}},o("setBackMeter"))),i.a.createElement(v.a.Field,{error:!!r.status},"Status",i.a.createElement("br",null),i.a.createElement(ge.d,{name:"status",options:it.A}))),i.a.createElement("br",null),i.a.createElement(C.a,{type:"submit",onClick:a,className:"fileStorageSegment"},e.state.isEditing?"Update":"Save")),i.a.createElement("br",null),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"Other Setback Details"),i.a.createElement(w.a,{striped:!0,celled:!0,selectable:!0,style:{textAlign:"center"}},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"Place Name"),i.a.createElement(w.a.HeaderCell,null,"SetBack Foot"),i.a.createElement(w.a.HeaderCell,null,"SetBack Metre"),i.a.createElement(w.a.HeaderCell,null,"Status"),i.a.createElement(w.a.HeaderCell,null,"Action"))),i.a.createElement(w.a.Body,null,e.props.userData.map(function(t,a){return i.a.createElement(w.a.Row,{key:a},i.a.createElement(w.a.Cell,null,t.placeName),i.a.createElement(w.a.Cell,null,t.setBackFoot),i.a.createElement(w.a.Cell,null,t.setBackMeter),i.a.createElement(w.a.Cell,null,t.status),i.a.createElement(w.a.Cell,null,i.a.createElement(C.a,{inverted:!0,title:"Edit",color:"green",icon:"edit",size:"tiny",onClick:function(){return e.handleEdit(t)}}),i.a.createElement(C.a,{inverted:!0,color:"red",title:"Delete",icon:"remove circle",size:"tiny",onClick:function(){return e.modalOpen(t.id)}}),i.a.createElement(Q.a,{onClose:e.modalClose,open:e.state.isModalOpen},i.a.createElement(Q.a.Content,null,"Are you sure you want to delete this section?"),i.a.createElement(Q.a.Actions,null,i.a.createElement(C.a,{color:"green",onClick:function(){return e.handleDelete(e.state.idToDelete)},title:"Confirm Delete!",positive:!0,labelPosition:"left",icon:"checkmark",content:"Yes"}),i.a.createElement(C.a,{color:"red",onClick:e.modalClose,title:"Decline Delete!",negative:!0,labelPosition:"left",icon:"remove",content:"No"})))))}))))))}):i.a.createElement(T.b,{loading:this.props.loading,errors:this.props.errors})}}]),a}(c.Component),kt={postOtherSetBack:N.M,getOtherSetBack:N.y,deleteOtherSetBack:N.h,putOtherSetBack:N.W},Tt=Object(k.b)(function(e){return{userData:e.root.admin.userData,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.admin.success}},kt)(Nt),At=["roadName","status"].map(function(e){return Object(f.a)({},e,F.w)}),xt=["setBackFoot","setBackMeter"].map(function(e){return Object(f.a)({},e,F.p)}),Ft=x.object().shape(Object.assign.apply(Object,[{}].concat(Object(p.a)(At),Object(p.a)(xt)))),Mt={id:"",roadName:"",setBackFoot:0,setBackMeter:0,status:"N"},Rt=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).modelClose=function(){r.setState({isModelOpen:!1})},r.modelOpen=function(e){r.setState({isModelOpen:!0,idToDelete:e})},r.handleAdd=function(){window.scrollTo(0,0),r.setState({currentUser:Mt,isEditing:!1})},r.handleEdit=function(e){window.scrollTo(0,0),r.setState({currentUser:{roadName:e.roadName,setBackFoot:e.setBackFoot,setBackMeter:e.setBackMeter,status:e.status,id:e.id},isEditing:!0})},r.handleDelete=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.props.deleteRoadSetBack(t);case 3:r.props.success&&r.props.success.success&&(Object(A.x)("Your data has been successfully deleted."),r.props.getRoadSetBack()),r.modelClose(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error",e.t0),r.modelClose();case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),r.state={currentUser:Mt,isEditing:!1,isModelOpen:!1,idToDelete:""},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getRoadSetBack()}},{key:"render",value:function(){var e=this,t=this.props,a=t.postRoadSetBack,n=t.userData,r=t.putRoadSetBack;return n?i.a.createElement(g.c,{enableReinitialize:!0,validationSchema:Ft,initialValues:this.state.currentUser,onSubmit:function(){var t=Object(h.a)(E.a.mark(function t(n,l){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l.setSubmitting(!0),n.error&&delete n.error,t.prev=2,!e.state.isEditing){t.next=8;break}return t.next=6,r(e.state.currentUser.id,n);case 6:t.next=10;break;case 8:return t.next=10,a(n);case 10:l.setSubmitting(!1),window.scrollTo(0,0),e.props.success&&e.props.success.success&&(Object(A.x)("Your data has been successfully posted."),e.props.getRoadSetBack(),e.handleAdd(),l.resetForm()),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(2),l.setSubmitting(!1),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 20:case"end":return t.stop()}},t,null,[[2,15]])}));return function(e,a){return t.apply(this,arguments)}}()},function(t){var a=t.values,n=t.setFieldValue,r=t.handleSubmit,l=t.errors;return i.a.createElement(v.a,null,e.props.errors&&i.a.createElement(_.b,{message:e.props.errors.message}),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"Road SetBack",i.a.createElement(C.a,{basic:!0,style:{right:6,top:8,position:"absolute"},inverted:!0,type:"reset",onClick:function(){e.handleAdd()}},i.a.createElement(ie.a,null,i.a.createElement(se.a,{name:"add"}),"Add Road Set Back"))),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"Road Name"),i.a.createElement(M.b,{name:"roadName",setFieldValue:n,error:l.roadName,value:a.roadName})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"SetBack Foot"),i.a.createElement(M.h,{name:"setBackFoot",error:l.setBackFoot,value:a.setBackFoot,onChange:function(e){void 0!==e.target.value&&(n("setBackFoot",e.target.value),n("setBackMeter",Object(gt.j)(e.target.value,"METRE","FEET")))}})),i.a.createElement(v.a.Field,null,i.a.createElement("strong",null,"SetBack Meter"),i.a.createElement(M.h,{name:"setBackMeter",error:l.setBackMeter,value:a.setBackMeter,onChange:function(e){void 0!==e.target.value&&(n("setBackMeter",e.target.value),n("setBackFoot",Object(gt.j)(e.target.value,"FEET","METRE")))}})),i.a.createElement(v.a.Field,{error:!!l.status},i.a.createElement("strong",null,"Status"),i.a.createElement("br",null),i.a.createElement(O.a,{placeholder:"Yes",value:a.status,name:"status",options:it.A,onChange:function(e,t){var a=t.value;n("status",a)}}),l.status&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},l.status))),i.a.createElement("br",null),i.a.createElement(C.a,{onClick:r,className:"fileStorageSegment"},e.state.isEditing?"Update":"Save")),i.a.createElement("br",null),i.a.createElement(y.a,{raised:!0},i.a.createElement(y.a,{className:"tableSectionHeader"},"Road SetBack Data"),i.a.createElement(w.a,{striped:!0,celled:!0,selectable:!0,style:{textAlign:"center"}},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"Road Name"),i.a.createElement(w.a.HeaderCell,null,"SetBack Foot"),i.a.createElement(w.a.HeaderCell,null,"SetBack Meter"),i.a.createElement(w.a.HeaderCell,null,"Status"),i.a.createElement(w.a.HeaderCell,null,"Action"))),i.a.createElement(w.a.Body,null,e.props.userData.map(function(t,a){return i.a.createElement(w.a.Row,{key:a},i.a.createElement(w.a.Cell,null,t.roadName),i.a.createElement(w.a.Cell,null,t.setBackFoot),i.a.createElement(w.a.Cell,null,t.setBackMeter),i.a.createElement(w.a.Cell,null,t.status),i.a.createElement(w.a.Cell,null,i.a.createElement(C.a,{inverted:!0,color:"green",title:"Edit",size:"tiny",onClick:function(){return e.handleEdit(t)},icon:"edit"}),i.a.createElement(C.a,{inverted:!0,color:"red",title:"Delete",icon:"remove circle",size:"tiny",onClick:function(){return e.modelOpen(t.id)}}),i.a.createElement(Q.a,{close:e.modelClose,open:e.state.isModelOpen},i.a.createElement(Q.a.Content,null,"Are you sure you want to delete this section?"),i.a.createElement(Q.a.Actions,null,i.a.createElement(C.a,{color:"green",onClick:function(){return e.handleDelete(e.state.idToDelete)},positive:!0,labelPosition:"left",icon:"checkmark",content:"Yes",title:"Confirm Delete!"}),i.a.createElement(C.a,{color:"red",onClick:e.modelClose,negative:!0,labelPosition:"left",icon:"remove",content:"No",title:"Decline Delete!"})))))})))))}):i.a.createElement(T.b,{loading:this.props.loading,errors:this.props.errors})}}]),a}(c.Component),_t={postRoadSetBack:N.N,getRoadSetBack:N.z,putRoadSetBack:N.X,deleteRoadSetBack:N.i},It=Object(k.b)(function(e){return{userData:e.root.admin.userData,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.admin.success}},_t)(Rt),Ht=a(214),Ut=a(623),Pt=a.n(Ut),Bt=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).setSubmitting=function(e){r.setState({isSubmitting:e})},r.state={content:" ",isSubmitting:!1},r.onChange=r.onChange.bind(Object(Ht.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(Ht.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getFAQ()}},{key:"onChange",value:function(e){var t=e.editor.getData();this.setState({content:t})}},{key:"handleSubmit",value:function(){var e=Object(h.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setSubmitting(!0),e.prev=1,!this.state.content){e.next=5;break}return e.next=5,this.props.postFAQ({jsonData:this.state.content});case 5:this.setSubmitting(!1),Object(A.x)("Your data has been successfully"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),this.setSubmitting(!1),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 14:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){if(this.props.faqdata!==e.faqdata){var t=this.props.faqdata&&this.props.faqdata.map(function(e){return JSON.parse(e.jsonData).jsonData}),a=t&&t[0];this.setState({content:a})}}},{key:"render",value:function(){return i.a.createElement(v.a,{loading:this.state.isSubmitting},i.a.createElement(U.a,null,i.a.createElement("title",null,"Add FAQ")),i.a.createElement(y.a,null,i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"Frequently Asked Questions"),i.a.createElement(Pt.a,{activeClass:"p10",content:this.state.content,events:{blur:this.onBlur,afterPaste:this.afterPaste,change:this.onChange}}),i.a.createElement("br",null),i.a.createElement(C.a,{color:"violet",content:"Submit",onClick:this.handleSubmit})))}}]),a}(c.Component),zt={getFAQ:N.p,postFAQ:N.G},Lt=Object(k.b)(function(e){return{faqdata:e.root.admin.faqData,errors:e.root.ui.errors,loading:e.root.ui.loading}},zt)(Bt),Gt=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).setSubmitting=function(e){r.setState({isSubmitting:e})},r.state={content:" ",isSubmitting:!1},r.onChange=r.onChange.bind(Object(Ht.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(Ht.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getContact(),this.setState({content:this.props.conData})}},{key:"onChange",value:function(e){var t=e.editor.getData();this.setState({content:t})}},{key:"handleSubmit",value:function(){var e=Object(h.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setSubmitting(!0),e.prev=1,!this.state.content){e.next=5;break}return e.next=5,this.props.postContact({jsonData:this.state.content});case 5:this.setSubmitting(!1),Object(A.x)("Your data has been successfully"),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("err",e.t0),this.setSubmitting(!1),window.scrollTo(0,0),Object(A.x)("Something went wrong !!");case 15:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){if(this.props.conData!==e.conData){var t=this.props.conData&&this.props.conData.map(function(e){return JSON.parse(e.jsonData).jsonData}),a=t&&t[0];this.setState({content:a})}}},{key:"render",value:function(){return i.a.createElement(v.a,{loading:this.state.isSubmitting},i.a.createElement(U.a,null,i.a.createElement("title",null,"Add Contacts")),i.a.createElement(y.a,null,i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},"Contacts"),i.a.createElement(Pt.a,{activeClass:"p11",content:this.state.content,events:{blur:this.onBlur,afterPaste:this.afterPaste,change:this.onChange}}),i.a.createElement("br",null),i.a.createElement(C.a,{color:"violet",content:"Submit",onClick:this.handleSubmit})))}}]),a}(c.Component),Vt={getContact:N.n,postContact:N.E},qt=Object(k.b)(function(e){return{conData:e.root.admin.conData,errors:e.root.ui.errors,loading:e.root.ui.loading}},Vt)(Gt),Yt=a(198),Qt=a(120),Jt={tableHeader:"Class Groups",tableHeadings:{formName:"Form Name",id:"Id",buildingClass:"Building Class",constructionType:"Construction Type",getValue:"Keep form",actions:"Actions"}},Wt={titleAdd:"Add Class Group",titleEdit:"Edit Class Group",saveText:"Save Class Group",editText:"Update Class Group",deleteText:"Delete Class Group",delete:{title:"Delete Class Group",content:"Are you sure you want to delete this row?"}},Kt=a(40),Xt=a(681),Zt=a(41),$t=function(e){var t=e.columns,a=e.data,n=i.a.useMemo(function(){return{Filter:i.a.createElement(i.a.Fragment,null)}},[]),r=Object(Xt.useTable)({columns:t,data:a,defaultColumn:n,initialState:{pageIndex:0}},Xt.useFilters,Xt.usePagination),l=r.getTableProps,o=r.getTableBodyProps,c=r.headerGroups,s=r.page,u=r.prepareRow,m=r.canPreviousPage,d=r.canNextPage,p=r.pageOptions,f=r.gotoPage,b=r.nextPage,E=r.previousPage,h=r.setPageSize,g=r.state,v=g.pageIndex,y=g.pageSize;return i.a.createElement("div",null,i.a.createElement(w.a,Object.assign({striped:!0,celled:!0,compact:"very",size:"small"},l()),i.a.createElement(w.a.Header,null,c.map(function(e){return i.a.createElement(w.a.Row,e.getHeaderGroupProps(),e.headers.map(function(e){return i.a.createElement(w.a.HeaderCell,e.getHeaderProps(),e.render("Header"),i.a.createElement("div",null,e.canFilter?e.render("Filter"):null))}))})),i.a.createElement(w.a.Body,o(),s.map(function(e,t){return u(e),i.a.createElement(w.a.Row,e.getRowProps(),e.cells.map(function(e){return i.a.createElement(w.a.Cell,e.getCellProps(),e.render("Cell"))}))})),i.a.createElement(w.a.Footer,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,{colSpan:"5"},i.a.createElement(Zt.a,{floated:"right",pagination:!0},i.a.createElement(Zt.a.Item,{className:"pagination-select"},i.a.createElement("select",{className:"ui selection dropdown",value:y,onChange:function(e){h(Number(e.target.value))}},[5,10,20,30,40,50].map(function(e){return i.a.createElement("option",{key:e,value:e},"Show ",e)}))),i.a.createElement(Zt.a.Item,{as:"a",onClick:function(){return E()},disabled:!m,icon:!0},i.a.createElement(se.a,{name:"chevron left"})),p.map(function(e){return i.a.createElement(Zt.a.Item,{key:e,onClick:function(){f(e)},active:v===e,as:"a"},e+1)}),i.a.createElement(Zt.a.Item,{as:"a",onClick:function(){return b()},disabled:!d,icon:!0},i.a.createElement(se.a,{name:"chevron right"}))))))))},ea=function(e){var t=e.column,a=t.filterValue,n=t.setFilter,r=t.preFilteredRows,l=t.defaultOption,o=t.id,c=i.a.useMemo(function(){var e=new Set;return r.forEach(function(t){e.add(t.values[o])}),Object(p.a)(e.values())},[o,r]);return i.a.createElement("select",{className:"ui selection dropdown filter-column",value:a,onChange:function(e){n(e.target.value||void 0)}},i.a.createElement("option",{value:""},l),c.map(function(e,t){return i.a.createElement("option",{className:"item",key:t,value:e},e)}))},ta=a(53),aa=function(e){var t=Object(c.useState)([]),a=Object(we.a)(t,2),n=a[0],r=a[1],l=Object(c.useState)(1),o=Object(we.a)(l,2),i=o[0],s=o[1];return Object(c.useEffect)(function(){e&&e.length>0&&(r(e.filter(function(e){return e&&!Object(ta.a)(e.name)}).map(function(e){return{value:e.id,text:e.name}})),s(e[0].id))},[e]),[n,i]},na=Jt.tableHeadings,ra=Wt,la=[{value:"A",text:"Class A"},{value:"B",text:"Class B"},{value:"C",text:"Class C"},{value:"D",text:"Class D"}],oa=[{value:"1",text:Kt.a.NAYA_NIRMAN},{value:"2",text:Kt.a.PURANO_GHAR},{value:"3",text:Kt.a.TALLA_THAP}],ca={id:"",ignoredForm:1,buildingClass:"A",constructionType:"1"},ia=function(e){var t=e.adminData,a=e.success,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.putAdminDataByUrl,o=e.errors,s=e.loading,u=De(ca,a),m=u.isEditing,p=u.isDeleting,f=u.formState,b=u.openAddModal,O=u.openDeleteModal,j=u.handleAdd,S=u.handleEdit,w=u.handleDelete,D=u.setOpenAddModal,N=u.setOpenDeleteModal,k=aa(t.formNameMaster),T=Object(we.a)(k,1)[0],x=Object(c.useState)([]),F=Object(we.a)(x,2),M=F[0],R=F[1];Object(c.useEffect)(function(){if(t&&t.classGroup){var e=t.classGroup.sort(function(e,t){return e.id-t.id});R(e)}},[t.classGroup,t]);var _=i.a.useMemo(function(){return[{Header:na.id,accessor:"id"},{Header:na.formName,id:"ignoredForm",accessor:function(e){return Object(ve.m)(parseInt(e.ignoredForm),T)},Filter:ea,filter:"includes",defaultOption:"All"},{Header:na.buildingClass,Filter:ea,filter:"includes",id:"buildingClass",accessor:function(e){return Object(ve.m)(e.buildingClass,la)},disableFilters:!1,defaultOption:"All"},{Header:na.constructionType,id:"constructionType",accessor:function(e){return Object(ve.m)(e.constructionType,oa)},Filter:ea,filter:"includes",defaultOption:"All"},{Header:"Actions",Cell:function(e){var t=e.row;return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{inverted:!0,title:"Edit",type:"reset",color:"green",onClick:function(){S(Object(d.a)(Object(d.a)({},t.original),{},{ignoredForm:parseInt(t.original.ignoredForm)}))},icon:"edit",size:"tiny",style:{marginBottom:"2px"}}),i.a.createElement(C.a,{inverted:!0,title:"Delete",type:"reset",color:"red",icon:"delete",onClick:function(){w(t.original)},size:"tiny"}))}}]},[T,w,S]);return i.a.createElement("div",null,i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},f),onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{m?l(P.a.classGroup,f.id,t):p?r(P.a.classGroup,f.id):n(P.a.classGroup,t),a.setSubmitting(!1)}catch(o){console.log("Error in Class Group post",o),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting,n=e.errors,r=e.setFieldValue;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{title:"Class Groups Setup"}),i.a.createElement(Je.b,{open:b,scroll:!1,errors:o,isSubmitting:a||s,handleSubmit:t,handleClose:function(){return D(!1)},title:m?ra.titleEdit:ra.titleAdd,saveText:m?ra.editText:ra.saveText},i.a.createElement(v.a,{loading:a||s},i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,m?i.a.createElement(ge.d,{label:"Form to ignore",name:"ignoredForm",options:T}):i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!n.ignoredForm},i.a.createElement("span",null,"Form to ignore"),i.a.createElement(Qt.a,{selection:!0,multiple:!0,label:na.ignoredForm,name:"ignoredForm",onChange:function(e,t){var a=t.value;return r("ignoredForm",a)},options:T})))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ge.d,{label:"Building Class",name:"buildingClass",options:la}))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(ge.d,{label:"Construction Type",name:"constructionType",options:oa})))))),i.a.createElement(Je.b,{open:O,errors:o,isSubmitting:a||s,handleSubmit:t,handleClose:function(){return N(!1)},title:ra.delete.title,saveText:ra.deleteText},i.a.createElement(v.a,{loading:a||s},ra.delete.content)))}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},Jt.tableHeader,i.a.createElement(C.a,{basic:!0,style:{right:6,top:8,position:"absolute"},inverted:!0,type:"reset",onClick:function(){j()}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"file outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"}))," ","Add Class Group"))),i.a.createElement($t,{columns:_,data:M}))},sa=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.classGroup,objName:"classGroup"},{api:P.a.formNameMaster,objName:"formNameMaster"}],updateApi:[{api:P.a.classGroup,objName:"classGroup"}],render:function(t){return i.a.createElement(ia,Object.assign({},t,{parentProps:e}))}})},ua=a(321),ma=a(850),da={applicationId:"\u0936\u093e\u0916\u093e \u0926\u0930\u094d\u0924\u093e \u0928\u0902.",applicantName:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0928\u093e\u092e",applicantAddress:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0920\u0947\u0917\u093e\u0928\u093e",nibedakName:"\u0928\u093f\u0935\u0947\u0926\u0915\u0915\u094b \u0928\u093e\u092e",applicantMobileNo:"\u0938\u092e\u094d\u092a\u0930\u094d\u0915 \u092b\u094b\u0928",applicantDate:"\u0926\u0930\u094d\u0924\u093e \u092e\u093f\u0924\u0940",constructionType:"\u092d\u0935\u0928\u0915\u094b \u0915\u093f\u0938\u093f\u092e",applicationStatus:"\u092a\u0942\u0930\u094d\u0923 \u0905\u0935\u0938\u094d\u0925\u093e",forwardTo:"\u0924\u0939 \u0938\u094d\u0925\u093f\u0924\u093f",applicationActionBy:"\u0924\u0939",yourStatus:"\u0905\u0935\u0938\u094d\u0925\u093e",wardNo:"\u0935\u0921\u093e",kittaNo:"\u0915\u093f\u0924\u094d\u0924\u093e \u0928\u0902",year:"\u0906\u0930\u094d\u0925\u093f\u0915 \u092c\u0930\u094d\u0937",applicationNumb:"\u0926\u0930\u094d\u0924\u093e \u0928\u0902.",applicationInfo:"\u092b\u093e\u0908\u0932 \u091c\u093e\u0928\u0915\u093e\u0930\u0940"},pa={title:"\u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u092a\u0930\u093f\u0935\u0930\u094d\u0924\u0928 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",historyTitle:"\u0921\u093f\u091c\u093e\u0908\u0928\u0930 \u092a\u0930\u093f\u0935\u0930\u094d\u0924\u0928 History",content:"\u0915\u0947 \u0924\u092a\u093e\u0908\u0902 \u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u092a\u0930\u093f\u0935\u0930\u094d\u0924\u0928 \u0917\u0930\u094d\u0928 \u091a\u093e\u0939\u093e\u0928\u0941\u0939\u0941\u0928\u094d\u091b?",saveText:"\u0939\u0941\u0928\u094d\u091b",historyOkButton:"Ok",confirmChange:"\u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u092a\u0930\u093f\u0935\u0930\u094d\u0924\u0928 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",historyNoData:"\u092f\u0938 \u092b\u093e\u0908\u0932\u0915\u094b \u0932\u093e\u0917\u093f \u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u0905\u091d\u0948 \u092a\u0930\u093f\u0935\u0930\u094d\u0924\u0928 \u0917\u0930\u093f\u090f\u0915\u094b \u091b\u0948\u0928\u0964",cancelText:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",select:"\u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d",file:"\u092b\u093e\u0908\u0932 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d"},fa=a(57),ba=a(571),Ea=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).tableRef=c.createRef(),r.buttonrenderer=function(e,t,a,n,l,o){return r.props.generateButtonRenderer(e)},r.cellClass=function(e,t,a,n){var r=n[t];return"\u0905\u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u0917\u0930\u093f\u090f\u0915\u094b"===r?"disapproved":"\u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u092d\u090f\u0915\u094b"===r?"approved":"avg"},r.datafield=[{name:"applicantNo",type:"string"},{name:"applicantName",type:"string"},{name:"applicantAddress",type:"string"},{name:"nibedakName",type:"string"},{name:"applicantMobileNo",type:"string"},{name:"applicationStatus",type:"string"},{name:"applicationActionBy",type:"string"},{name:"yourStatus",type:"string"},{name:"applicationAction",type:"string"},{name:"applicantDate",type:"string"},{name:"constructionType",type:"string"},{name:"forwardTo",type:"string"}],r.columns=[{text:"Action",cellsalign:"center",align:"center",cellsrenderer:r.buttonrenderer,width:90,pinned:"true"},{text:"\u0936\u093e\u0916\u093e \u0926\u0930\u094d\u0924\u093e \u0928\u0902.",dataField:"applicantNo",cellsalign:"center",align:"center",width:"130",pinned:"true"},{text:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0928\u093e\u092e",dataField:"applicantName",cellsalign:"center",align:"center",width:"200",pinned:"true"},{text:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0920\u0947\u0917\u093e\u0928\u093e",dataField:"applicantAddress",cellsalign:"center",align:"center",width:"200"},{text:"\u0928\u093f\u0935\u0947\u0926\u0915\u0915\u094b \u0928\u093e\u092e",dataField:"nibedakName",cellsalign:"center",align:"center",width:"200"},{text:"\u0938\u092e\u094d\u092a\u0930\u094d\u0915 \u092b\u094b\u0928.",dataField:"applicantMobileNo",cellsalign:"center",align:"center"},{text:"\u0924\u0939",dataField:"applicationActionBy",cellsalign:"center",align:"center",width:"120",filterType:"list",cellclassname:"alignment",cellsrenderer:function(e,t,a,n,r,l){return Object(A.p)(a)}},{text:"\u0938\u094d\u0925\u093f\u0924\u093f \u092b\u093e\u0930\u092e",dataField:"applicationAction",cellsalign:"center",align:"center",width:"300",cellclassname:"alignment",cellsrenderer:function(e,t,a,n,r,l){return a.formName}},{text:"\u0905\u0935\u0938\u094d\u0925\u093e",dataField:"applicationStatus",cellsalign:"center",align:"center",width:"120",cellclassname:r.cellClass},{text:"\u0926\u0930\u094d\u0924\u093e \u092e\u093f\u0924\u093f",dataField:"applicantDate",cellsalign:"center",align:"center",width:"100"},{text:"\u092d\u0935\u0928\u0915\u094b \u0915\u093f\u0938\u093f\u092e",dataField:"constructionType",cellsalign:"center",align:"center",width:"100",pinned:"true",filterType:"list"}],r.state={id:"",pageable:!0,groupable:!0,showfilterrow:!0},r.buttonrenderer=r.buttonrenderer.bind(Object(Ht.a)(r)),r}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.applicationList;return e?c.createElement(c.Fragment,null,c.createElement("div",{className:"mapRegistration-dataTableList"},c.createElement(ba.a,{Grid:this.tableRef,localdata:e,datafield:this.datafield,columns:this.columns,groups:!1,rowsheight:40,pageable:this.state.pageable,onRowselect:!1}))):c.createElement(T.b,{errors:this.props.errors,loading:this.props.loading})}}]),a}(c.PureComponent),ha=a(574),ga=x.object().shape({designer:F.w,file:F.b}),va=da,ya=pa,Oa={constructionType:"",year:"",nibedakName:"",kittaNo:"",wardNo:"",applicationStatus:"",applicationNo:""},ja=function(e){var t=e.getAfterUpdateAdminData,a=e.postAdminDataByUrl,n=e.errors,r=e.success,l=e.loading,o=e.adminData,s=Object(c.useState)(),u=Object(we.a)(s,2),m=u[0],d=u[1],p=Object(c.useState)({}),f=Object(we.a)(p,2),b=f[0],E=f[1],h=Object(c.useState)({}),O=Object(we.a)(h,2),j=O[0],w=O[1],D=Object(c.useState)([]),N=Object(we.a)(D,2),k=N[0],T=N[1],x=Object(c.useState)(!1),F=Object(we.a)(x,2),I=F[0],H=F[1],z=Object(c.useState)(!1),L=Object(we.a)(z,2),G=L[0],V=L[1],q=Object(c.useState)(!1),Y=Object(we.a)(q,2),Q=Y[0],J=Y[1],W=Object(c.useState)(!1),K=Object(we.a)(W,2),X=K[0],Z=K[1],$=Object(c.useState)(!1),ee=Object(we.a)($,2),te=ee[0],ae=ee[1],ne=Object(ha.a)(o.fiscalYear).fyOption;Object(c.useEffect)(function(){r&&r.success&&(Object(A.x)("Data saved successfully"),H(!1),Z(!1),E({}))},[r]),Object(c.useEffect)(function(){o.history&&Q&&w(o.history)},[o.history,Q]),Object(c.useEffect)(function(){Q&&V(!0)},[Q,j]),Object(c.useEffect)(function(){o.applicationList&&T(o.applicationList)},[o.applicationList]),Object(c.useEffect)(function(){o.designers&&d(o.designers.filter(function(e){return e.userType&&e.userType.id===B.a.DESIGNER}).map(function(e){return{value:e.loginId,text:"".concat(e.userName," - ").concat(e.email)}}))},[o.designers]),Object(c.useEffect)(function(){var e=document.querySelectorAll(".change-designer");e.length>0&&Array.from(e).forEach(function(e){var t=e.dataset.row,a=k[t];e.addEventListener("click",function(){return re(a)})});var t=document.querySelectorAll(".show-change-history");return t.length>0&&Array.from(t).forEach(function(e){var t=e.dataset.row,a=k[t];e.addEventListener("click",function(){return ie(a)})}),function(){var e=document.querySelectorAll(".change-designer");e.length>0&&Array.from(e).forEach(function(e){var t=e.dataset.row,a=k[t];e.removeEventListener("click",function(){return re(a)})});var t=document.querySelectorAll(".show-change-history");t.length>0&&Array.from(t).forEach(function(e){var t=e.dataset.row,a=k[t];e.removeEventListener("click",function(){return ie(a)})})}},[k,te]);var re=function(e){E(e),H(!0)},le=function(){Z(!0)},oe=function(){E({}),Z(!1),H(!1)},ce=function(){w([]),J(!1),V(!1)},ie=function(e){w([]),E(e),t([{api:"".concat(P.a.changeDesigner,"/").concat(parseInt(e.applicantNo)),objName:"history"}]),J(!0)};return i.a.createElement("div",{className:"setup-main"},i.a.createElement(U.a,{title:ya.title}),n&&i.a.createElement(_.b,{message:n.message}),i.a.createElement(ua.a,null,ya.title),i.a.createElement(g.c,{key:"get-app-info",initialValues:Oa,onSubmit:function(e,a){a.setSubmitting(!0);try{T([]),t([{api:"".concat(P.a.applicationFilter,"?constructionType=").concat(e.constructionType,"&year=").concat(e.year,"&nibedakName=").concat(e.nibedakName,"&kittaNo=").concat(e.kittaNo,"&wardNo=").concat(e.wardNo,"&applicationStatus=").concat(e.applicationStatus),objName:"applicationList"}]),a.setSubmitting(!1)}catch(n){a.setSubmitting(!1),console.log("err",n)}}},function(e){var t=e.handleSubmit,a=e.errors,n=e.isSubmitting,r=e.values,o=e.setFieldValue;return i.a.createElement(v.a,{loading:n||l},i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,i.a.createElement(M.h,{name:"nibedakName",label:va.nibedakName,setFieldValue:o,errors:a.nibedakName,value:r.nibedakName})),i.a.createElement(v.a.Field,null,i.a.createElement(ge.d,{needsZIndex:!0,name:"constructionType",label:va.constructionType,options:it.l})),i.a.createElement(v.a.Field,null,i.a.createElement(M.h,{name:"kittaNo",label:va.kittaNo,setFieldValue:o,errors:a.kittaNo,value:r.kittaNo})),i.a.createElement(v.a.Field,null,i.a.createElement(M.h,{name:"wardNo",label:va.wardNo,setFieldValue:o,errors:a.wardNo,value:r.wardNo})),i.a.createElement(v.a.Field,null,i.a.createElement(ge.d,{needsZIndex:!0,name:"year",label:va.year,options:ne}))),i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,i.a.createElement(C.a,{className:"primary-btn",icon:"search",content:"Search Application",onClick:t}))))}),i.a.createElement("h4",null,"Search Results"),i.a.createElement(Ea,{handleAction:re,handleShowHistory:ie,applicationList:k,generateButtonRenderer:function(e){return ae(!te),'<button title="Change Designer" class="ui primary-table-three-btn tiny icon button change-designer" data-row='+e+'><i aria-hidden="true" class="exchange icon"></i></button><button title="Show History" class="ui primary-table-three-btn tiny icon button show-change-history" data-row='+e+'><i aria-hidden="true" class="history icon"></i></button>'}}),!Object(A.s)(b)&&i.a.createElement("div",null,i.a.createElement(S.a,null),i.a.createElement(g.c,{key:"change-designer",validationSchema:ga,onSubmit:function(e,t){t.setSubmitting(!0);var n=new FormData,r=e.file;r&&r.forEach(function(e){return n.append("file",e)});try{a("".concat(P.a.changeDesigner,"/").concat(b.applicantNo,"?designer=").concat(e.designer),n),t.setSubmitting(!1)}catch(l){t.setSubmitting(!1),console.log("err",l)}}},function(e){var t=e.handleSubmit,a=e.isSubmitting,r=e.errors,o=e.validateForm;return i.a.createElement(v.a,null,i.a.createElement(Je.b,{key:"open-confirmation",open:I,errors:n,isSubmitting:a||l,handleSubmit:le,handleClose:oe,title:ya.title,saveText:ya.saveText,cancelText:ya.cancelText},ya.content),i.a.createElement(Je.a,{key:"show-change-history",open:G,isSubmitting:l,handleClose:ce,title:ya.historyTitle,saveText:ya.historyOkButton},i.a.createElement(v.a,{loading:l},j&&i.a.createElement(Sa,{historyData:j,appId:b.applicantNo}))),i.a.createElement(Je.b,{open:X,errors:n,isSubmitting:a||l,handleSubmit:function(){o().then(function(e){Object(A.s)(e)&&t()})},handleClose:oe,title:ya.title,saveText:ya.confirmChange,cancelText:ya.cancelText},i.a.createElement(v.a,{loading:a||l},i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!r.designer},i.a.createElement("label",null,ya.select),i.a.createElement(ge.d,{name:"designer",options:m})),i.a.createElement(v.a.Field,{error:!!r.file},i.a.createElement("label",null,ya.file),i.a.createElement(R.a,{name:"file",fileCatId:"change-designer",hasMultipleFiles:!1}))),i.a.createElement(y.a,null,i.a.createElement(ua.a,null,va.applicationInfo),i.a.createElement(ma.a,{className:"app-info"},i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,{columns:"4"},i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Header,null,b.applicantNo),i.a.createElement(ma.a.Description,null,va.applicationId))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Header,null,b.applicantName),i.a.createElement(ma.a.Description,null,va.applicantName))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Header,null,b.nibedakName),i.a.createElement(ma.a.Description,null,va.nibedakName))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Header,null,b.applicationStatus),i.a.createElement(ma.a.Description,null,va.applicationStatus)))),i.a.createElement(Yt.a.Row,{columns:"4"},i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Header,null,b.applicantMobileNo),i.a.createElement(ma.a.Description,null,va.applicantMobileNo))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Header,null,Object(fa.e)(b.applicantDate)),i.a.createElement(ma.a.Description,null,va.applicantDate))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Header,null,b.constructionType),i.a.createElement(ma.a.Description,null,va.constructionType))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Header,null,Object(A.p)(b.applicationActionBy)),i.a.createElement(ma.a.Description,null,va.applicationActionBy))))))))))})))},Ca=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.organizationUser,objName:"designers"},{api:P.a.fiscalYear,objName:"fiscalYear"},{api:"".concat(P.a.applicationFilter,"?constructionType=").concat(Oa.constructionType,"&year=").concat(Oa.year,"&nibedakName=").concat(Oa.nibedakName,"&kittaNo=").concat(Oa.kittaNo,"&wardNo=").concat(Oa.wardNo,"&applicationStatus=").concat(Oa.applicationStatus),objName:"applicationList"}],updateApi:[],render:function(t){return i.a.createElement(ja,Object.assign({},t,{parentProps:e}))}})},Sa=function(e){var t=e.historyData,a=e.appId;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,va.applicationNumb," ",a),t.length>0?i.a.createElement("div",{className:"scrollable-table-body"},i.a.createElement(w.a,{celled:!0,compact:"very",striped:!0},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"Changed By"),i.a.createElement(w.a.HeaderCell,null,"Changed On"),i.a.createElement(w.a.HeaderCell,null,"Changed To"),i.a.createElement(w.a.HeaderCell,null,"File"))),i.a.createElement(w.a.Body,null,t.map(function(e){return e&&i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.changeBy),i.a.createElement(w.a.Cell,null,e.changeDate),i.a.createElement(w.a.Cell,null,e.changeTo),i.a.createElement(w.a.Cell,null,i.a.createElement(I.b,{el:{fileUrl:e.fileUrl},viewText:"View Voucher"})))})))):i.a.createElement(y.a,null,ya.historyNoData))},wa=a(163),Da=a(215),Na=a(645),ka=a(49),Ta=D.c.us_data,Aa={header:{header_1:"\u0921\u093f\u091c\u093e\u0907\u0928\u0930 "},data_1:{data_1_1:"\u0928\u093e\u092e :",data_1_2:"\u0928\u093e\u092e:(\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940\u092e\u093e)",data_1_3:"\u0920\u0947\u0917\u093e\u0928\u093e",data_1_4:"\u0920\u0947\u0917\u093e\u0928\u093e(\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940\u092e\u093e)"},data_2:{data_2_1:"\u0915\u0928\u094d\u0938\u0932\u094d\u091f\u093f\u0919 \u092b\u0930\u094d\u092e",data_2_2:"\u0915\u0928\u094d\u0938\u0932\u094d\u091f\u093f\u0919 \u092b\u0930\u094d\u092e (\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940\u092e\u093e)",data_2_3:"\u0907\u092e\u0947\u0932",data_2_4:"\u092a\u093e\u0938\u094d\u0935\u0930\u094d\u0921"},data_3:{data_3_1:"\u092a\u093f\u0924\u093e,\u092a\u0924\u093f,\u092a\u0924\u094d\u0928\u0940\u0915\u094b \u0928\u093e\u092e",data_3_2:"\u0928\u093e\u0917\u0930\u093f\u0915\u0924\u093e \u092a\u094d\u0930\u092e\u093e\u0923 \u092a\u0924\u094d\u0930 \u0928\u0902 .",data_3_3:"\u091c\u093e\u0930\u0940 \u091c\u093f\u0932\u094d\u0932\u093e",data_3_4:"\u092f\u094b\u0917\u094d\u092f\u0924\u093e"},data_4:{data_4_1:"\u092f\u094b\u0917\u094d\u092f\u0924\u093e(\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940\u092e\u093e)",data_4_2:"\u0928\u0947\u092a\u093e\u0932 \u0907\u0928\u094d\u091c\u093f\u0928\u093f\u092f\u0930\u093f\u0919 \u092a\u0930\u093f\u0937\u0926 \u0926\u0930\u094d\u0924\u093e \u0928\u0902 .",data_4_3:"\u092b\u094b\u0928 \u0928\u092e\u094d\u092c\u0930 ",data_4_4:"\u092e\u094b\u092c\u093e\u0908\u0932 \u0928\u092e\u094d\u092c\u0930"},data_5:{data_5_1:"\u0928.\u092a\u093e. \u0930\u091c\u093f\u0938\u094d\u091f\u094d\u0930\u0947\u0938\u0928  \u0928\u092e\u094d\u092c\u0930",data_5_2:"\u0928.\u092a\u093e. \u0926\u0930\u094d\u0924\u093e \u092e\u093f\u0924\u0940  :",data_5_3:"\u092e\u094d\u092f\u093e\u0926 \u0938\u0915\u093f\u0928\u0947 \u092e\u093f\u0924\u0940 :"},second_header:{second_header_1:"\u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u0938\u0941\u091a\u0940 "},table:{table_1:"\u0915\u094d\u0930.\u0938.",table_2:"\u0928\u093e\u092e ",table_3:"\u0928\u093e\u092e(\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940\u092e\u093e)",table_4:"\u092f\u094b\u0917\u094d\u092f\u0924\u093e",table_5:"\u0928\u0947\u092a\u093e\u0932 \u0907\u0928\u094d\u091c\u093f\u0928\u093f\u092f\u0930\u093f\u0919 \u092a\u0930\u093f\u0937\u0926 \u0926\u0930\u094d\u0924\u093e \u0928\u0902 .",table_6:"\u0920\u0947\u0917\u093e\u0928\u093e",table_7:"\u0920\u0947\u0917\u093e\u0928\u093e(\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940\u092e\u093e)",table_8:"\u0915\u0928\u094d\u0938\u0932\u094d\u091f\u093f\u0919 \u092b\u0930\u094d\u092e",table_9:"\u0915\u0928\u094d\u0938\u0932\u094d\u091f\u093f\u0919 \u092b\u0930\u094d\u092e (\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940\u092e\u093e)",table_10:"\u092b\u094b\u0928",table_11:"\u092e\u094b\u092c\u093e\u0908\u0932",table_12:"\u0928.\u092a\u093e. \u0930\u091c\u093f\u0938\u094d\u091f\u094d\u0930\u0947\u0938\u0928  \u0928\u092e\u094d\u092c\u0930",table_13:"\u092e\u093f\u0924\u0940 ",table_14:"\u0915\u093e\u0930\u094d\u092f   "},renew:{previousRenewDate:"\u092a\u0942\u0930\u094d\u0935 \u0928\u0935\u0940\u0915\u0930\u0923 \u0917\u0930\u093f\u090f\u0915\u094b \u092e\u093f\u0924\u093f",previousRenewTillDate:"\u092f\u094b \u092e\u093f\u0924\u093f \u0938\u092e\u094d\u092e \u0928\u0935\u0940\u0915\u0930\u0923 \u092d\u090f\u0915\u094b \u091b",renewDate:"\u0928\u0935\u0940\u0915\u0930\u0923 \u0917\u0930\u094d\u0928\u0947 \u092e\u093f\u0924\u093f",renewTillDate:"\u0928\u0935\u0940\u0915\u0930\u0923 \u0917\u0930\u094d\u0928\u0947 \u092e\u093f\u0924\u093f (\u0938\u092e\u094d\u092e)",charge:"\u0926\u0938\u094d\u0924\u0941\u0930 \u092d\u094c\u091a\u0930",billNo:"\u0926\u0938\u094d\u0924\u0941\u0930 \u092c\u093f\u0932 \u0928\u092e\u094d\u092c\u0930",fiscalYear:"\u0906\u0930\u094d\u0925\u093f\u0915 \u092c\u0930\u094d\u0937"}},xa=function(e){var t=e.currentUser,a=e.loading,n=e.renewData,r=e.values,l=e.errors,o=e.handleChange,c=e.setFieldValue,s=e.fiscalYearOptions,u=e.latestRenew;return i.a.createElement(v.a,{loading:a,className:"setup-modal"},u&&i.a.createElement(v.a.Group,{widths:"three"},i.a.createElement(v.a.Field,null,i.a.createElement("b",null,Aa.renew.previousRenewDate),i.a.createElement("p",null,u.renewDateBS)),i.a.createElement(v.a.Field,null,i.a.createElement("b",null,Aa.renew.previousRenewTillDate),i.a.createElement("p",null,u.tillDateBS," "))),i.a.createElement(v.a.Group,{widths:"three"},i.a.createElement(v.a.Field,null,i.a.createElement("b",null,Aa.renew.renewDate),i.a.createElement("p",null,Object(ka.c)()," ")),i.a.createElement(v.a.Field,null,i.a.createElement(ae.b,{label:Aa.renew.renewTillDate,name:"tillDate",handleChange:o,error:l.tillDate,value:r.tillDate})),i.a.createElement(v.a.Field,null,i.a.createElement(ge.d,{label:Aa.renew.fiscalYear,name:"fiscalYear",options:s}))),i.a.createElement(v.a.Group,{widths:"three"},i.a.createElement(v.a.Field,null,Aa.renew.charge,i.a.createElement(R.b,{name:"charge",hasMultipleFiles:!1,error:l.charge,fileCatId:"renewBill"})),i.a.createElement(v.a.Field,null,i.a.createElement(M.h,{label:Aa.renew.billNo,name:"billNo",setFieldValue:c,error:l.billNo,value:r.billNo}))),i.a.createElement(S.a,null),i.a.createElement("h3",null,Ta.modal.titleView),i.a.createElement(Yt.a,{padded:!0,className:"setup-modal"},i.a.createElement(Yt.a.Row,null,i.a.createElement(Yt.a.Column,{width:8},i.a.createElement("p",null,Ta.formdata.loginId," : ",t.userName),i.a.createElement("p",null,Ta.formdata.address,": ",t.address),i.a.createElement("p",null,"Consultancy Name: ",t.consultancyName),i.a.createElement("p",null,Ta.formdata.email,": ",t.email),i.a.createElement("p",null,Ta.formdata.issueDate,": ",t.joinDateBS)),i.a.createElement(Yt.a.Column,{width:8},Ta.formdata.photo,": ",i.a.createElement(I.c,{deletable:!1,el:{fileUrl:t.photo}})))),i.a.createElement(S.a,null),i.a.createElement(Fa,{renewData:n}))},Fa=function(e){var t=e.renewData;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Renewal History"),i.a.createElement("div",{className:"scrollable-table-body"},i.a.createElement(w.a,{celled:!0,compact:"very",striped:!0},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"Renewed By"),i.a.createElement(w.a.HeaderCell,null,"Renewed On"),i.a.createElement(w.a.HeaderCell,null,"Till Date"),i.a.createElement(w.a.HeaderCell,null,"Fiscal Year"),i.a.createElement(w.a.HeaderCell,null,"Bill Number"),i.a.createElement(w.a.HeaderCell,null,"Voucher"))),i.a.createElement(w.a.Body,null,t.length<=0?i.a.createElement(w.a.Row,null,"This designer has not been renewed yet."):t.map(function(e){return e&&i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.renewBy),i.a.createElement(w.a.Cell,null,e.renewDateBS),i.a.createElement(w.a.Cell,null,e.tillDateBS),i.a.createElement(w.a.Cell,null,e.fiscalYear),i.a.createElement(w.a.Cell,null,e.billNo),i.a.createElement(w.a.Cell,null,i.a.createElement(I.b,{el:{fileUrl:e.fileUrl},viewText:"View Voucher"})))})))))},Ma=a(563),Ra=a(42),_a=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).renderButton=function(e,t){var a=r.props.buttonProps;Ra.render(c.createElement(c.Fragment,null,a.map(function(t){return t.visible?c.createElement(C.a,{title:t.title,onClick:function(){return t.handleButtonClick(e)},size:"tiny",className:t.class},c.createElement("i",{"aria-hidden":"true",className:t.icon})):null})),t)},r.actionColumns=[{text:"Actions",cellsalign:"center",align:"center",createwidget:function(e,t,a,n){r.renderButton(e.boundindex,n)},initwidget:function(e,t,a,n){r.renderButton(e,n)},width:r.props.actionWidth,pinned:"true"}].concat(r.props.columns),r.state={id:"",pageable:!0,groupable:!0,showfilterrow:!0},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.datafield,n=e.needsAction,r=void 0===n||n;return t?c.createElement(c.Fragment,null,c.createElement("div",{className:"mapRegistration-dataTableList"},c.createElement(ba.a,{localdata:t,datafield:a,columns:r?this.actionColumns:this.props.columns,groups:!1,rowsheight:50,pageable:this.state.pageable,showfilterrow:this.state.showfilterrow,onRowselect:!1}))):c.createElement(T.b,{errors:this.props.errors,loading:this.props.loading})}}]),a}(c.PureComponent),Ia=a(577),Ha=D.c.us_data.modal,Ua=D.c.us_data,Pa=["userName","userType","address","loginId","educationQualification","status"].map(function(e){return Object(f.a)({},e,F.w)}),Ba=["mobile","municipalRegNo"].map(function(e){return Object(f.a)({},e,F.l)}),za=x.object().shape({tillDate:F.g,fiscalYear:F.w,charge:F.b,billNo:F.w}),La=x.object().shape(Object.assign.apply(Object,[{email:x.string().email(Ke.o.incorrect).required(Ke.m.required)}].concat(Object(p.a)(Pa),Object(p.a)(Ba)))),Ga={id:0,userType:"D",status:"N"},Va=function(e){var t=e.adminData,a=e.success,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.putAdminDataByUrl,o=e.errors,s=e.loading,u=function(e,t,a){var n=Object(c.useState)(!1),r=Object(we.a)(n,2),l=r[0],o=r[1],i=Object(c.useState)(!1),s=Object(we.a)(i,2),u=s[0],m=s[1],p=Object(c.useState)(!1),f=Object(we.a)(p,2),b=f[0],E=f[1],h=Object(c.useState)(!1),g=Object(we.a)(h,2),v=g[0],y=g[1],O=Object(c.useState)(!1),j=Object(we.a)(O,2),C=j[0],S=j[1],w=Object(c.useState)(!1),D=Object(we.a)(w,2),N=D[0],k=D[1],T=Object(c.useState)(!1),x=Object(we.a)(T,2),F=x[0],M=x[1],R=Object(c.useState)(!1),_=Object(we.a)(R,2),I=_[0],H=_[1],U=Object(c.useState)(e),P=Object(we.a)(U,2),B=P[0],z=P[1],L=Object(c.useState)(t),G=Object(we.a)(L,2),V=G[0],q=G[1],Y=Object(c.useState)(t),Q=Object(we.a)(Y,2),J=Q[0],W=Q[1];Object(c.useEffect)(function(){a&&a.success&&(F?(Object(A.x)("Data deleted successfully"),m(!1),M(!1)):I&&!N?(Object(A.x)("Designer renewed successfully"),E(!1),H(!1),k(!1)):(Object(A.x)("Data saved successfully"),o(!1),y(!1)))},[a]),Object(c.useEffect)(function(){N||v||C?o(!0):F?m(!0):I?E(!0):(m(!1),o(!1),E(!1))},[N,v,F,I,C]);var K=Object(c.useCallback)(function(e){z(Object(d.a)({},e)),y(!0),k(!1),M(!1)},[]),X=Object(c.useCallback)(function(e){z(Object(d.a)({},e)),y(!1),k(!1),M(!1),S(!0)},[]),Z=Object(c.useCallback)(function(e,t){var a=t.filter(function(t){return t.designerId===parseInt(e.id)})||[],n=a&&a.length>0&&a.reduce(function(e,t){return e.renewDate>t.renewDate?e:t});z(Object(d.a)({},e)),q(a),W(n),H(!0),M(!1),k(!1),y(!1)},[]);return{isEditing:v,isDeleting:F,isRenewing:I,isViewing:C,formState:B,renewState:V,latestRenew:J,openAddModal:l,openDeleteModal:u,openRenewModal:b,handleAdd:function(){z(Object(d.a)({},e)),k(!0),y(!1),M(!1)},handleClose:function(){M(!1),k(!1),y(!1),H(!1),S(!1)},handleEdit:K,handleDelete:function(e){z(Object(d.a)({},e)),M(!0),k(!1),y(!1)},handleRenew:Z,handleView:X}}(Ga,{},a),m=u.isEditing,p=u.isDeleting,f=u.isViewing,b=u.formState,j=u.openAddModal,S=u.handleAdd,w=u.handleEdit,N=u.handleView,k=u.handleClose,T=u.isRenewing,x=u.handleRenew,F=u.openRenewModal,M=u.renewState,R=u.latestRenew,_=Object(c.useState)([]),I=Object(we.a)(_,2),H=I[0],z=I[1],L=Object(c.useState)([]),G=Object(we.a)(L,2),V=G[0],q=G[1],Y=Object(c.useState)({}),Q=Object(we.a)(Y,2),J=Q[0],W=Q[1],K=Object(c.useState)(!0),X=Object(we.a)(K,2),Z=X[0],$=X[1],ee=Object(c.useState)(!1),te=Object(we.a)(ee,1)[0],ae=Object(c.useState)(!1),ne=Object(we.a)(ae,2),re=ne[0],le=ne[1],oe=Object(c.useState)("A"),ce=Object(we.a)(oe,2),ue=ce[0],me=ce[1],de=Object(c.useState)(!1),pe=Object(we.a)(de,2),fe=pe[0],be=pe[1],Ee=Object(c.useState)(!1),he=Object(we.a)(Ee,2),ge=he[0],ve=he[1],ye=Object(ha.a)(t.fiscalYear),Oe=ye.fy,je=ye.fyOption;Object(c.useEffect)(function(){if(a&&a.success){var e=t.userData.find(function(e){return String(e.loginId).toLowerCase()===String(re).toLowerCase()});e&&(x(e,t.renewalData),le(void 0))}},[a,re,t.userData,t.renewalData,x]),Object(c.useEffect)(function(){$(t.organization[0]&&"private"===t.organization[0].designerLoginType)},[t.organization]),Object(c.useEffect)(function(){a&&a.success&&fe&&be(!1)},[a,fe]),Object(c.useEffect)(function(){q(t.renewalData)},[t.renewalData]),Object(c.useEffect)(function(){if("P"===ue)z(t.pendingDesigners);else{var e=t.userData.filter(function(e){return e.userType.id===B.a.DESIGNER});e&&z(e.map(function(e){return Object(d.a)(Object(d.a)({},e),{},{joinDateBS:Object(ka.a)(e.joinDateBS),validDateBS:Object(ka.a)(e.validDateBS)})}))}},[ue,t.userData,t.pendingDesigners]),Object(c.useEffect)(function(){W({userImage:b.photo,userStamp:b.stamp,userSignature:b.signature})},[b]),Object(Ia.a)(te,[1,2,4,8]);return i.a.createElement("div",null,i.a.createElement(U.a,null,i.a.createElement("title",null,Ha.titleAdd)),i.a.createElement(g.c,{enableReinitialize:!0,validationSchema:T?za:fe?null:La,initialValues:Object(d.a)(Object(d.a)({},b),{},{fiscalYear:Oe,billNo:""}),onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){var o,c,i,s,u,d;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0),o=new FormData,c=t.userSignature,i=t.userStamp,s=t.userImage,delete t.imagePreviewUrl_userImage,delete t.imagePreviewUrl_userSignature,delete t.imagePreviewUrl_userStamp,s?s.forEach(function(e){return o.append("userImage",e)}):o.append("userImage",null),c?c.forEach(function(e){return o.append("userSignature",e)}):o.append("userSignature",null),i?i.forEach(function(e){return o.append("userStamp",e)}):o.append("userStamp",null),Object.keys(t).forEach(function(e){["approveBy","approveDate","joinDate"].includes(e)||o.append(e,t[e])});try{"P"===ue?m?(n("".concat(P.a.userRequest,"/").concat(b.id),o),a.setSubmitting(!1)):fe&&!Object(ta.a)(ge)&&l(P.a.userRequest,ge):m?(n("".concat(P.a.organizationUser).concat(b.id),o),a.setSubmitting(!1)):p?(r(P.a.classGroup,b.id),a.setSubmitting(!1)):T?(u=new FormData,(d=t.charge)&&d.forEach(function(e){return u.append("file",e)}),u.append("tillDate",t.tillDate),u.append("fiscalYear",t.fiscalYear),u.append("billNo",t.billNo),u.append("id",b.id),n("".concat(P.a.renewDesigner),u),a.setSubmitting(!1)):(n(P.a.organizationUser,o),a.setSubmitting(!1))}catch(f){console.log("Error in Designer post",f),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 13:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting,n=e.errors,r=e.handleChange,l=e.setFieldValue,c=e.values;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Je.b,{open:j,errors:o,isSubmitting:a||s,handleSubmit:f?k:t,handleClose:k,title:m?Ha.titleEdit:f?Ha.titleView:Ha.titleAdd,saveText:m?Ha.editText:f?Ha.viewText:Ha.saveText,cancelText:Ha.cancelText},f?i.a.createElement(Na.b,{labelData:Ua,values:c,userTypeOption:it.B,existingImages:J}):i.a.createElement(Na.a,{loading:a||s,labelData:Ua,errors:n,handleChange:r,setFieldValue:l,values:c,userTypeOption:it.B,existingImages:J,isEditing:m,setLoginId:le})),i.a.createElement(Je.b,{open:F,errors:o,isSubmitting:a||s,handleSubmit:t,handleClose:k,title:Ha.titleRenew,saveText:Ha.renewText,cancelText:Ha.cancelText},i.a.createElement(xa,{loading:a||s,errors:n,handleChange:r,setFieldValue:l,values:c,existingImages:J,fiscalYearOptions:je,renewData:M,currentUser:b,latestRenew:R})),i.a.createElement(Je.b,{open:fe,errors:o,isSubmitting:a||s,handleSubmit:t,handleClose:function(){return be(!1)},title:Ha.titleApprove,saveText:Ha.approveText,cancelText:Ha.cancelText},i.a.createElement(v.a,{loading:a||s},Ha.approveBody)))}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},Ua.tableTitle,i.a.createElement(C.a,{basic:!0,style:{right:6,top:8,position:"absolute"},inverted:!0,type:"reset",onClick:function(){S()}},i.a.createElement(ie.a,null,i.a.createElement(se.a,{name:"add user"}),Ua.modal.titleAdd))),!Z&&i.a.createElement(Ma.a,null,i.a.createElement("div",{className:"zIndexSelect compact"},i.a.createElement("span",null,"Designer Status: "),i.a.createElement(O.a,{options:it.v,value:ue,name:"status",onChange:function(e,t){var a=t.value;return me(a)}}))),i.a.createElement("br",null),i.a.createElement(_a,{data:H,columns:D.a,datafield:D.b,buttonProps:[{visible:!0,title:"View",class:"".concat(Z||"P"===ue?"primary-table-three-btn":"primary-table-two-btn"," icon"),icon:"eye icon",handleButtonClick:function(e){var t=H[e];N(Object(d.a)(Object(d.a)({},t),{},{userType:B.a.DESIGNER}))}},{visible:!0,title:"Edit",class:"".concat(Z||"P"===ue?"primary-table-three-btn":"primary-table-two-btn"," icon"),icon:"edit icon",handleButtonClick:function(e){var t=H[e];w(Object(d.a)(Object(d.a)({},t),{},{userType:B.a.DESIGNER}))}},{visible:Z,title:"Renew",class:"primary-table-three-btn icon",icon:"calendar plus outline icon",handleButtonClick:function(e){var t=H[e];x(Object(d.a)({},t),V)}},{visible:"P"===ue,title:"Approve",class:"success-table-three-btn icon",icon:"check icon",handleButtonClick:function(e){var t,a=H[e];t=a.id,ve(t),be(!0)}}],actionWidth:130,needsAction:!0}))},qa=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.organizationUser,objName:"userData"},{api:P.a.userRequest,objName:"pendingDesigners"},{api:P.a.fiscalYear,objName:"fiscalYear"},{api:P.a.designerRenewStatus,objName:"renewalData"},{api:P.a.organizationMaster,objName:"organization"}],updateApi:[{api:P.a.organizationUser,objName:"userData"},{api:P.a.designerRenewStatus,objName:"renewalData"},{api:P.a.userRequest,objName:"pendingDesigners"}],render:function(t){return i.a.createElement(Va,Object.assign({},t,{parentProps:e}))}})},Ya={tableHeader:"Architecture Design Class B Master",tableHeadings:{id:"Id",buildingElements:"Building Elements",groupId:"Group Id",groupName:"Group Name",unit:"Unit",actions:"Actions"}},Qa={titleAdd:"Add Architecture Design Class B Master",titleEdit:"Edit Architecture Design Class B Master",saveText:"Save Architecture Design Class B Master",editText:"Update Architecture Design Class B Master",deleteText:"Delete Architecture Design Class B Master",delete:{title:"Delete Architecture Design Class B Master",content:"Are you sure you want to delete this row?"}},Ja="\u092c\u0939\u0941 \u090f\u0915\u093e\u0907\u0939\u0930\u0942 \u0925\u092a\u094d\u0928, \u090f\u0915\u093e\u0907\u0939\u0930\u0942 ':' \u0932\u0947 \u0935\u0930\u094d\u0917\u0940\u0915\u0930\u0923 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d\u0964 \u0909\u0926\u093e\u0939\u0930\u0923  'mm:feet'",Wa={archiCHead:"Architecture Design Class C Master",archiCtableHeadings:{id:"Id",buildingElements:"Building Elements",groupId:"Group Id",groupName:"Group Name",unit:"Unit",actions:"Actions"}},Ka={archiCAdd:"Add Architecture Design Class C Master",archiCEdit:"Edit Architecture Design Class C Master",archiCSave:"Save Architecture Design Class C Master",archiCUpdate:"Update Architecture Design Class C Master",archiCDelete:"Delete Architecture Design Class C Master",archiCdeleteModal:{archiCDeletetitle:"Delete Architecture Design Class C Master",archiCDeletecontent:"Are you sure you want to delete this row?"}},Xa={elecDesignHead:"Electrical Design Master",elecDesigntableHeadings:{id:"Id",groupName:"Group Name",elements:"Electrical Elements",unit:"Unit",actions:"Actions"}},Za={elecDesignAdd:"Add Electrical Design Master",elecDesignEdit:"Edit Electrical Design Master",elecDesignSave:"Save Electrical Design Master",elecDesignUpdate:"Update Electrical Design Master",elecDesignDelete:"Delete Electrical Design Master",elecDesigndeleteModal:{elecDesignDeletetitle:"Delete Electrical Design Master",elecDesignDeletecontent:"Are you sure you want to delete this row?"}},$a={header:"Map Check Report Master",tableheader:{id:"ID",sn:"S.N",buildingDes:"Building Description",strucType:"Building Structural System",actions:"Actions"}},en={addMapCheck:"Add Map Check Report Master",editMapCheck:"Edit Map Check Report Master",saveMapCheck:"Save Map Check Report Master",updateMapCheck:"Update Map Check Report Master",deleteMapCheck:"Delete Map Check Report Master",deleteMapCheckModal:{deleteMapCheckModaltitle:"Delete Map Check Report Master",deleteMapCheckModalContent:"Are you sure you want to delete this row?"}},tn={header:"Masons List",tableheader:{name:"Name",address:"Address",contact:"Contact No.",regNo:"Municipal Registration Number",status:"Status",actions:"Actions"}},an={addMasonList:"Add Mason",editMasonList:"Edit Mason",saveMasonList:"Save Mason",updateMasonList:"Update Mason",deleteMasonList:"Delete Mason",deleteMasonListModal:{deleteMasonListModaltitle:"Delete Mason",deleteMasonListModalContent:"Are you sure you want to delete this row?"}},nn=a(121),rn={id:"",buildingElements:"",groupId:"",groupName:"",unit:""},ln=Ya.tableHeadings,on=Qa,cn=function(e){var t=e.adminData,a=e.success,n=e.putAdminDataByUrl,r=e.postAdminDataByUrl,l=e.deleteAdminDataByUrl,o=e.errors,s=e.loading,u=function(e,t){var a=Object(d.a)(Object(d.a)(Object(d.a)({},Re),_e),{},{formState:e}),n=Object(c.useReducer)(function(t,n){switch(n.type){case ke:return Object(d.a)(Object(d.a)({},t),Re);case Te:return Object(d.a)(Object(d.a)({},t),_e);case Ae:return Object(d.a)(Object(d.a)({},t),{},{formState:Object(d.a)({},e),isEditing:!1,isDeleting:!1,openAddModal:!0});case xe:return Object(d.a)(Object(d.a)({},t),{},{formState:Object(d.a)({},n.payload),isEditing:!0,isDeleting:!1,openAddModal:!0});case Me:return Object(d.a)(Object(d.a)(Object(d.a)({},t),{},{formState:Object(d.a)({},n.payload)},_e),{},{isDeleting:!0,openDeleteModal:!0});case Fe:return a;default:return t}},a),r=Object(we.a)(n,2),l=r[0],o=l.isEditing,i=l.isDeleting,s=l.formState,u=l.openAddModal,m=l.openDeleteModal,p=r[1];Object(c.useEffect)(function(){t&&t.success&&(i?(p({type:ke}),Object(A.x)("Data deleted successfully")):o&&(p({type:Te}),Object(A.x)("Data saved successfully")))},[t,i,o]);return{isEditing:o,isDeleting:i,formState:s,openAddModal:u,openDeleteModal:m,handleAdd:function(){p({type:Ae})},handleEdit:function(e){p({type:xe,payload:e})},handleDelete:function(e){p({type:Me,payload:e})},handleClose:function(){p({type:Fe})}}}(rn,a),m=u.isEditing,p=u.isDeleting,f=u.formState,b=u.openAddModal,O=u.openDeleteModal,j=u.handleEdit,C=u.handleDelete,S=u.handleClose;return i.a.createElement("div",{className:"setup-main"},i.a.createElement(U.a,{title:"Architecture Design Class B Master"}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},Ya.tableHeader),i.a.createElement(w.a,{striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,ln.id),i.a.createElement(w.a.HeaderCell,null,ln.buildingElements),i.a.createElement(w.a.HeaderCell,null,ln.groupId),i.a.createElement(w.a.HeaderCell,null,ln.groupName),i.a.createElement(w.a.HeaderCell,null,ln.unit),i.a.createElement(w.a.HeaderCell,null,ln.actions))),i.a.createElement(w.a.Body,null,t&&t.archiBMaster&&t.archiBMaster.length>0?t.archiBMaster.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.buildingElements),i.a.createElement(w.a.Cell,null,e.groupId),i.a.createElement(w.a.Cell,null,e.groupName),i.a.createElement(w.a.Cell,null,e.unit),i.a.createElement(w.a.Cell,null,i.a.createElement(Ve,{handleEdit:j,row:e}),i.a.createElement(qe,{handleDelete:C,row:e})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"6"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))),i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},f),onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{m?n(P.a.archiBMaster,f.groupId,t):p?l(P.a.archiBMaster,f.id):r(P.a.archiBMaster,t),a.setSubmitting(!1)}catch(o){console.log("Error in Archi B Master post",o),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Je.b,{key:"archi-b-master-edit",open:b,errors:o,isSubmitting:a||s,handleSubmit:t,handleClose:S,title:m?on.titleEdit:on.titleAdd,saveText:m?on.editText:on.saveText},i.a.createElement(v.a,{loading:a||s},i.a.createElement(nn.a,{info:!0},i.a.createElement(nn.a.Header,null,i.a.createElement(se.a,{name:"help circle"}),Ja)),i.a.createElement(Yt.a,null,m&&i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,"Id: ",f.id)),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:ln.buildingElements,name:"buildingElements"})),i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:ln.groupId,name:"groupId"}))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:ln.groupName,name:"groupName"})),i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:ln.unit,name:"unit"})))))),i.a.createElement(Je.b,{key:"archi-b-master-delete",open:O,errors:o,isSubmitting:a||s,handleSubmit:t,handleClose:S,title:on.delete.title,saveText:on.deleteText},i.a.createElement(v.a,{loading:a||s},on.delete.content)))}))},sn=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.archiBMaster,objName:"archiBMaster"}],updateApi:[{api:P.a.archiBMaster,objName:"archiBMaster"}],render:function(t){return i.a.createElement(cn,Object.assign({},t,{parentProps:e}))}})},un={id:"",sn:"",buildingDescription:"",type:""},mn=$a.tableheader,dn=en,pn=function(e){var t=e.adminData,a=e.success,n=e.putAdminDataByUrl,r=e.postAdminDataByUrl,l=e.deleteAdminDataByUrl,o=e.errors,c=e.loading,s=Ne(un,a),u=s.isEditing,m=s.isDeleting,p=s.formState,f=s.openAddModal,b=s.openDeleteModal,O=s.handleEdit,j=s.handleDelete,C=s.handleClose;return i.a.createElement("div",{className:"setup-main"},i.a.createElement(U.a,{title:"Map Check Report Master"}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},$a.header),i.a.createElement(w.a,{striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,mn.id),i.a.createElement(w.a.HeaderCell,null,mn.sn),i.a.createElement(w.a.HeaderCell,null,mn.buildingDes),i.a.createElement(w.a.HeaderCell,null,mn.strucType),i.a.createElement(w.a.HeaderCell,null,mn.actions))),i.a.createElement(w.a.Body,null,t&&t.mapCheckMaster&&t.mapCheckMaster.length>0?t.mapCheckMaster.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.sn),i.a.createElement(w.a.Cell,null,e.buildingDescription),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.type,it.g)),i.a.createElement(w.a.Cell,null,i.a.createElement(Ve,{handleEdit:O,row:e}),i.a.createElement(qe,{handleDelete:j,row:e})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"6"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))),i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},p),onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{u?n(P.a.mapCheckMaster,p.id,t):m?l(P.a.mapCheckMaster,p.id):r(P.a.mapCheckMaster,t),a.setSubmitting(!1)}catch(o){console.log("Error in Map Check Master post",o),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Je.b,{key:"map-check-master-edit",open:f,errors:o,isSubmitting:a||c,handleSubmit:t,handleClose:C,title:u?dn.editMapCheck:dn.addMapCheck,saveText:u?dn.updateMapCheck:dn.saveMapCheck},i.a.createElement(v.a,{loading:a||c},i.a.createElement(Yt.a,null,u&&i.a.createElement(Yt.a.Row,null,i.a.createElement(Yt.a.Column,null,"Id: ",p.id)),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:mn.buildingDes,name:"buildingDescription"})),i.a.createElement(Yt.a.Column,null,i.a.createElement(ge.d,{label:mn.strucType,name:"type",options:it.g}))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:mn.sn,name:"sn"})))))),i.a.createElement(Je.b,{key:"map-check-master-delete",open:b,errors:o,isSubmitting:a||c,handleSubmit:t,handleClose:C,title:dn.deleteMapCheckModal.deleteMapCheckModaltitle,saveText:dn.deleteMapCheck},i.a.createElement(v.a,{loading:a||c},dn.deleteMapCheckModal.deleteMapCheckModalcontent)))}))},fn=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.mapCheckMaster,objName:"mapCheckMaster"}],updateApi:[{api:P.a.mapCheckMaster,objName:"mapCheckMaster"}],render:function(t){return i.a.createElement(pn,Object.assign({},t,{parentProps:e}))}})},bn={tableHeader:"Has Revised Setup",tableHeadings:{id:"Id",hasRevised17:"\u092a\u094d\u0930\u093e\u0935\u093f\u0927\u093f\u0915 \u092a\u094d\u0930\u0924\u093f\u0935\u0947\u0926\u0928\u092e\u093e \u0938\u0902\u0938\u094b\u0927\u0928",hasRevised23:"\u092a\u094d\u0932\u093f\u0928\u094d\u0925 \u0932\u0947\u092d\u0932\u0938\u092e\u094d\u092e\u0915\u094b \u092a\u094d\u0930\u0924\u093f\u0935\u0947\u0926\u0928\u092e\u093e \u0938\u0902\u0938\u094b\u0927\u0928",hasRevised29:"\u0938\u0941\u092a\u0930\u0938\u094d\u091f\u094d\u0930\u0915\u094d\u091a\u0930\u0915\u094b \u092a\u094d\u0930\u0924\u093f\u0935\u0947\u0926\u0928\u092e\u093e \u0938\u0902\u0938\u094b\u0927\u0928",hasRevised:"\u0938\u0902\u0938\u094b\u0927\u0928 \u092b\u093e\u0930\u092e",status:"\u0938\u0902\u0938\u094b\u0927\u0928 \u0938\u094d\u0925\u093f\u0924\u093f",statusTallaThap:"\u0938\u0902\u0938\u094b\u0927\u0928/\u0924\u0932\u093e \u0925\u092a \u0938\u094d\u0925\u093f\u0924\u093f",ignoredForm:"Form To Ignore",userType:"User Type",actions:"Actions"}},En={hasRevised17:"\u092a\u094d\u0930\u093e\u0935\u093f\u0927\u093f\u0915 \u092a\u094d\u0930\u0924\u093f\u0935\u0947\u0926\u0928",hasRevised23:"\u092a\u094d\u0932\u093f\u0928\u094d\u0925 \u0932\u0947\u092d\u0932\u0938\u092e\u094d\u092e\u0915\u094b \u092a\u094d\u0930\u0924\u093f\u0935\u0947\u0926\u0928",hasRevised29:"\u0938\u0941\u092a\u0930\u0938\u094d\u091f\u094d\u0930\u0915\u094d\u091a\u0930\u0915\u094b \u092a\u094d\u0930\u0924\u093f\u0935\u0947\u0926\u0928"},hn={titleAdd:"Add Has Revised",titleEdit:"Edit Has Revised",saveText:"Save Has Revised",editText:"Update Has Revised",deleteText:"Delete Has Revised",delete:{title:"Delete Has Revised",content:"Are you sure you want to delete this row?"}},gn={tableHeader:"Menu Setup",tableHeadings:{id:"Id",menu:"Menu Name",menuType:"Menu Type",url:"Url",actions:"Actions"}},vn={titleAdd:"Add Menu",titleEdit:"Edit Menu",saveText:"Save Menu",editText:"Update Menu",deleteText:"Delete Menu",delete:{title:"Delete Menu",content:"Are you sure you want to delete this row?"}},yn={tableHeader:"Menu Access Setup",tableHeadings:{id:"Id",menu:"Menu Name",userType:"User Type",menuType:"Menu Type",status:"Has Access",actions:"Actions"}},On={titleAdd:"Add Menu Access",titleEdit:"Edit Menu Access",saveText:"Save Menu Access",editText:"Update Menu Access",deleteText:"Delete Menu Access",delete:{title:"Delete Menu Access",content:"Are you sure you want to delete this row?"}},jn={tableHeader:"User Type Setup",tableHeadings:{id:"Id",designation:"Designation",designationNepali:"Designation Nepali",hierarchy:"Hierarchy",approveColumn:"Approve Column",actions:"Actions"}},Cn={titleAdd:"Add User Type",titleEdit:"Edit User Type",saveText:"Save User Type",editText:"Update User Type",deleteText:"Delete User Type",delete:{title:"Delete User Type",content:"Are you sure you want to delete this row?"}},Sn={dataOption:{floor:"\u0924\u0932\u093e \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d",floorAll:"\u0938\u092c\u0948 \u0924\u0932\u093e",floorType:"\u0924\u0932\u093e\t\u092a\u094d\u0930\u0915\u093e\u0930 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d",floorTypeAll:"\u0938\u092c\u0948 \u0924\u0932\u093e \u092a\u094d\u0930\u0915\u093e\u0930",areaType:"\u0915\u094d\u0937\u0947\u0924\u094d\u0930\u095e\u0932 \u092a\u094d\u0930\u0915\u093e\u0930 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d",areaTypeAll:"\u0938\u092c\u0948 \u0915\u094d\u0937\u0947\u0924\u094d\u0930\u095e\u0932 \u092a\u094d\u0930\u0915\u093e\u0930",constructionType:"\u092d\u0935\u0928\u0915\u094b \u092a\u094d\u0930\u0915\u093e\u0930 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d",constructionTypeAll:"\u0938\u092c\u0948 \u092d\u0935\u0928\u0915\u094b \u092a\u094d\u0930\u0915\u093e\u0930",ward:"\u0935\u0921\u093e \u0928\u0902. \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d",wardAll:"\u0938\u092c\u0948 \u0935\u0921\u093e \u0928\u0902."},table:{tableHeader:"\u0930\u093e\u091c\u0936\u094d\u0935 \u0938\u0947\u091f\u092a",tableHeadings:{id:"Id",floor:" \u0924\u0932\u093e",floorType:"\u0924\u0932\u093e \u092a\u094d\u0930\u0915\u093e\u0930",wardNo:"\u0935\u0921\u093e \u0928\u0902.",area:"\u0915\u094d\u0937\u0947\u0924\u094d\u0930\u095e\u0932 \u092a\u094d\u0930\u0915\u093e\u0930",dharautiRate:"\u0927\u0930\u094c\u091f\u0940  \u0926\u0930",dasturRate:"\u0926\u0938\u094d\u0924\u0941\u0930 \u0926\u0930",constructionType:"\u092d\u0935\u0928\u0915\u094b \u092a\u094d\u0930\u0915\u093e\u0930",actions:"\u0915\u093e\u0930\u094d\u092f"}},modal:{titleAdd:"\u0930\u093e\u091c\u0936\u094d\u0935 \u0926\u0930 \u0925\u092a\u094d\u0928\u0941\u0939\u094b\u0938\u094d",titleEdit:"\u0930\u093e\u091c\u0936\u094d\u0935 \u0926\u0930 \u0905\u092a\u0921\u0947\u091f \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",saveText:"\u0930\u093e\u091c\u0936\u094d\u0935 \u0926\u0930 \u0925\u092a\u094d\u0928\u0941\u0939\u094b\u0938\u094d",editText:"\u0930\u093e\u091c\u0936\u094d\u0935 \u0926\u0930 \u0905\u092a\u0921\u0947\u091f \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",deleteText:"\u0930\u093e\u091c\u0936\u094d\u0935 \u0926\u0930 \u0939\u091f\u093e\u0909\u0928\u0941\u0939\u094b\u0938\u094d",cancelText:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",delete:{title:"\u0930\u093e\u091c\u0936\u094d\u0935 \u0926\u0930 \u0939\u091f\u093e\u0909\u0928\u0941\u0939\u094b\u0938\u094d",content:"\u0915\u0947 \u0924\u092a\u093e\u0908\u0902 \u092f\u094b \u0939\u091f\u093e\u0909\u0928 \u091a\u093e\u0939\u093e\u0928\u0941\u0939\u0941\u0928\u094d\u091b?"}}},wn="\u0935\u0921\u093e \u0928\u0902.",Dn={tableHeader:"\u0935\u0921\u093e \u0938\u0947\u091f\u092a",tableHeadings:{id:"Id",ward:"\u0935\u0921\u093e \u0928\u0902.",actions:"\u0915\u093e\u0930\u094d\u092f"}},Nn={titleAdd:"\u0935\u0921\u093e \u0928\u0902. \u0925\u092a\u094d\u0928\u0941\u0939\u094b\u0938\u094d",titleEdit:"\u0935\u0921\u093e \u0928\u0902. \u0905\u092a\u0921\u0947\u091f \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",saveText:"\u0935\u0921\u093e \u0928\u0902. \u0925\u092a\u094d\u0928\u0941\u0939\u094b\u0938\u094d",editText:"\u0935\u0921\u093e \u0928\u0902. \u0905\u092a\u0921\u0947\u091f \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",deleteText:"\u0935\u0921\u093e \u0928\u0902. \u0928\u092e\u094d\u092c\u0930 \u0939\u091f\u093e\u0909\u0928\u0941\u0939\u094b\u0938\u094d",cancelText:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",delete:{title:"\u0935\u0921\u093e \u0928\u0902. \u0928\u092e\u094d\u092c\u0930 \u0939\u091f\u093e\u0909\u0928\u0941\u0939\u094b\u0938\u094d",content:"\u0915\u0947 \u0924\u092a\u093e\u0908\u0902 \u092f\u094b \u0939\u091f\u093e\u0909\u0928 \u091a\u093e\u0939\u093e\u0928\u0941\u0939\u0941\u0928\u094d\u091b?"}},kn=bn.tableHeadings,Tn=hn,An=En,xn=[{value:17,text:An.hasRevised17},{value:23,text:An.hasRevised23},{value:29,text:An.hasRevised29}],Fn={id:"",hasRevised:17,status:"N",ignoredForm:[],userType:[]},Mn=x.object().shape({ignoredForm:F.w,userType:F.w}),Rn=function(e){var t=e.adminData,a=e.success,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.putAdminDataByUrl,o=e.errors,s=e.loading,u=De(Fn,a),m=u.isEditing,p=u.isDeleting,f=u.formState,b=u.openAddModal,S=u.openDeleteModal,D=u.handleAdd,N=u.handleEdit,k=u.handleDelete,T=u.setOpenAddModal,x=u.setOpenDeleteModal,F=aa(t.formNameMaster),M=Object(we.a)(F,1)[0],R=Object(c.useState)([]),_=Object(we.a)(R,2),I=_[0],H=_[1],z=Object(c.useState)([]),L=Object(we.a)(z,2),G=L[0],V=L[1],q=Object(c.useState)(),Y=Object(we.a)(q,2),Q=Y[0],J=Y[1],W=Object(c.useState)(),K=Object(we.a)(W,2),X=K[0],Z=K[1];return Object(c.useEffect)(function(){t.hasRevised&&Array.isArray(t.hasRevised)&&H(t.hasRevised.filter(function(e){return(void 0===Q||e.hasRevised===Q)&&(void 0===X||e.userType===X)}))},[t.hasRevised,Q,X]),Object(c.useEffect)(function(){if(t.hasRevised){var e=t.hasRevised.sort(function(e,t){return e.id-t.id});H(e)}},[t.hasRevised]),Object(c.useEffect)(function(){if(t.userTypeMaster&&Array.isArray(t.userTypeMaster)){var e=Object(B.e)(t.userTypeMaster);V(e)}},[t.userTypeMaster]),i.a.createElement("div",null,i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},f),validationSchema:Mn,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{m?l(P.a.hasRevised,f.id,t):p?r(P.a.hasRevised,f.id):n(P.a.hasRevised,t),a.setSubmitting(!1)}catch(o){console.log("Error in has revised post",o),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting,n=e.setFieldValue,r=e.errors,l=e.values;e.handleChange;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{title:"Has Revised Setup"}),i.a.createElement(Je.b,{key:"has-revised-edit",open:b,scroll:!1,errors:o,isSubmitting:a||s,handleSubmit:t,handleClose:function(){return T(!1)},title:m?Tn.titleEdit:Tn.titleAdd,saveText:m?Tn.editText:Tn.saveText},i.a.createElement(v.a,{loading:a||s},i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,{columns:"1"},i.a.createElement(Yt.a.Column,null,m?i.a.createElement(me.a,{label:kn.ignoredForm,options:M,name:"ignoredForm",value:l.ignoredForm,handleChange:function(e){return n("ignoredForm",e)},bold:!0}):i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!r.ignoredForm},i.a.createElement("span",null,kn.ignoredForm),i.a.createElement(Qt.a,{selection:!0,multiple:!0,label:kn.ignoredForm,name:"ignoreForm",onChange:function(e,t){var a=t.value;return n("ignoredForm",a)},options:M,value:l.ignoredForm}),r.ignoredForm&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.ignoredForm))))),i.a.createElement(Yt.a.Row,{columns:"1"},i.a.createElement(Yt.a.Column,null,m?i.a.createElement(ge.d,{label:kn.userType,name:"userType",options:G}):i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!r.userType},i.a.createElement("span",null,kn.userType),i.a.createElement(Qt.a,{selection:!0,multiple:!0,label:kn.userType,name:"userType",onChange:function(e,t){var a=t.value;return n("userType",a)},options:G,value:l.userType}),r.userType&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.userType))))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(ge.d,{label:kn.hasRevised,name:"hasRevised",options:xn})),i.a.createElement(Yt.a.Column,null,i.a.createElement(ge.d,{label:29===l.hasRevised?kn.statusTallaThap:kn.status,name:"status",options:29===l.hasRevised?it.z:it.y})))))),i.a.createElement(Je.b,{key:"has-revised-delete",open:S,errors:o,isSubmitting:a||s,handleSubmit:t,handleClose:function(){return x(!1)},title:Tn.delete.title,saveText:Tn.deleteText},i.a.createElement(v.a,{loading:a||s},Tn.delete.content)))}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},bn.tableHeader,i.a.createElement(C.a,{basic:!0,style:{right:6,top:8,position:"absolute"},inverted:!0,type:"reset",onClick:function(){D()}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"file outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"})),"  ".concat(Tn.titleAdd)))),i.a.createElement(v.a,{className:"compact-select"},i.a.createElement(v.a.Group,null,i.a.createElement(v.a.Field,{width:"5"},kn.hasRevised,i.a.createElement(O.a,{name:"revision",options:xn,onChange:function(e,t){var a=t.value;J(a)},value:Q})),i.a.createElement(v.a.Field,{width:"4"},kn.userType,i.a.createElement(O.a,{name:"userType",options:G,onChange:function(e,t){var a=t.value;Z(a)},value:X})))),i.a.createElement(w.a,{striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,kn.id),i.a.createElement(w.a.HeaderCell,null,kn.ignoredForm),i.a.createElement(w.a.HeaderCell,null,kn.hasRevised),i.a.createElement(w.a.HeaderCell,null,kn.status),i.a.createElement(w.a.HeaderCell,null,kn.userType),i.a.createElement(w.a.HeaderCell,null,kn.actions))),i.a.createElement(w.a.Body,null,I.length>0?I.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,Object(ve.m)(parseInt(e.ignoredForm),M)),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.hasRevised,xn)),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.status,it.z)),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.userType,G)),i.a.createElement(w.a.Cell,null,i.a.createElement(Ve,{row:Object(d.a)(Object(d.a)({},e),{},{id:parseInt(e.id)}),handleEdit:N}),i.a.createElement(qe,{handleDelete:k,row:e})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"7"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))))},_n=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.hasRevised,objName:"hasRevised"},{api:P.a.userType,objName:"userTypeMaster"}],localApi:[{key:ut.o,objName:"formNameMaster"}],updateApi:[{api:P.a.hasRevised,objName:"hasRevised"}],render:function(t){return i.a.createElement(Rn,Object.assign({},t,{parentProps:e}))}})},In={id:"",buildingElements:"",groupId:"",groupName:"",unit:""},Hn=Wa.archiCtableHeadings,Un=Ka,Pn=function(e){var t=e.adminData,a=e.success,n=e.putAdminDataByUrl,r=e.postAdminDataByUrl,l=e.deleteAdminDataByUrl,o=e.errors,c=e.loading,s=Ne(In,a),u=s.isEditing,m=s.isDeleting,p=s.formState,f=s.openAddModal,b=s.openDeleteModal,O=s.handleEdit,j=s.handleDelete,C=s.handleClose;return i.a.createElement("div",{className:"setup-main"},i.a.createElement(U.a,{title:"Architecture Design Class C Master"}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},Wa.archiCHead),i.a.createElement(w.a,{striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,Hn.id),i.a.createElement(w.a.HeaderCell,null,Hn.buildingElements),i.a.createElement(w.a.HeaderCell,null,Hn.groupId),i.a.createElement(w.a.HeaderCell,null,Hn.groupName),i.a.createElement(w.a.HeaderCell,null,Hn.unit),i.a.createElement(w.a.HeaderCell,null,Hn.actions))),i.a.createElement(w.a.Body,null,t&&t.archiCMaster&&t.archiCMaster.length>0?t.archiCMaster.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.buildingElements),i.a.createElement(w.a.Cell,null,e.groupId),i.a.createElement(w.a.Cell,null,e.groupName),i.a.createElement(w.a.Cell,null,e.unit),i.a.createElement(w.a.Cell,null,i.a.createElement(Ve,{handleEdit:O,row:e}),i.a.createElement(qe,{handleDelete:j,row:e})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"6"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))),i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},p),onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{u?n(P.a.archiCMaster,p.groupId,t):m?l(P.a.archiCMaster,p.id):r(P.a.archiCMaster,t),a.setSubmitting(!1)}catch(o){console.log("Error in Archi C Master post",o),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Je.b,{key:"archi-c-master-edit",open:f,errors:o,isSubmitting:a||c,handleSubmit:t,handleClose:C,title:u?Un.archiCEdit:Un.archiCAdd,saveText:u?Un.archiCUpdate:Un.archiCSave},i.a.createElement(v.a,{loading:a||c},i.a.createElement(nn.a,{info:!0},i.a.createElement(nn.a.Header,null,i.a.createElement(se.a,{name:"help circle"}),Ja)),i.a.createElement(Yt.a,null,u&&i.a.createElement(Yt.a.Row,null,i.a.createElement(Yt.a.Column,null,"Id: ",p.id)),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:Hn.buildingElements,name:"buildingElements"})),i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:Hn.groupId,name:"groupId"}))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:Hn.groupName,name:"groupName"})),i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:Hn.unit,name:"unit"})))))),i.a.createElement(Je.b,{key:"archi-c-master-delete",open:b,errors:o,isSubmitting:a||c,handleSubmit:t,handleClose:C,title:Un.archiCdeleteModal.archiCDeletetitle,saveText:Un.archiCDelete},i.a.createElement(v.a,{loading:a||c},Un.archiCdeleteModal.archiCDeletecontent)))}))},Bn=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.archiCMaster,objName:"archiCMaster"}],updateApi:[{api:P.a.archiCMaster,objName:"archiCMaster"}],render:function(t){return i.a.createElement(Pn,Object.assign({},t,{parentProps:e}))}})},zn={id:"",groupName:"",data:"",unit:""},Ln=Xa.elecDesigntableHeadings,Gn=Za,Vn=function(e){var t=e.adminData,a=e.success,n=e.putAdminDataByUrl,r=e.postAdminDataByUrl,l=e.deleteAdminDataByUrl,o=e.errors,c=e.loading,s=Ne(zn,a),u=s.isEditing,m=s.isDeleting,p=s.formState,f=s.openAddModal,b=s.openDeleteModal,O=s.handleEdit,j=s.handleDelete,C=s.handleClose;return i.a.createElement("div",{className:"setup-main"},i.a.createElement(U.a,{title:"Electrical Design Master"}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},Xa.elecDesignHead),i.a.createElement(w.a,{striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,Ln.id),i.a.createElement(w.a.HeaderCell,null,Ln.groupName),i.a.createElement(w.a.HeaderCell,null,Ln.elements),i.a.createElement(w.a.HeaderCell,null,Ln.unit),i.a.createElement(w.a.HeaderCell,null,Ln.actions))),i.a.createElement(w.a.Body,null,t&&t.elecDesignMaster&&t.elecDesignMaster.length>0?t.elecDesignMaster.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.groupName),i.a.createElement(w.a.Cell,null,e.data),i.a.createElement(w.a.Cell,null,e.unit),i.a.createElement(w.a.Cell,null,i.a.createElement(Ve,{handleEdit:O,row:e}),i.a.createElement(qe,{handleDelete:j,row:e})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"6"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))),i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},p),onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{u?n(P.a.elecDesignMaster,"",t):m?l(P.a.elecDesignMaster,p.id):r(P.a.elecDesignMaster,t),a.setSubmitting(!1)}catch(o){console.log("Error in Map Check Master post",o),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Je.b,{key:"elec-design-master-edit",open:f,errors:o,isSubmitting:a||c,handleSubmit:t,handleClose:C,title:u?Gn.elecDesignEdit:Gn.elecDesignAdd,saveText:u?Gn.elecDesignUpdate:Gn.elecDesignSave},i.a.createElement(v.a,{loading:a||c},i.a.createElement(Yt.a,null,u&&i.a.createElement(Yt.a.Row,null,i.a.createElement(Yt.a.Column,null,"Id: ",p.id)),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:Ln.groupName,name:"groupName"})),i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:Ln.elements,name:"data"}))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.d,{label:Ln.unit,name:"unit"})))))),i.a.createElement(Je.b,{key:"elec-design-master-delete",open:b,errors:o,isSubmitting:a||c,handleSubmit:t,handleClose:C,title:Gn.elecDesigndeleteModal.elecDesignDeletetitle,saveText:Gn.elecDesignDelete},i.a.createElement(v.a,{loading:a||c},Gn.elecDesigndeleteModal.elecDesignDeletecontent)))}))},qn=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.elecDesignMaster,objName:"elecDesignMaster"}],updateApi:[{api:P.a.elecDesignMaster,objName:"elecDesignMaster"}],render:function(t){return i.a.createElement(Vn,Object.assign({},t,{parentProps:e}))}})},Yn=a(604),Qn=a.n(Yn),Jn=function(e){var t=e.fileUrl,a=Object(A.h)(t,"."),n=Object(A.h)(t,"/");return i.a.createElement("div",{key:t,className:"pdf"===a?"eachPreviewFile pdfFilePreview":"eachPreviewFile",title:n},"pdf"===a?i.a.createElement("img",{src:Qn.a,alt:"pdfIconFile"}):i.a.createElement("img",{src:"".concat(Object(J.c)()).concat(t),alt:"imageFile"}))},Wn=tn.tableheader,Kn=an,Xn=[{value:"Y",text:"Active"},{value:"N",text:"Not Active"}],Zn={id:"",name:"",address:"",contactNo:"",municipalRegNo:"",status:"Y",photo:""},$n=["name","address"].map(function(e){return Object(f.a)({},e,F.w)}),er=["contactNo"].map(function(e){return Object(f.a)({},e,F.l)}),tr=["municipalRegNo"].map(function(e){return Object(f.a)({},e,F.m)}),ar=x.object().shape(Object.assign.apply(Object,Object(p.a)($n).concat(Object(p.a)(er),Object(p.a)(tr)))),nr=function(e){var t=e.adminData,a=e.success,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.putAdminDataByUrl,o=e.errors,c=e.loading,s=De(Zn,a),u=s.isEditing,m=s.isDeleting,p=s.formState,f=s.openAddModal,b=s.openDeleteModal,O=s.handleAdd,j=s.handleEdit,S=s.handleDelete,D=s.setOpenAddModal,N=s.setOpenDeleteModal;return i.a.createElement("div",null,i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},p),validationSchema:ar,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){var o,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0),o=new FormData,(c=t.masonPhoto)&&c.forEach(function(e){return o.append("photoMason",e)}),o.append("name",t.name),o.append("address",t.address),o.append("contactNo",t.contactNo),o.append("status",t.status),o.append("municipalRegNo",t.municipalRegNo);try{u?l(P.a.masonList,p.id,o):m?r(P.a.masonList,p.id):n(P.a.masonList,o),a.setSubmitting(!1)}catch(i){console.log("Error in Mason post",i),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting,n=e.setFieldValue,r=e.values,l=e.handleChange,s=e.errors;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,null,i.a.createElement("title",null,"Add Masons List")),i.a.createElement(Je.b,{key:"mason-edit",open:f,errors:o,isSubmitting:a||c,handleSubmit:t,handleClose:function(){return D(!1)},title:u?Kn.editMasonList:Kn.addMasonList,saveText:u?Kn.updateMasonList:Kn.saveMasonList},i.a.createElement(v.a,{loading:a||c},i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.h,{label:Wn.name,name:"name",onChange:l,error:s.name,value:r.name,setFieldValue:n})),i.a.createElement(Yt.a.Column,null,i.a.createElement(M.h,{label:Wn.address,name:"address",onChange:l,error:s.address,value:r.address,setFieldValue:n}))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.h,{label:Wn.contact,name:"contactNo",onChange:l,error:s.contactNo,value:r.contactNo,setFieldValue:n})),i.a.createElement(Yt.a.Column,null,i.a.createElement(ge.d,{label:Wn.status,name:"status",options:Xn}))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(M.e,{label:Wn.regNo,name:"municipalRegNo",setFieldValue:n,error:s.municipalRegNo,value:r.municipalRegNo})),i.a.createElement(Yt.a.Column,null,i.a.createElement("label",null,"Select a Photo"),i.a.createElement(R.a,{name:"masonPhoto",fileCatId:"masonPhoto",hasMultipleFiles:!1}),r.photo&&i.a.createElement(Jn,{fileUrl:r.photo})))))),i.a.createElement(Je.b,{key:"mason-delete",open:b,errors:o,isSubmitting:a||c,handleSubmit:t,handleClose:function(){return N(!1)},title:Kn.deleteMasonListModal.deleteMasonListModaltitle,saveText:Kn.deleteMasonList},i.a.createElement(v.a,{loading:a||c},Kn.deleteMasonListModal.deleteMasonListModalContent)))}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},tn.header,i.a.createElement(C.a,{basic:!0,style:{right:6,top:8,position:"absolute"},inverted:!0,type:"reset",onClick:function(){O()}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"list alternate outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"}))," ","Add Mason"))),i.a.createElement(w.a,{striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,Wn.name),i.a.createElement(w.a.HeaderCell,null,Wn.address),i.a.createElement(w.a.HeaderCell,null,Wn.contact),i.a.createElement(w.a.HeaderCell,null,Wn.regNo),i.a.createElement(w.a.HeaderCell,null,Wn.status),i.a.createElement(w.a.HeaderCell,null,Wn.actions))),i.a.createElement(w.a.Body,null,t&&t.masonList&&t.masonList.length>0?t.masonList.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.name),i.a.createElement(w.a.Cell,null,e.address),i.a.createElement(w.a.Cell,null,e.contactNo),i.a.createElement(w.a.Cell,null,e.municipalRegNo),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.status,Xn)),i.a.createElement(w.a.Cell,null,i.a.createElement(C.a,{inverted:!0,title:"Edit",type:"reset",color:"green",onClick:function(){j(Object(d.a)(Object(d.a)({},e),{},{formId:parseInt(e.formId)}))},icon:"edit",size:"tiny",style:{marginBottom:"2px"}}),i.a.createElement(C.a,{inverted:!0,title:"Delete",type:"reset",color:"red",icon:"delete",onClick:function(){S(e)},size:"tiny"})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"6"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))))},rr=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.masonList,objName:"masonList"}],updateApi:[{api:P.a.masonList,objName:"masonList"}],render:function(t){return i.a.createElement(nr,Object.assign({},t,{parentProps:e}))}})},lr=a(34),or=a(164),cr=function(e){var t=e.userType,a=e.routes,n=e.setupTags,r=Object(c.useState)(a),l=Object(we.a)(r,2),o=l[0],u=l[1],m=Object(s.i)().pathname;Object(c.useEffect)(function(){var e=document.querySelector(".sideBar.active");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},[m]),Object(c.useEffect)(function(){u(a)},[t,a]);return i.a.createElement("aside",{className:"main-sidebar-navigation"},i.a.createElement("div",{className:"sidebarSearchBar"},i.a.createElement(he.a,{placeholder:"Search...",name:"search",onChange:function(e,n){return function(e){var n=new RegExp(e,"gi"),r=a;if(t===B.a.ENGINEER){var l=Object(or.f)(t);r=a.filter(function(e){return l.includes(e.id)})}u(r.filter(function(e){return e.id.match(n)||e.path.match(n)||e.layout.match(n)||e.tag.match(n)}))}(n.value)}})),i.a.createElement("nav",{className:"sidebar-navigation"},i.a.createElement("ul",{className:"sidebar-primary-menus"},n.filter(function(e){return o.some(function(t){return t.tag===e.tag})}).map(function(e,t){var a=e.tag,n=e.label,r=e.icon;return i.a.createElement(i.a.Fragment,{key:t},i.a.createElement(ua.a,{as:"h4",className:"header-removemargin"},i.a.createElement(se.a,{name:r}),n),o.filter(function(e){return e.tag===a}).map(function(e,t){var a=e.name;return i.a.createElement("li",{key:t},i.a.createElement(lr.c,{to:"".concat(e.layout).concat(e.path),className:"sideBar"},i.a.createElement(se.a,{name:e.icon})," ",a),i.a.createElement(S.a,{style:{margin:0}}))}))}))))},ir=gn.tableHeadings,sr=vn,ur={id:"",menu:"",menuType:"",url:""},mr=x.object().shape({menu:F.w,menuType:F.w,url:F.w}),dr=function(e){var t=e.adminData,a=e.success,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.putAdminDataByUrl,o=e.errors,s=e.loading,u=De(ur,a),m=u.isEditing,p=u.isDeleting,f=u.formState,b=u.openAddModal,S=u.openDeleteModal,D=u.handleAdd,N=u.handleEdit,k=u.handleDelete,T=u.setOpenAddModal,x=u.setOpenDeleteModal,F=Object(c.useState)([]),M=Object(we.a)(F,2),R=M[0],_=M[1],I=Object(c.useState)("P"),H=Object(we.a)(I,2),B=H[0],z=H[1];return Object(c.useEffect)(function(){t.menuMaster&&Array.isArray(t.menuMaster)&&_(t.menuMaster.filter(function(e){return void 0===B||e.menuType===B}))},[t.menuMaster,B]),i.a.createElement("div",{className:"english-div"},i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},f),validationSchema:mr,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{m?l(P.a.menuMaster,f.id,t):p?r(P.a.menuMaster,f.id):n(P.a.menuMaster,t),a.setSubmitting(!1)}catch(o){console.log("Error in menu master post",o),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting,n=e.errors;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{title:"Menu Setup"}),i.a.createElement(Je.b,{open:b,scroll:!1,errors:o,isSubmitting:a||s,handleSubmit:t,handleClose:function(){return T(!1)},title:m?sr.titleEdit:sr.titleAdd,saveText:m?sr.editText:sr.saveText},i.a.createElement(v.a,{loading:a||s},i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!n.menu},i.a.createElement("span",null,ir.menu),i.a.createElement(g.a,{name:"menu"}),n.menu&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},n.menu)),i.a.createElement(v.a.Field,{error:!!n.url},i.a.createElement("span",null,ir.url),i.a.createElement(g.a,{name:"url"}),n.url&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},n.url))),i.a.createElement(v.a.Group,null,i.a.createElement(v.a.Field,null,i.a.createElement(ge.d,{label:ir.menuType,name:"menuType",options:it.u}))))),i.a.createElement(Je.b,{open:S,errors:o,isSubmitting:a||s,handleSubmit:t,handleClose:function(){return x(!1)},title:sr.delete.title,saveText:sr.deleteText},i.a.createElement(v.a,{loading:a||s},sr.delete.content)))}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},gn.tableHeader,i.a.createElement(C.a,{basic:!0,style:{right:6,top:8,position:"absolute"},inverted:!0,type:"reset",onClick:function(){D()}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"file outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"})),"  ".concat(sr.titleAdd)))),i.a.createElement(Ma.a,null,"Select Menu Type:"," ",i.a.createElement(O.a,{name:"menuType",options:it.u,onChange:function(e,t){var a=t.value;z(a)},value:B})),i.a.createElement(w.a,{sortable:!0,striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,ir.id),i.a.createElement(w.a.HeaderCell,null,ir.menu),i.a.createElement(w.a.HeaderCell,null,ir.menuType),i.a.createElement(w.a.HeaderCell,null,ir.url),i.a.createElement(w.a.HeaderCell,null,ir.actions))),i.a.createElement(w.a.Body,null,R.length>0?R.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.menu),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.menuType,it.u)),i.a.createElement(w.a.Cell,null,e.url),i.a.createElement(w.a.Cell,null,i.a.createElement(Ve,{row:Object(d.a)(Object(d.a)({},e),{},{id:parseInt(e.id)}),handleEdit:N}),i.a.createElement(qe,{handleDelete:k,row:e})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"7"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))))},pr=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.menuMaster,objName:"menuMaster"}],updateApi:[{api:P.a.menuMaster,objName:"menuMaster"}],render:function(t){return i.a.createElement(dr,Object.assign({},t,{parentProps:e}))}})},fr=yn.tableHeadings,br=On,Er={menu:"",userId:"C",status:""},hr=x.object().shape({menu:F.w,userType:F.w,status:F.w}),gr=function(e){var t=e.adminData,a=e.success,n=e.getAfterUpdateAdminData,r=e.postAdminDataByUrl,l=e.errors,o=e.loading,s=De(Er,a),u=s.isEditing,m=s.isDeleting,p=s.formState,f=s.openAddModal,b=s.handleAdd,S=s.handleEdit,D=s.setOpenAddModal,N=Object(c.useState)([]),k=Object(we.a)(N,2),T=k[0],x=k[1],F=Object(c.useState)([]),M=Object(we.a)(F,2),R=M[0],_=M[1],I=Object(c.useState)([]),H=Object(we.a)(I,2),z=H[0],L=H[1],G=Object(c.useState)("C"),V=Object(we.a)(G,2),q=V[0],Y=V[1],Q=Object(c.useState)(""),J=Object(we.a)(Q,2),W=J[0],K=J[1],X=Object(c.useCallback)(n,[]);Object(c.useEffect)(function(){a&&a.success&&X([{api:"".concat(P.a.menuAccess).concat(q),objName:"menuAccess"}])},[a,q,X]),Object(c.useEffect)(function(){var e=t.menuAccess.filter(function(e){return e.menuType===W});L(e)},[t.menuAccess,W]),Object(c.useEffect)(function(){if(t.menuMaster&&Array.isArray(t.menuMaster)){var e=t.menuMaster.map(function(e){return{key:e.id,value:e.id,text:e.menu}});x(e)}},[t.menuMaster]),Object(c.useEffect)(function(){if(t.userTypeMaster&&Array.isArray(t.userTypeMaster)){var e=Object(B.e)(t.userTypeMaster);_(e)}},[t.userTypeMaster]),Object(c.useEffect)(function(){t.menuAccess&&L(t.menuAccess)},[t.menuAccess]);return i.a.createElement("div",{className:"english-div"},i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},p),validationSchema:hr,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],m||u||!t.hasOwnProperty("menu")||t.menu.forEach(function(e){t.hasOwnProperty("userType")&&t.userType.forEach(function(a){return n.push({menu:e,userType:a,status:t.status})})}),a.setSubmitting(!0);try{u?r(P.a.menuAccess,[t]):m||r(P.a.menuAccess,n),a.setSubmitting(!1)}catch(l){console.log("Error in menu master post",l),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.values,n=e.isSubmitting,r=e.errors,c=e.setFieldValue;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{title:"Menu Access Setup"}),i.a.createElement(Je.b,{open:f,scroll:!1,errors:l,isSubmitting:n||o,handleSubmit:t,handleClose:function(){return D(!1)},title:u?br.titleEdit:br.titleAdd,saveText:u?br.editText:br.saveText},i.a.createElement(v.a,{loading:n||o},i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,{columns:"1"},i.a.createElement(Yt.a.Column,null,u?i.a.createElement(ge.d,{label:fr.menu,name:"menu",options:T}):i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!r.menu},i.a.createElement("span",null,fr.menu),i.a.createElement(Qt.a,{selection:!0,multiple:!0,label:fr.menu,name:"menu",onChange:function(e,t){var a=t.value;return c("menu",a)},options:T,value:a.menu}),r.menu&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.menu))))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,u?i.a.createElement(ge.d,{label:fr.userType,name:"userType",options:R}):i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!r.userType},i.a.createElement("span",null,fr.userType),i.a.createElement(Qt.a,{selection:!0,multiple:!0,label:fr.userType,name:"userType",onChange:function(e,t){var a=t.value;return c("userType",a)},options:R,value:a.userType}),r.userType&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.userType)))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ge.d,{label:fr.status,name:"status",options:it.q})))))))}),i.a.createElement(y.a,{className:"tableSectionHeader"},gn.tableHeader,i.a.createElement(C.a,{basic:!0,style:{right:6,top:8,position:"absolute"},inverted:!0,type:"reset",onClick:function(){b()}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"file outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"})),"  ".concat(br.titleAdd)))),i.a.createElement(Ma.a,null,"Select User Type:"," ",i.a.createElement(O.a,{name:"userType",options:R,onChange:function(e,t){var a,r=t.value;Y(a=r),n([{api:"".concat(P.a.menuAccess).concat(a),objName:"menuAccess"}])},value:q})," ","Select Menu Type:"," ",i.a.createElement(O.a,{name:"menuType",options:it.u,onChange:function(e,t){var a=t.value;K(a)},value:W})),i.a.createElement(w.a,{compact:"very",size:"small",sortable:!0,striped:!0,celled:!0},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,fr.menu),i.a.createElement(w.a.HeaderCell,null,fr.userType),i.a.createElement(w.a.HeaderCell,null,fr.menuType),i.a.createElement(w.a.HeaderCell,{width:"2"},fr.status),i.a.createElement(w.a.HeaderCell,{width:"3"},fr.actions))),i.a.createElement(w.a.Body,null,z.length>0?z.map(function(e){return i.a.createElement(w.a.Row,{key:e.menu},i.a.createElement(w.a.Cell,null,e.menuName),i.a.createElement(w.a.Cell,null,Object(A.p)(e.userType)),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.menuType,it.u)),i.a.createElement(w.a.Cell,{textAlign:"center"},i.a.createElement(se.a,{name:"Y"===e.status?"check":"close",color:"Y"===e.status?"green":"red"})),i.a.createElement(w.a.Cell,null,i.a.createElement(Ve,{row:Object(d.a)(Object(d.a)({},e),{},{id:parseInt(e.id)}),handleEdit:S})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"7"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))))},vr=function(e){return i.a.createElement(Ge.a,{api:[{api:"".concat(P.a.menuAccess,"C"),objName:"menuAccess"},{api:P.a.menuMaster,objName:"menuMaster"},{api:P.a.userType,objName:"userTypeMaster"}],updateApi:[],render:function(t){return i.a.createElement(gr,Object.assign({},t,{parentProps:e}))}})},yr=x.number().typeError(Ke.u.number).required(Ke.m.required),Or=Sn.table.tableHeadings,jr=Sn.modal,Cr=[{value:"1",text:Kt.a.NAYA_NIRMAN},{value:"2",text:Kt.a.PURANO_GHAR}],Sr=[{value:"all",text:Sn.dataOption.constructionTypeAll},{value:"1",text:Kt.a.NAYA_NIRMAN},{value:"2",text:Kt.a.PURANO_GHAR}],wr={floor:[1],wardNo:["01"],floorType:["F"],area:["U"],constructionType:["1"],dharoutiRate:0,dasturRate:0},Dr=x.object().shape({floor:F.w,dasturRate:yr,dharoutiRate:yr,area:F.w,floorType:F.w,wardNo:F.w}),Nr=function(e){var t=e.adminData,a=e.success,n=e.getAfterUpdateAdminData,r=e.postAdminDataByUrl,l=e.deleteAdminDataByUrl,o=e.errors,s=e.loading,u=De(wr,a),m=u.isEditing,p=u.isDeleting,f=u.formState,b=u.openAddModal,S=u.openDeleteModal,D=u.handleDelete,N=u.handleAdd,k=u.handleEdit,T=u.setOpenAddModal,x=u.setOpenDeleteModal,F=Object(c.useState)(wr),M=Object(we.a)(F,2),R=M[0],_=M[1],I=Object(c.useState)("01"),H=Object(we.a)(I,2),B=H[0],z=H[1],L=Object(c.useState)("1"),G=Object(we.a)(L,2),V=G[0],q=G[1],Y=Object(c.useState)(),Q=Object(we.a)(Y,2),J=Q[0],W=Q[1],K=Object(c.useState)(),X=Object(we.a)(K,2),Z=X[0],$=X[1],ee=Object(c.useState)(),te=Object(we.a)(ee,2),ae=te[0],ne=te[1],re=Object(c.useState)([]),le=Object(we.a)(re,2),oe=le[0],ce=le[1],ue=Object(c.useState)([]),me=Object(we.a)(ue,2),de=me[0],pe=me[1],fe={floorOptions:[{value:"all",text:Sn.dataOption.floorAll}].concat(it.o),areaTypeOptions:[{value:"all",text:Sn.dataOption.areaTypeAll}].concat(it.e),floorTypeOptions:[{value:"all",text:Sn.dataOption.floorTypeAll}].concat(it.p)},be=fe.floorOptions,Ee=fe.areaTypeOptions,he=fe.floorTypeOptions,ye=Object(c.useCallback)(n,[]);Object(c.useEffect)(function(){t.wardSetup&&t.wardSetup.length>0&&(ce(t.wardSetup.map(function(e){return{key:e.id,value:e.name,text:e.name}})),pe([{value:"all",text:Sn.dataOption.wardAll}].concat(t.wardSetup.map(function(e){return{key:e.id,value:e.name,text:e.name}}))))},[t.wardSetup]),Object(c.useEffect)(function(){a&&a.success&&ye([{api:"".concat(P.a.rajasowSetup,"?wardNo=").concat(B),objName:"rajasowMaster"}])},[a,B,ye]),Object(c.useEffect)(function(){t.rajasowMaster&&Array.isArray(t.rajasowMaster)&&_(t.rajasowMaster.filter(function(e){return(void 0===J||"all"===J||e.floor===J)&&(void 0===Z||"all"===Z||e.floorType===Z)&&(void 0===ae||"all"===ae||e.area===ae)&&(void 0===V||"all"===V||e.constructionType===V)}))},[t.rajasowMaster,J,Z,ae,V]);return i.a.createElement("div",null,i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},f),validationSchema:Dr,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){var n,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setSubmitting(!0),n=[],o={},p||m||(o=Object(d.a)(Object(d.a)({},t),{},{area:t.area.includes("all")?Ee.filter(function(e){return"all"!==e.value}).map(function(e){return e.value}):t.area,floor:t.floor.includes("all")?be.filter(function(e){return"all"!==e.value}).map(function(e){return e.value}):t.floor,floorType:t.floorType.includes("all")?he.filter(function(e){return"all"!==e.value}).map(function(e){return e.value}):t.floorType,wardNo:t.wardNo.includes("all")?it.D.filter(function(e){return"all"!==e.value}).map(function(e){return e.value}):t.wardNo,constructionType:t.constructionType.includes("all")?Cr.filter(function(e){return"all"!==e.value}).map(function(e){return e.value}):t.constructionType}),p||m||!o.hasOwnProperty("wardNo")||o.wardNo.forEach(function(e){o.hasOwnProperty("floor")&&o.floor.forEach(function(t){o.hasOwnProperty("floorType")&&o.floorType.forEach(function(a){o.hasOwnProperty("area")&&o.area.forEach(function(r){o.hasOwnProperty("constructionType")&&o.constructionType.forEach(function(l){return n.push({wardNo:e,floor:t,floorType:a,area:r,dasturRate:o.dasturRate,dharoutiRate:o.dharoutiRate,constructionType:l})})})})})})),e.prev=4,!m){e.next=10;break}return e.next=8,r(P.a.rajasowSetup,[t]);case 8:e.next=17;break;case 10:if(!p){e.next=15;break}return e.next=13,l(P.a.rajasowSetup,f.id);case 13:e.next=17;break;case 15:return e.next=17,r(P.a.rajasowSetup,n);case 17:a.setSubmitting(!1),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(4),console.log("Error in menu master post",e.t0),Object(A.w)("Something went wrong."),a.setSubmitting(!1);case 25:case"end":return e.stop()}},e,null,[[4,20]])}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.values,n=e.isSubmitting,r=e.errors,l=e.setFieldValue;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{title:Sn.table.tableHeader}),i.a.createElement(Je.b,{open:b,scroll:!1,errors:o,isSubmitting:n||s,handleSubmit:t,handleClose:function(){return T(!1)},title:m?jr.titleEdit:jr.titleAdd,saveText:m?jr.editText:jr.saveText,cancelText:jr.cancelText},i.a.createElement(v.a,{loading:n||s},i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,m?i.a.createElement(ge.d,{label:Or.wardNo,name:"wardNo",options:oe}):i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!r.wardNo},i.a.createElement("span",null,Or.wardNo),i.a.createElement(Qt.a,{selection:!0,multiple:!0,label:Or.wardNo,name:"floor",onChange:function(e,t){var a=t.value;return l("wardNo",a)},options:de,value:a.wardNo}),r.wardNo&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.wardNo)))),i.a.createElement(Yt.a.Column,null,m?i.a.createElement(ge.d,{label:Or.floor,name:"floor",options:it.o}):i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!r.floor},i.a.createElement("span",null,Or.floor),i.a.createElement(Qt.a,{selection:!0,multiple:!0,label:Or.floor,name:"floor",onChange:function(e,t){var a=t.value;return l("floor",a)},options:be,value:a.floor}),r.floor&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.floor))))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,m?i.a.createElement(ge.d,{label:Or.area,name:"area",options:it.e}):i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!r.area},i.a.createElement("span",null,Or.area),i.a.createElement(Qt.a,{selection:!0,multiple:!0,label:Or.area,name:"area",onChange:function(e,t){var a=t.value;return l("area",a)},options:Ee,value:a.area}),r.area&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.area)))),i.a.createElement(Yt.a.Column,null,m?i.a.createElement(ge.d,{label:Or.floorType,name:"floorType",options:it.p}):i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!r.floorType},i.a.createElement("span",null,Or.floorType),i.a.createElement(Qt.a,{selection:!0,multiple:!0,label:Or.floorType,name:"floorType",onChange:function(e,t){var a=t.value;return l("floorType",a)},options:he,value:a.floorType}),r.floorType&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.floorType))))),i.a.createElement(Yt.a.Row,{columns:"3"},i.a.createElement(Yt.a.Column,null,m?i.a.createElement(ge.d,{label:Or.constructionType,name:"constructionType",options:Cr}):i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!r.constructionType},i.a.createElement("span",null,Or.constructionType),i.a.createElement(Qt.a,{selection:!0,multiple:!0,label:Or.constructionType,name:"constructionType",onChange:function(e,t){var a=t.value;return l("constructionType",a)},options:Sr,value:a.constructionType}),r.constructionType&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.constructionType)))),i.a.createElement(Yt.a.Column,null,i.a.createElement(v.a.Field,{error:!!r.dharoutiRate},Or.dharautiRate,i.a.createElement(g.a,{name:"dharoutiRate"}),r.dharoutiRate&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.dharoutiRate))),i.a.createElement(Yt.a.Column,null,i.a.createElement(v.a.Field,{error:!!r.dasturRate},Or.dasturRate,i.a.createElement(g.a,{name:"dasturRate"}),r.dasturRate&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},r.dasturRate))))))),i.a.createElement(Je.b,{open:S,errors:o,isSubmitting:n||s,handleSubmit:t,handleClose:function(){return x(!1)},title:jr.delete.title,saveText:jr.deleteText,cancelText:jr.cancelText},i.a.createElement(v.a,{loading:n||s},jr.delete.content)))}),i.a.createElement(y.a,{className:"tableSectionHeader"},Sn.table.tableHeader,i.a.createElement(C.a,{basic:!0,style:{right:6,top:8,position:"absolute"},inverted:!0,type:"reset",onClick:function(){N()}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"file outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"})),"  ".concat(jr.titleAdd)))),i.a.createElement(v.a,{className:"compact-select"},i.a.createElement(v.a.Group,{widths:"16"},i.a.createElement(v.a.Field,{width:"3"},Sn.dataOption.floor,i.a.createElement(O.a,{name:"floor",options:be,onChange:function(e,t){var a=t.value;W(a)},value:J}))," ",i.a.createElement(v.a.Field,{width:"3"},Sn.dataOption.floorType,i.a.createElement(O.a,{name:"floorType",options:he,onChange:function(e,t){var a=t.value;$(a)},value:Z}))," ",i.a.createElement(v.a.Field,{width:"3"},Sn.dataOption.areaType,i.a.createElement(O.a,{name:"areaType",options:Ee,onChange:function(e,t){var a=t.value;ne(a)},value:ae}))," ",i.a.createElement(v.a.Field,{width:"3"},Sn.dataOption.constructionType,i.a.createElement(O.a,{name:"constructionType",options:Sr,onChange:function(e,t){var a=t.value;q(a)},value:V}))," ",i.a.createElement(v.a.Field,{width:"2"},Sn.dataOption.ward,i.a.createElement(O.a,{name:"wardOption",options:de,onChange:function(e,t){var a,r=t.value;z(a=r),n([{api:"".concat(P.a.rajasowSetup,"?wardNo=").concat(a),objName:"rajasowMaster"}])},value:B})))),i.a.createElement(w.a,{compact:"very",size:"small",sortable:!0,striped:!0,celled:!0},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,Or.id),i.a.createElement(w.a.HeaderCell,null,Or.wardNo),i.a.createElement(w.a.HeaderCell,null,Or.floor),i.a.createElement(w.a.HeaderCell,null,Or.floorType),i.a.createElement(w.a.HeaderCell,null,Or.area),i.a.createElement(w.a.HeaderCell,null,Or.constructionType),i.a.createElement(w.a.HeaderCell,null,Or.dharautiRate),i.a.createElement(w.a.HeaderCell,null,Or.dasturRate),i.a.createElement(w.a.HeaderCell,{width:"3"},Or.actions))),i.a.createElement(w.a.Body,null,R.length>0?R.map(function(e,t){return i.a.createElement(w.a.Row,{key:"".concat(e.id,"-").concat(t)},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.wardNo),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.floor,be)),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.floorType,he)),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.area,Ee)),i.a.createElement(w.a.Cell,null,Object(ve.m)(e.constructionType,Cr)),i.a.createElement(w.a.Cell,null,e.dharoutiRate),i.a.createElement(w.a.Cell,null,e.dasturRate),i.a.createElement(w.a.Cell,null,i.a.createElement(Ve,{row:Object(d.a)(Object(d.a)({},e),{},{id:parseInt(e.id)}),handleEdit:k}),i.a.createElement(qe,{handleDelete:D,row:e})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"9"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))))},kr=function(e){return i.a.createElement(Ge.a,{api:[{api:"".concat(P.a.rajasowSetup,"?wardNo=01"),objName:"rajasowMaster"},{api:P.a.wardSetup,objName:"wardSetup",form:!1}],updateApi:[],render:function(t){return i.a.createElement(Nr,Object.assign({},t,{parentProps:e}))}})},Tr=a(59),Ar=Nn,xr=Dn.tableHeadings,Fr={id:"",name:""},Mr=x.object().shape({name:F.x}),Rr=function(e){var t=e.adminData,a=e.success,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.putAdminDataByUrl,o=e.errors,c=e.loading,s=De(Fr,a),u=s.isEditing,m=s.isDeleting,p=s.formState,f=s.openAddModal,b=s.openDeleteModal,O=s.handleAdd,S=s.handleEdit,D=s.handleDelete,N=s.setOpenAddModal,k=s.setOpenDeleteModal;return i.a.createElement("div",null,i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},p),validationSchema:Mr,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{u?l(P.a.wardSetup,p.id,t):m?r(P.a.wardSetup,p.id):n(P.a.wardSetup,t),a.setSubmitting(!1)}catch(o){Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting,n=e.errors;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{title:Dn.tableHeader}),i.a.createElement(Je.b,{open:f,scroll:!1,errors:o,isSubmitting:a||c,handleSubmit:t,handleClose:function(){return N(!1)},title:u?Ar.titleEdit:Ar.titleAdd,saveText:u?Ar.editText:Ar.saveText,cancelText:Ar.cancelText},i.a.createElement(v.a,{onSubmit:t,loading:a||c},i.a.createElement(v.a.Group,null,i.a.createElement(v.a.Field,{error:!!n.name},i.a.createElement("span",null,wn),i.a.createElement(g.a,{name:"name",autoFocus:!0}),n.name&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},n.name))))),i.a.createElement(Je.b,{open:b,errors:o,isSubmitting:a||c,handleSubmit:t,handleClose:function(){return k(!1)},title:Ar.delete.title,saveText:Ar.deleteText,cancelText:Ar.cancelText},i.a.createElement(v.a,{loading:a||c},Ar.delete.content)))}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},Dn.tableHeader,i.a.createElement(C.a,{basic:!0,style:{right:6,top:8,position:"absolute"},inverted:!0,type:"reset",onClick:function(){O()}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"file outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"})),"  ".concat(Ar.titleAdd)))),i.a.createElement(w.a,{sortable:!0,striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,xr.id),i.a.createElement(w.a.HeaderCell,null,xr.ward),i.a.createElement(w.a.HeaderCell,null,xr.actions))),i.a.createElement(w.a.Body,null,t.wardSetup.length>0?t.wardSetup.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.name),i.a.createElement(w.a.Cell,null,i.a.createElement(Ve,{row:Object(d.a)(Object(d.a)({},e),{},{id:parseInt(e.id)}),handleEdit:S}),i.a.createElement(qe,{handleDelete:D,row:e})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"7"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))))},_r=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.wardSetup,objName:"wardSetup"}],updateApi:[{api:P.a.wardSetup,objName:"wardSetup"}],render:function(t){return i.a.createElement(Rr,Object.assign({},t,{parentProps:e}))}})},Ir=jn.tableHeadings,Hr=Cn,Ur={id:"",designation:"",designationNepali:"",hierarchy:"",approveColumn:""},Pr=x.object().shape({designationNepali:F.w}),Br=function(e){var t=e.adminData,a=e.success,n=e.putAdminDataByUrl,r=e.errors,l=e.loading,o=De(Ur,a),c=o.isEditing,s=(o.isDeleting,o.formState),u=o.openAddModal,m=o.handleEdit,p=o.setOpenAddModal;return i.a.createElement("div",{className:"english-div"},i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},s),validationSchema:Pr,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{c&&n(P.a.userType,"",{designation:t.designation,designationNepali:t.designationNepali,id:s.id}),a.setSubmitting(!1)}catch(r){Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.setFieldValue,n=e.values,o=e.isSubmitting,s=e.errors;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{title:"User Type Setup"}),i.a.createElement(Je.b,{open:u,scroll:!1,errors:r,isSubmitting:o||l,handleSubmit:t,handleClose:function(){return p(!1)},title:c?Hr.titleEdit:Hr.titleAdd,saveText:c?Hr.editText:Hr.saveText},i.a.createElement(v.a,{loading:o||l},i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,{columns:"3"},i.a.createElement(Yt.a.Column,null,i.a.createElement(v.a.Group,null,i.a.createElement(v.a.Field,{error:!!s.id},i.a.createElement("span",null,Ir.id),i.a.createElement(g.a,{name:"id",readOnly:!0}),s.id&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},s.id)))),i.a.createElement(Yt.a.Column,null,i.a.createElement(v.a.Group,null,i.a.createElement(v.a.Field,{error:!!s.hierarchy},i.a.createElement("span",null,Ir.hierarchy),i.a.createElement(g.a,{name:"hierarchy",readOnly:!0}),s.hierarchy&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},s.hierarchy)))),i.a.createElement(Yt.a.Column,null,i.a.createElement(v.a.Group,null,i.a.createElement(v.a.Field,{error:!!s.approveColumn},i.a.createElement("span",null,Ir.approveColumn),i.a.createElement(g.a,{name:"approveColumn",readOnly:!0}),s.approveColumn&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},s.approveColumn))))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!s.designation},i.a.createElement("span",null,Ir.designation),i.a.createElement(g.a,{name:"designation",autoFocus:!0}),s.designation&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},s.designation)))),i.a.createElement(Yt.a.Column,null,i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,null,i.a.createElement(M.b,{label:Ir.designationNepali,name:"designationNepali",error:s.designationNepali,value:n.designationNepali,setFieldValue:a})))))))))}),i.a.createElement(y.a,{className:"tableSectionHeader"},jn.tableHeader),i.a.createElement(w.a,{compact:"very",size:"small",sortable:!0,striped:!0,celled:!0},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,Ir.id),i.a.createElement(w.a.HeaderCell,null,Ir.designation),i.a.createElement(w.a.HeaderCell,null,Ir.designationNepali),i.a.createElement(w.a.HeaderCell,null,Ir.hierarchy),i.a.createElement(w.a.HeaderCell,null,Ir.approveColumn),i.a.createElement(w.a.HeaderCell,null,Ir.actions))),i.a.createElement(w.a.Body,null,t.userType.length>0?t.userType.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.designation),i.a.createElement(w.a.Cell,null,e.designationNepali),i.a.createElement(w.a.Cell,null,e.hierarchy),i.a.createElement(w.a.Cell,null,e.approveColumn," "),i.a.createElement(w.a.Cell,null,i.a.createElement(Ve,{row:Object(d.a)(Object(d.a)({},e),{},{id:e.id}),handleEdit:m})))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"7"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))))},zr=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.userType,objName:"userType"}],updateApi:[{api:P.a.userType,objName:"userType"}],render:function(t){return i.a.createElement(Br,Object.assign({},t,{parentProps:e}))}})},Lr=x.object().shape({name:F.w,tableName:F.w,active:F.w}),Gr=x.object().shape({name:F.w,columnName:F.w,length:F.h,reference:F.w}),Vr=x.object().shape({value:F.w}),qr=function(e){var t=e.status,a=e.mode,n="yes-no"===(void 0===a?"active-inactive":a)?"Y"===t?"Yes":"No":"Y"===t?"Active":"Inactive";return i.a.createElement(j.a,{className:"Y"===t?"success-label":"danger-label"},n)},Yr=Ie.tableHeadings,Qr=He,Jr={id:"",menu:"",menuType:"",url:"",ebpsColumns:[]},Wr=function(e){var t=e.adminData,a=e.success,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.errors,o=e.loading,u=De(Jr,a),m=u.isEditing,p=u.isDeleting,f=u.formState,b=u.openAddModal,O=u.openDeleteModal,S=u.handleAdd,D=u.handleEdit,N=u.handleDelete,k=u.setOpenAddModal,T=u.setOpenDeleteModal,x=Object(c.useState)([]),F=Object(we.a)(x,2),M=F[0],R=F[1],_=Object(s.h)();Object(c.useEffect)(function(){t.tables&&Array.isArray(t.tables)&&R(t.tables)},[t.tables]);return i.a.createElement("div",{className:"english-div"},i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},f),validationSchema:p?null:Lr,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{m?n(P.a.d_ebpsTables,t):p?r(P.a.d_ebpsTables,f.id):n(P.a.d_ebpsTables,t),a.setSubmitting(!1)}catch(l){console.log("Error in menu master post",l),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting,n=e.errors;e.values,e.setFieldValue;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{title:"Table Setup"}),i.a.createElement(Je.b,{size:"small",open:b,scroll:!1,errors:l,isSubmitting:a||o,handleSubmit:t,handleClose:function(){return k(!1)},title:m?Qr.titleEdit:Qr.titleAdd,saveText:m?Qr.editText:Qr.saveText},i.a.createElement(v.a,{loading:a||o},i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(v.a.Field,{error:!!n.name},i.a.createElement("span",null,Yr.name),i.a.createElement(g.a,{name:"name"}),n.name&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},n.name)),i.a.createElement(v.a.Field,{error:!!n.tableName},i.a.createElement("span",null,Yr.tableName),i.a.createElement(g.a,{name:"tableName"}),n.tableName&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},n.tableName))),i.a.createElement(v.a.Group,null,i.a.createElement(v.a.Field,null,i.a.createElement(ge.d,{label:Yr.active,name:"active",options:it.A}))))),i.a.createElement(Je.b,{open:O,errors:l,isSubmitting:a||o,handleSubmit:t,handleClose:function(){return T(!1)},title:Qr.delete.title,saveText:Qr.deleteText},i.a.createElement(v.a,{loading:a||o},Qr.delete.content)))}),i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},Ie.tableHeader,i.a.createElement(C.a,{basic:!0,style:{right:6,top:8,position:"absolute"},inverted:!0,type:"reset",onClick:function(){S()}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"file outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"})),"  ".concat(Qr.titleAdd)))),i.a.createElement(w.a,{sortable:!0,striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,Yr.id),i.a.createElement(w.a.HeaderCell,null,Yr.name),i.a.createElement(w.a.HeaderCell,null,Yr.tableName),i.a.createElement(w.a.HeaderCell,null,Yr.active),i.a.createElement(w.a.HeaderCell,null,Yr.actions))),i.a.createElement(w.a.Body,null,M.length>0?M.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.name),i.a.createElement(w.a.Cell,null,e.tableName),i.a.createElement(w.a.Cell,null,i.a.createElement(qr,{status:e.active})),i.a.createElement(w.a.Cell,null,function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{title:"Add Columns",type:"reset",className:"success-button",onClick:function(){_.push("/admin/edit-table-columns/".concat(e.id))},icon:"list",size:"tiny",compact:!0}),i.a.createElement(Ye,{row:Object(d.a)(Object(d.a)({},e),{},{id:parseInt(e.id)}),handleEdit:D}),i.a.createElement(Qe,{handleDelete:N,row:e}))}(e)))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"7"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))))},Kr=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.d_ebpsTables,objName:"tables"}],updateApi:[{api:P.a.d_ebpsTables,objName:"tables"}],render:function(t){return i.a.createElement(Wr,Object.assign({},t,{parentProps:e}))}})},Xr=a(584),Zr=a(561),$r=Ie.tableHeadings,el=Ue,tl=[{key:1,value:"text",text:"Text"},{key:2,value:"number",text:"Number"},{key:3,value:"date",text:"Date"}],al={name:"",columnName:"",defaultValue:"",length:10,reference:"text"},nl=function(e){var t=e.match,a=e.adminData,n=e.getAfterUpdateAdminData,r=e.postAdminDataByUrl,l=e.deleteAdminDataByUrl,o=e.errors,u=e.success,m=e.loading,p=Object(s.h)(),f=Object(c.useState)(),b=Object(we.a)(f,2),O=b[0],S=b[1],D=Object(c.useState)(!1),N=Object(we.a)(D,2),k=N[0],T=N[1],x=Object(c.useState)(!1),F=Object(we.a)(x,2),M=F[0],R=F[1],_=Object(c.useState)(!1),I=Object(we.a)(_,2),H=I[0],U=I[1],B=Object(c.useState)(!1),z=Object(we.a)(B,2),L=z[0],G=z[1],V=Object(c.useState)(null),q=Object(we.a)(V,2),Y=q[0],Q=q[1],J=Object(c.useState)(null),W=Object(we.a)(J,2),K=W[0],X=W[1];Object(c.useEffect)(function(){var e=a.tables.find(function(e){return String(e.id)===String(t.params.id)})||null;if(e){S(e);var n=e.ebpsColumns.some(function(e){return"Y"===e.isPk});T(n)}},[a.tables]),Object(c.useEffect)(function(){a.sync&&Object(A.x)(a.sync.message)},[a.sync]),Object(c.useEffect)(function(){u&&u.success&&(Y?(Object(A.x)("Data deleted successfully"),Q(null),U(!1)):(Object(A.x)("Data saved successfully"),X(null),R(!1)))},[u]);var Z=function(e){X(e),G(!0),R(!0)},$=function(e){e&&(Q(e.id),U(!0))},ee=function(){R(!1),U(!1),X(null),Q(null)};return i.a.createElement("div",null,i.a.createElement(g.c,{enableReinitialize:!0,validationSchema:Y?null:Gr,initialValues:L?K:al,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{L?(n=O?O.ebpsColumns.filter(function(e){return e.id===O.id}).concat(t):[],console.log(n),r(P.a.d_ebpsTables,Object(d.a)(Object(d.a)({},O),{},{ebpsColumns:n}))):null!==Y?l(P.a.d_ebpsTablesColumns,Y):(r(P.a.d_ebpsTables,Object(d.a)(Object(d.a)({},O),{},{ebpsColumns:O?O.ebpsColumns.concat(Object(d.a)({tableId:O.id},t)):[]})),ee()),a.setSubmitting(!1)}catch(o){console.log("Error in menu master post",o),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}R(!1);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.isSubmitting,a=e.handleSubmit;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Je.b,{key:"add-edit-columns",size:"small",open:M,scroll:!1,errors:o,isSubmitting:t||m,handleSubmit:a,handleClose:ee,title:L?el.titleEdit:el.titleAdd,saveText:L?el.editText:el.saveText},i.a.createElement(v.a,{loading:m||t},i.a.createElement(v.a.Group,null,i.a.createElement(We.a,{name:"name",label:"Name"}),i.a.createElement(We.a,{name:"columnName",label:"Column Name"}),i.a.createElement(We.a,{name:"defaultValue",label:"Default Value"})),i.a.createElement(v.a.Group,null,i.a.createElement(We.a,{name:"length",label:"Length"}),i.a.createElement(ge.c,{name:"reference",label:"Reference",options:tl})))),i.a.createElement(Je.b,{key:"delete-columns",size:"tiny",open:H,errors:o,isSubmitting:t||m,handleSubmit:a,handleClose:ee,title:el.delete.title,saveText:el.delete.title},i.a.createElement(v.a,{loading:m||t},el.delete.content)))}),i.a.createElement("div",null,O?i.a.createElement(y.a,{loading:m},i.a.createElement(Ma.b,null,i.a.createElement(ua.a,null,"Table Information"),i.a.createElement("div",null,i.a.createElement(C.a,{onClick:function(){return p.push("/admin/v2-table-setup")},icon:"arrow left",content:"Back",compact:!0,size:"tiny",className:"danger-button"}),i.a.createElement(C.a,{onClick:function(){n([new Xr.a("".concat(P.a.d_ebpsTablesSync,"?tableId=").concat(O&&O.id),"sync")])},icon:"sync",content:"Synchronize Table Columns",compact:!0,size:"tiny",className:"primary-btn"}))),i.a.createElement(ma.a,{className:"app-info"},i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,{columns:"3"},i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Description,null,O.name),i.a.createElement(ma.a.Header,null,$r.name))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Description,null,O.tableName),i.a.createElement(ma.a.Header,null,$r.tableName))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Description,null,i.a.createElement(qr,{status:O.active})),i.a.createElement(ma.a.Header,null,$r.active)))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null))))):null,i.a.createElement(v.a.Group,null,i.a.createElement(Ma.b,null,i.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.a.createElement(Zr.a,null,i.a.createElement("h4",{className:"left-align"},"Columns")),!k&&i.a.createElement(j.a,{className:"warning-label-light"},i.a.createElement(se.a,{name:"warning sign"}),"Please add a primary key"," ")),i.a.createElement(C.a,{onClick:function(){return R(!0)},icon:"add",content:"Add Columns",className:"success-button",compact:!0,size:"tiny"})),i.a.createElement(w.a,{striped:!0,celled:!0,compact:"very",size:"small",className:"english-div"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"Name"),i.a.createElement(w.a.HeaderCell,null,"Column Name"),i.a.createElement(w.a.HeaderCell,null,"Default Value"),i.a.createElement(w.a.HeaderCell,null,"Length"),i.a.createElement(w.a.HeaderCell,null,"Reference"),i.a.createElement(w.a.HeaderCell,null,"Actions"))),i.a.createElement(w.a.Body,null,O?O.ebpsColumns.map(function(e){return i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,null,e.name," ","Y"===e.isPk&&i.a.createElement(j.a,{className:"success-label",size:"small"},i.a.createElement(se.a,{name:"key"}),"Primary Key")),i.a.createElement(w.a.Cell,null,e.columnName),i.a.createElement(w.a.Cell,null,e.defaultValue),i.a.createElement(w.a.Cell,null,e.length),i.a.createElement(w.a.Cell,null,e.reference),i.a.createElement(w.a.Cell,null,i.a.createElement(Ye,{handleEdit:Z,row:e}),i.a.createElement(Qe,{handleDelete:$,row:e})))}):null)))))},rl=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.d_ebpsTables,objName:"tables"}],updateApi:[{api:P.a.d_ebpsTables,objName:"tables"}],render:function(t){return i.a.createElement(nl,Object.assign({},t,{parentProps:e}))}})},ll={name:"",readOnly:"N",placeholder:"",required:"Y",formFieldModal:!1,formFieldDeleteModal:!1,isEditing:!1};function ol(e,t){var a=t.type,n=t.data;switch(a){case Ot.NAME:return Object(d.a)(Object(d.a)({},e),{},{name:n});case Ot.PLACEHOLDER:return Object(d.a)(Object(d.a)({},e),{},{placeholder:n});case Ot.READ_ONLY:return Object(d.a)(Object(d.a)({},e),{},{readOnly:n});case Ot.REQUIRED:return Object(d.a)(Object(d.a)({},e),{},{required:n});case Ot.EBPS_COLUMN_ID:return Object(d.a)(Object(d.a)({},e),{},{ebpsColumnId:n});case Ot.MODAL:return Object(d.a)(Object(d.a)({},e),{},{formFieldModal:n});case Ot.DELETE_MODAL:return Object(d.a)(Object(d.a)({},e),{},{formFieldDeleteModal:n});case Ot.EDIT:return Object(d.a)(Object(d.a)({},n),{},{isEditing:!0});case Ot.RESET:return Object(d.a)({},ll);default:return e}}!function(e){e.NAME="NAME",e.PLACEHOLDER="PLACEHOLDER",e.READ_ONLY="READ_ONLY",e.REQUIRED="REQUIRED",e.MODAL="MODAL",e.DELETE_MODAL="DELETE_MODAL",e.EBPS_COLUMN_ID="EBPS_COLUMN_ID",e.EDIT="EDIT",e.RESET="RESET"}(Ot||(Ot={}));var cl=function(e){var t=e.url,a=e.compact,n=void 0!==a&&a,r=Object(s.h)();return i.a.createElement(C.a,{onClick:function(){return r.push(t)},icon:"arrow left",content:"Back",className:"danger-button",size:"tiny",compact:n})},il=function(e){var t=e.onClick,a=e.compact,n=void 0!==a&&a;return i.a.createElement(C.a,{size:"tiny",className:"success-button",icon:"save",content:"Save Changes",compact:n,onClick:function(){return t()}})},sl=function(e){var t=e.formFieldList,a=(e.options,e.handleDelete),n=e.handleEdit;return i.a.createElement("div",null,t.length<1?i.a.createElement("p",{style:{textAlign:"center"}},"Please Add Form Fields"):i.a.createElement(w.a,{size:"small",compact:"very",striped:!0,celled:!0,textAlign:"center",selectable:!0},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"Name"),i.a.createElement(w.a.HeaderCell,null,"Placeholder"),i.a.createElement(w.a.HeaderCell,null,"Required"),i.a.createElement(w.a.HeaderCell,null,"ReadOnly"),i.a.createElement(w.a.HeaderCell,null,"Ebps Column"),i.a.createElement(w.a.HeaderCell,null,"Actions"))),i.a.createElement(w.a.Body,null,t.map(function(e){return i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,null,e.name),i.a.createElement(w.a.Cell,null,e.placeholder),i.a.createElement(w.a.Cell,null,i.a.createElement(qr,{status:e.required,mode:"yes-no"})),i.a.createElement(w.a.Cell,null,i.a.createElement(qr,{status:e.readOnly,mode:"yes-no"})),i.a.createElement(w.a.Cell,null,e.ebpsColumnId),i.a.createElement(w.a.Cell,null,i.a.createElement(C.a,{icon:"edit",className:"primary-btn",size:"tiny",title:"Edit",compact:!0,onClick:function(){return n(e.id||0)}}),i.a.createElement(C.a,{compact:!0,icon:"close",title:"Remove",size:"tiny",className:"danger-button",onClick:function(){return a(e.id||0)}})))}))))},ul=function(e){var t=e.options,a=e.name,n=e.label,r=e.compact,l=void 0!==r&&r,o=e.needsZIndex,c=void 0!==o&&o,s=e.onChange,u=e.formValue,m="";return l&&(m+="compact "),m+=c?"zIndexSelect":"EbpsCustomSelect",i.a.createElement(g.a,null,function(e){var r=e.form,l=Object(g.d)(r.errors,a);return i.a.createElement(v.a.Field,{error:!!l},i.a.createElement("div",{className:m},n&&i.a.createElement("span",null,n),i.a.createElement(O.a,{options:t,value:u||Object(g.d)(r.values,a),name:a,onChange:s||function(e,t){var n=t.value;return r.setFieldValue(a,n)}})),l&&i.a.createElement(j.a,{pointing:!0,prompt:!0,size:"large"},l))})},ml=function(e){var t=e.dispatch,a=e.state,n=e.tableOptions,r=e.tables,l=(e.tableId,a.name),o=a.placeholder,s=a.required,u=a.readOnly,m=a.ebpsColumnId,d=Object(c.useState)(),p=Object(we.a)(d,2),f=p[0],b=p[1],E=Object(c.useState)([]),h=Object(we.a)(E,2),g=h[0],y=h[1];return Object(c.useEffect)(function(){if(a.ebpsColumnId){var e=r.find(function(e){return e.ebpsColumns.some(function(e){return e.id===a.ebpsColumnId})});e&&b(e.id||0)}},[]),Object(c.useEffect)(function(){var e=r.find(function(e){return e.id===f});if(e){var t=e.ebpsColumns.map(function(e,t){return{key:t,value:e.id||0,text:e.name}});y(t)}},[f]),i.a.createElement(v.a,null,i.a.createElement(v.a.Group,null,i.a.createElement(We.b,{error:Object(ta.a)(l)?"Required Field":"",name:"name",formValue:l,label:"Name",onChange:function(e,a){var n=a.value;return t({type:Ot.NAME,data:n})}}),i.a.createElement(We.b,{name:"placeholder",label:"Placeholder",formValue:o,onChange:function(e,a){var n=a.value;return t({type:Ot.PLACEHOLDER,data:n})}}),i.a.createElement(ul,{name:"required",formValue:s,options:it.A,label:"Required?",onChange:function(e,a){var n=a.value;return t({type:Ot.REQUIRED,data:n})}}),i.a.createElement(ul,{name:"readOnly",formValue:u,options:it.A,label:"Read Only?",onChange:function(e,a){var n=a.value;return t({type:Ot.READ_ONLY,data:n})}})),i.a.createElement(S.a,{horizontal:!0},"Choose A Column"),i.a.createElement(v.a.Group,null,i.a.createElement(ul,{name:"table",formValue:f,options:n,label:"Choose table",onChange:function(e,t){var a=t.value;return b(parseInt(String(a)))}}),i.a.createElement(ul,{name:"column",formValue:m,options:g,label:"Ebps Column",onChange:function(e,a){var n=a.value;return t({type:Ot.EBPS_COLUMN_ID,data:n})}})))},dl=function(e){var t=e.formPermissions,a=e.options,n=e.handleDeletePermission;return i.a.createElement("div",null,t.length<1?i.a.createElement("p",{style:{textAlign:"center"}},"Please add Approval Permissions"):i.a.createElement(w.a,{size:"small",compact:"very",striped:!0,celled:!0,textAlign:"center",selectable:!0},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"User"),i.a.createElement(w.a.HeaderCell,null,"Approval"),i.a.createElement(w.a.HeaderCell,null))),i.a.createElement(w.a.Body,null,t.map(function(e){return i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,null,Object(ve.m)(e.userType,a)),i.a.createElement(w.a.Cell,null,e.approvalStatus),i.a.createElement(v.a.Button,{icon:"close",title:"Remove",size:"tiny",className:"danger-text-button",onClick:function(){return n(e.userType)}}))}))))},pl=function(e){var t=e.approvalUserOptions,a=e.setStatus,n=e.setUserType;return i.a.createElement(v.a,null,i.a.createElement(v.a.Group,null,i.a.createElement(v.a.Field,null,i.a.createElement("label",null,"Choose Approve By User"),i.a.createElement(O.a,{id:"permission-select",label:"",name:"formPermissions",options:t,onChange:function(e,t){var a=t.value;n(String(a))}})),i.a.createElement(v.a.Field,null,i.a.createElement("label",null,"Status"),i.a.createElement(O.a,{id:"permission-select",label:"",name:"formPermissions",options:it.A,onChange:function(e,t){var n=t.value;a(String(n))}}))))},fl=Pe.tableHeadings,bl=function(e){var t=e.match,a=e.adminData,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.success,o=e.errors,u=e.loading,m=Object(s.h)(),p=function(){var e=Object(c.useReducer)(ol,ll),t=Object(we.a)(e,2),a=t[0],n=t[1];return{formFieldState:{name:a.name,placeholder:a.placeholder,readOnly:a.readOnly,required:a.required,ebpsColumnId:a.ebpsColumnId,id:a.id},isFormFieldEdit:a.isEditing,formFieldModal:a.formFieldModal,formFieldDeleteModal:a.formFieldDeleteModal,formFieldDispatch:n,toggleFormFieldModal:function(e){return n({type:Ot.MODAL,data:e})},toggleFormFieldDeleteModal:function(e){return n({type:Ot.DELETE_MODAL,data:e})},closeFormFieldModal:function(){n({type:Ot.RESET}),n({type:Ot.MODAL,data:!1}),n({type:Ot.DELETE_MODAL,data:!1})},startEdit:function(e){n({type:Ot.EDIT,data:e}),n({type:Ot.MODAL,data:!0})},startDelete:function(e){n({type:Ot.EDIT,data:e}),n({type:Ot.DELETE_MODAL,data:!0})}}}(),f=p.formFieldDispatch,b=p.formFieldModal,E=p.formFieldDeleteModal,h=p.toggleFormFieldModal,O=p.formFieldState,j=p.startEdit,w=p.startDelete,D=p.closeFormFieldModal,N=p.isFormFieldEdit,k=Object(c.useState)(),T=Object(we.a)(k,2),x=T[0],F=T[1],M=Object(c.useState)([]),R=Object(we.a)(M,2),_=R[0],I=R[1],H=Object(c.useState)([]),U=Object(we.a)(H,2),B=U[0],z=U[1],L=Object(c.useState)([]),G=Object(we.a)(L,2),V=G[0],q=G[1],Y=Object(c.useState)(!1),Q=Object(we.a)(Y,2),J=Q[0],W=Q[1],K=Object(c.useState)("D"),X=Object(we.a)(K,2),Z=X[0],$=X[1],ee=Object(c.useState)("Y"),te=Object(we.a)(ee,2),ae=te[0],ne=te[1];Object(c.useEffect)(function(){F(a.formNameMaster.find(function(e){return String(e.id)===String(t.params.id)}))},[a.formNameMaster]),Object(c.useEffect)(function(){if(a.tables&&Array.isArray(a.tables)){var e=a.tables.map(function(e,t){return{key:t,value:e.id,text:e.name}});q(a.tables),z(e)}},[a.tables]),Object(c.useEffect)(function(){if(a.userTypeMaster&&Array.isArray(a.userTypeMaster)){var e=a.userTypeMaster.filter(function(e){return!Object(ta.a)(e.approveColumn)}).map(function(e,t){return{text:e.designationNepali||e.designation,value:e.id,key:t}});I(e)}},[a.userTypeMaster]),Object(c.useEffect)(function(){l&&l.success&&Object(A.x)("Data saved successfully")},[l]);var re=function(e){var t=(x&&x.formFieldsList||[]).find(function(t){return t.id&&t.id===e});j(t)},le=function(){r(P.a.d_formNameMasterFields,O.id),D()};return i.a.createElement("div",{className:"english-div"},x?i.a.createElement("div",null,i.a.createElement(y.a,null,i.a.createElement(Ma.b,null,i.a.createElement(ua.a,null,"Form Information"),i.a.createElement("div",null,i.a.createElement(cl,{url:"/admin/form-name",compact:!0}),i.a.createElement(C.a,{onClick:function(){return m.push("/admin/edit-table-columns/".concat(String(x.tableId)))},size:"tiny",compact:!0,content:"Edit Table Columns",icon:"edit",className:"primary-btn"}))),i.a.createElement(ma.a,{className:"app-info"},i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,null,i.a.createElement(Yt.a.Column,{width:"5"},i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Description,null,x.name),i.a.createElement(ma.a.Header,null,fl.name))),i.a.createElement(Yt.a.Column,{width:"5"},i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Description,null,x.viewUrl),i.a.createElement(ma.a.Header,null,fl.viewUrl))),i.a.createElement(Yt.a.Column,{width:"3"},i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Description,null,x.pageCode),i.a.createElement(ma.a.Header,null,fl.pageCode))),i.a.createElement(Yt.a.Column,{width:"3"},i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Description,null,x.enterBy),i.a.createElement(ma.a.Header,null,fl.enterBy)))),i.a.createElement(Yt.a.Row,null,i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Description,null,Object(ve.m)(x.tableId,B)),i.a.createElement(ma.a.Header,null,fl.tableName))))))),i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},x),onSubmit:function(e,t){t.setSubmitting(!0),console.log(e);try{var a=Object(d.a)(Object(d.a)({},e),{},{formFieldsList:function(){if(b){var t=e.formFieldsList||[],a=t.find(function(e){return e.id&&e.id===O.id});return t.length>0?a?t.map(function(e){return e.id&&e.id===O.id?Object(d.a)(Object(d.a)(Object(d.a)({},e),O),{},{formId:x.id}):e}):t.concat(Object(d.a)(Object(d.a)({},O),{},{formId:x.id})):[Object(d.a)(Object(d.a)({},O),{},{formId:x.id})]}return e.formFieldsList}(),formPermissions:function(){if(J){var t=e.formPermissions||[],a=t.find(function(e){return e.userType===Z});return t.length>0?a?t.map(function(e){return e.userType===Z?Object(d.a)(Object(d.a)({},e),{},{userType:Z,approvalStatus:ae}):e}):t.concat({formId:x.id,userType:Z,approvalStatus:ae}):[{formId:x.id,userType:Z,approvalStatus:ae}]}return e.formPermissions}()});n(P.a.d_formNameMaster,a),t.setSubmitting(!1),h(!1),W(!1)}catch(r){console.log("Error in menu master post",r),Object(A.w)("Something went wrong."),t.setSubmitting(!1)}}},function(e){var t=e.setFieldValue,a=e.values,n=e.isSubmitting,r=e.handleSubmit,l=!!a.formLayout;return i.a.createElement(v.a,{loading:n||u},i.a.createElement(Ma.a,null,i.a.createElement(il,{onClick:function(){return r()}})),i.a.createElement(S.a,{horizontal:!0},"Form Fields"," ",i.a.createElement(C.a,{icon:"add",compact:!0,size:"tiny",className:"primary-btn",content:"Add",onClick:function(){return h(!0)}})),i.a.createElement(sl,{handleDelete:function(e){var t=a.formFieldsList||[],n=t.length>0&&t.find(function(t){return t.id===e});n&&w(n)},handleEdit:re,formFieldList:a.formFieldsList,options:_}),i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(S.a,{horizontal:!0},"Approval Permissions"," ",i.a.createElement(C.a,{icon:"add",compact:!0,size:"tiny",className:"primary-btn",content:"Add",onClick:function(){return W(!0)}}))),i.a.createElement(Yt.a.Column,null,i.a.createElement(S.a,{horizontal:!0},"Form Layout"," ",i.a.createElement(C.a,{size:"tiny",compact:!0,className:"primary-btn",icon:l?"edit":"add",onClick:function(){return m.push("/admin/layout-setup/".concat(x.id))},content:l?"Edit Layout":"Add Layout"})))),i.a.createElement(Yt.a.Row,{columns:"2"},i.a.createElement(Yt.a.Column,null,i.a.createElement(dl,{handleDeletePermission:function(e){var n=a.formPermissions||[],r=n.length>0?n.filter(function(t){return t.userType!==e}):[];t("formPermissions",r)},formPermissions:a.formPermissions,options:_})),i.a.createElement(Yt.a.Column,null))),i.a.createElement(Je.b,{key:"permission-form",size:"small",open:J,scroll:!1,errors:o,isSubmitting:n||u,handleSubmit:r,handleClose:function(){return W(!1)},title:"Add Permission",saveText:"Add Permission"},i.a.createElement(pl,{approvalUserOptions:_,setStatus:ne,setUserType:$}))," ",i.a.createElement(Je.b,{key:"field-list-form",size:"large",open:b,scroll:!1,errors:o,isSubmitting:n||u,handleSubmit:r,handleClose:D,title:"".concat(N?"Edit":"Add"," Form Field"),saveText:"".concat(N?"Edit":"Add"," Form Field")},i.a.createElement(ml,{dispatch:f,state:O,tableOptions:B,tables:V,tableId:x&&parseInt(String(x.tableId))||0})),i.a.createElement(Je.b,{key:"form-field-delete",size:"tiny",open:E,scroll:!1,errors:o,isSubmitting:n||u,handleSubmit:le,handleClose:D,title:"Delete Form Field",saveText:"Delete Form Field"},"Are you sure you want to delete this form field?"))})):null)},El=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.d_ebpsTables,objName:"tables"},{api:P.a.d_formNameMaster,objName:"formNameMaster"},{api:P.a.userType,objName:"userTypeMaster"}],updateApi:[{api:P.a.formNameMaster,objName:"formNameMaster"}],render:function(t){return i.a.createElement(bl,Object.assign({},t,{parentProps:e}))}})},hl=a(207),gl=a(830),vl=a(68),yl=a(624),Ol=a.n(yl),jl=function(e){var t=e.dataMapping;return i.a.createElement("div",null,i.a.createElement(Zr.a,null,i.a.createElement("h4",null,"Available Data Points")),i.a.createElement(w.a,{striped:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"Data Point"),i.a.createElement(w.a.HeaderCell,null,"Copy"))),i.a.createElement(w.a.Body,null,t.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.name),i.a.createElement(w.a.Cell,null,e.details?i.a.createElement(Ol.a,{text:"[[data:".concat(e.details.columnName,"]]"),onCopy:function(){}},i.a.createElement(C.a,{title:"Copy",primary:!0,icon:"copy",compact:!0,size:"tiny"})):null))}))))},Cl=a(682),Sl=a.n(Cl),wl=function(e){var t=e.setData,a=e.initialData;return i.a.createElement("div",null,i.a.createElement(Sl.a,{config:{extraPlugins:"justify,font,colorbutton",toolbarGroups:[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection"]},{name:"styles"},{name:"colors"},{name:"tools"},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"others"}]},data:a,onInit:function(e){console.log("Editor is ready to use!",e),t(a),e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())},onChange:function(e){var a=e.editor.getData();t(a)}}))},Dl=a(771),Nl=a(772),kl=a(579),Tl=a(580),Al=a(544),xl=function(e){var t=e.label;e.name;return i.a.createElement(Al.a,{label:t,toggle:!0})},Fl=[{key:1,value:kl.b,text:"Nepali Input"},{key:2,value:kl.a,text:"Unicode Nepali Date"},{key:21,value:Tl.a.NORMAL_NEPALI_DATE,text:"Normal Nepali Date"},{key:3,value:Tl.a.DASHED_NORMAL_INPUT,text:"Dashed Normal Input"},{key:4,value:Tl.a.UNIT_DROPDOWN,text:"Unit Dropdown"},{key:41,value:Tl.a.DASHED_DROPDOWN,text:"Dashed Dropdown"},{key:42,value:Tl.a.DROPDOWN,text:"Dropdown"},{key:5,value:Tl.a.FLOOR_TABLE,text:"Floor Table"}],Ml=[{key:1,value:Tl.b.NUMBER,text:"Number"},{key:2,value:Tl.b.STRING,text:"String"},{key:3,value:Tl.b.NORMAL_DATE,text:"Normal Date"},{key:4,value:Tl.b.UNICODE_DATE,text:"Unicode Date"}],Rl={id:0,name:"",label:"",columnName:"",reference:"text",type:kl.b},_l=x.object().shape({name:x.string().required("This field is required"),type:x.string().required("This field is required")}),Il=function(e){var t=e.setInputTypes,a=e.onClose,n=e.isEditing,r=void 0!==n&&n,l=e.editData,o=e.vocabulary,c=void 0===o?[]:o;return i.a.createElement("div",null,i.a.createElement(g.c,{validationSchema:_l,initialValues:r&&l?l:Rl,onSubmit:function(e,n){n.setSubmitting(!0),t(r?function(t){return t.filter(function(e){return l&&e.name!==l.name}).concat(e)}:function(t){return t.concat(e)}),n.setSubmitting(!1),a()}},function(e){var t=e.values,a=e.handleSubmit,n=e.isSubmitting;return i.a.createElement(v.a,{loading:n},i.a.createElement(v.a.Group,null,i.a.createElement(We.a,{name:"name",label:"Field Name",disabled:!0}),i.a.createElement(We.a,{name:"reference",label:"Field Reference",disabled:!0})),i.a.createElement(v.a.Group,null,i.a.createElement(We.a,{name:"label",label:"Field Label"}),i.a.createElement(ul,{label:"Field Type",options:Fl,name:"type"}),t.type===Tl.a.DASHED_DROPDOWN||t.type===Tl.a.DROPDOWN?i.a.createElement(ul,{label:"Vocabulary",options:c,name:"meta.vocabulary"}):null),t.type===Tl.a.FLOOR_TABLE?i.a.createElement(v.a.Group,null,i.a.createElement(We.a,{name:"meta.header.length",label:"Length Label"}),i.a.createElement(We.a,{name:"meta.header.width",label:"Width Label"}),i.a.createElement(We.a,{name:"meta.header.height",label:"Height Label"}),i.a.createElement(We.a,{name:"meta.header.area",label:"Area Label"})):null,i.a.createElement(S.a,{horizontal:!0},"Validation"),i.a.createElement(v.a.Group,null,i.a.createElement(v.a.Field,null,i.a.createElement(xl,{name:"meta.validation.required",label:"Required"})),i.a.createElement(v.a.Field,null,"Data Type:",i.a.createElement(ul,{label:"",options:Ml,name:"meta.validation.dataType"}))),i.a.createElement(C.a,{content:"Save Form Input",size:"tiny",compact:!0,icon:"save",className:"success-button",type:"submit",onClick:function(){return a()}}))}))},Hl=function(e){var t=e.inputTypes,a=e.setInputTypes,n=(e.inputFields,e.vocabulary),r=void 0===n?[]:n,l=Object(c.useState)(!1),o=Object(we.a)(l,2),s=o[0],u=o[1],m=Object(c.useState)(null),d=Object(we.a)(m,2),p=d[0],f=d[1],b=function(e){f(function(){return t.find(function(t){return t.id===e})||null}),E()},E=function(){u(!0)},h=function(){f(null),u(!1)};return i.a.createElement("div",null,i.a.createElement(Zr.a,null,i.a.createElement("h4",null,"Available Input Types")),i.a.createElement("div",{style:{width:"300px",maxHeight:"300px",overflow:"scroll"}},i.a.createElement(w.a,{striped:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"Field Name"),i.a.createElement(w.a.HeaderCell,null,"Type"),i.a.createElement(w.a.HeaderCell,null,"Copy"))),i.a.createElement(w.a.Body,null,t.length<1?i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"3",textAlign:"center"},"Add Inputs")):t.map(function(e){return i.a.createElement(w.a.Row,{key:e.name},i.a.createElement(w.a.Cell,null,e.name),i.a.createElement(w.a.Cell,null,e.type),i.a.createElement(w.a.Cell,null,i.a.createElement(Ol.a,{text:(t=e.columnName,a=e.type,n=e.label,"[[".concat(a).concat(kl.d).concat(t).concat(n?"".concat(kl.d).concat(n):"","]]"))},i.a.createElement(C.a,{icon:"copy",title:"Copy",primary:!0,size:"tiny",compact:!0})),i.a.createElement(C.a,{icon:"edit",title:"Edit",className:"primary-btn",size:"tiny",compact:!0,onClick:b.bind(null,e&&e.id?e.id:0)})));var t,a,n})))),i.a.createElement(Q.a,{open:s,onClose:h,closeIcon:!0},i.a.createElement(Dl.a,null,p?"Edit Input":"Add Input"),i.a.createElement(Nl.a,null,i.a.createElement(Il,{setInputTypes:a,onClose:h,isEditing:!!p,editData:p,vocabulary:r}))))},Ul=a(683),Pl=function(e){var t=e.values;return i.a.createElement("div",{className:"english-div",style:{textAlign:"left",height:"100%",overflowX:"scroll"}},i.a.createElement("h4",null,"Form Values"),i.a.createElement("pre",{style:{whiteSpace:"pre-wrap"}},JSON.stringify(t,null,2)))},Bl=a(615),zl=a(606),Ll=[{floor:1,length:12,height:41,width:52,area:523},{floor:2,length:12,height:41,width:52,area:523}],Gl=function(e){var t=e.data,a=e.dataMapping,n=e.inputTypes,r=e.output,l=e.setOutput,o=e.vocabulary,s=Object(zl.a)(n,{},{floor:Ll}),u=s.initialValues,m=s.getDataToSend;Object(c.useEffect)(function(){var e=function(e,t){var a=[];if(e.includes(kl.e)){var n=e.split(kl.e),r=Object(Ul.a)(n),l=r[0],o=r.slice(1);a.push({input:!1,inline:!0,content:l.split(/<p>/).join("<div>").split(/<\/p>/).join("</div>"),id:a.length}),o.forEach(function(e){if(e.includes(kl.c)){var n=e.split(kl.c),r=Object(Ul.a)(n),l=r[0],o=r.slice(1);l.startsWith("data")?a.push({input:!1,content:t[l.split(kl.d)[1]],inline:!0,id:a.length}):a.push({id:a.length,input:!0,content:l}),a.push({id:a.length,input:!1,content:o.join().split(/<p>/).join("<div>").split(/<\/p>/).join("</div>")})}else a.push({id:a.length,input:!1,content:e.replace(/<p>/,"<div>")})})}else a=[{id:a.length,input:!1,content:e.replace(/<p>/,"<div>")}];return a}(t,a);l(e)},[t]);return i.a.createElement(v.a,null,i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,null,i.a.createElement(Yt.a.Column,null,i.a.createElement("h3",null,"Preview"))),i.a.createElement(Yt.a.Row,null,i.a.createElement(g.c,{enableReinitialize:!0,initialValues:u,validationSchema:function(){var e={};return n.forEach(function(t){var a=t&&t.meta&&t.meta.validation;a&&(a.required&&"string"===a.dataType?Object.assign(e,Object(f.a)({},t.name,x.string().required("Required"))):"number"===a.dataType&&Object.assign(e,Object(f.a)({},t.name,x.number().typeError("Must be a number").required("Required"))))}),x.object().shape(e)}(),onSubmit:function(e,t){t.setSubmitting;console.log(JSON.stringify(e,null,2))}},function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Yt.a.Column,{width:"12"},i.a.createElement(y.a,{style:{textAlign:"left"}},r&&r.map(function(t){return i.a.createElement(i.a.Fragment,{key:t.id},t.input?i.a.createElement(Bl.a,{content:t.content,formikProps:e,inputTypes:n,vocabulary:o,permitData:{floor:Ll}}):i.a.createElement("div",{style:{display:t.inline?"inline-block":"inline"},dangerouslySetInnerHTML:{__html:t.content}}))}),i.a.createElement(C.a,{content:"Submit",onClick:function(t){t.preventDefault(),e.handleSubmit()}}))),i.a.createElement(Yt.a.Column,{width:"4"},i.a.createElement(Pl,{values:m(e.values,"7778000001")})))}))))},Vl=function(e){var t=e.match,a=e.adminData,n=e.postAdminDataByUrl,r=e.success,l=e.loading,o=(Object(s.h)(),Object(c.useState)([])),u=Object(we.a)(o,2),m=u[0],p=u[1],f=Object(c.useState)(),b=Object(we.a)(f,2),E=b[0],h=b[1],g=Object(c.useState)(),O=Object(we.a)(g,2),j=O[0],C=O[1],S=Object(c.useState)([]),w=Object(we.a)(S,2),D=w[0],N=w[1],k=Object(c.useState)([]),A=Object(we.a)(k,2),x=A[0],F=A[1],M=Object(c.useState)([]),R=Object(we.a)(M,2),_=R[0],I=R[1],H=Object(c.useState)([]),U=Object(we.a)(H,2),B=U[0],z=U[1],L=Object(c.useState)([]),G=Object(we.a)(L,2),V=G[0],q=G[1];Object(c.useEffect)(function(){var e=a.formNameMaster&&a.formNameMaster.find(function(e){return String(e.id)===String(t.params.id)});e&&C(e)},[a.formNameMaster]),Object(c.useEffect)(function(){a.tables&&I(a.tables)},[a.tables]),Object(c.useEffect)(function(){if(a.vocabulary){var e=a.vocabulary.map(function(e){return{key:e.id,value:e.id,text:e.name}});N(e)}},[a.vocabulary]),Object(c.useEffect)(function(){var e;r&&r.success&&(e="Form Layout Saved.",vl.b.success(i.a.createElement("div",null,e),{transition:vl.a,pauseOnFocusLoss:!1}))},[r]),Object(c.useEffect)(function(){var e=a.formNameMaster.find(function(e){return String(e.id)===String(t.params.id)});if(e&&a.tables.length>0){var n=_.flatMap(function(e){return e.ebpsColumns}),r=e.formFieldsList.map(function(e){return Object(d.a)(Object(d.a)({},e),{},{details:n.find(function(t){return t.id===e.ebpsColumnId})})}),l=r.filter(function(e){return"Y"===e.readOnly}),o=r.filter(function(e){return"N"===e.readOnly});F(l),z(o),console.log(o);var c=[];try{var i=JSON.parse(e.formLayout),s=i.layout,u=i.inputTypes,m=i.rawData;c=u,p(s),h(m)}catch(b){console.log(b)}var f=o.map(function(e){if(e){var t=c&&c.find(function(t){return t.id===e.id});if(t)return t;var a=e&&e.details&&"text"===e.details.reference?"input":"number",n=e.details&&e.details.columnName,r=e&&e.details&&"Y"===e.required?{dataType:"string",required:!0}:{dataType:"string",required:!1};return{id:e.id||0,name:e.name,label:"",reference:e.details&&e.details.reference,type:a,columnName:n,meta:{header:{},validation:r}}}return{}});q(f)}},[j,_]);var Y=Object(c.useRef)();return i.a.createElement("div",null,i.a.createElement(hl.a,{innerRef:Y},i.a.createElement("div",null,i.a.createElement(gl.a,{context:Y,offset:50,style:{marginTop:"-20px",marginBottom:"20px",marginLeft:"-20px",marginRight:"-20px"}},i.a.createElement(y.a,{style:{marginTop:"-10px",marginBottom:"10px",padding:"0.75em"}},i.a.createElement(Ma.b,null,i.a.createElement("div",null,i.a.createElement(Zr.a,null,i.a.createElement("h4",null,"Layout Setup - ",j&&j.name))),i.a.createElement("div",null,i.a.createElement(cl,{compact:!0,url:"/admin/form-name-details/".concat(j&&j.id)}),i.a.createElement(il,{compact:!0,onClick:function(){n(P.a.d_formNameMaster,Object(d.a)(Object(d.a)({},j),{},{formLayout:JSON.stringify({layout:m,inputTypes:V,rawData:E})}))}}))))),i.a.createElement(v.a,{loading:l},j?i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,null,i.a.createElement(Yt.a.Column,{width:"12"},i.a.createElement(wl,{initialData:E,setData:h})),i.a.createElement(Yt.a.Column,{width:"4"},i.a.createElement(jl,{dataMapping:x}),i.a.createElement("br",null),i.a.createElement(Hl,{inputFields:B,inputTypes:V,setInputTypes:q,vocabulary:D})))):i.a.createElement(T.b,{loading:!0})),i.a.createElement(Gl,{vocabulary:a.vocabulary,output:m,setOutput:p,inputTypes:V,data:E||"",dataMapping:x}))))},ql=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.d_formNameMaster,objName:"formNameMaster"},{api:P.a.d_ebpsTables,objName:"tables"},{api:P.a.d_vocabulary,objName:"vocabulary"}],updateApi:[{api:P.a.d_formNameMaster,objName:"formNameMaster"}],render:function(t){return i.a.createElement(Vl,Object.assign({},t,{parentProps:e}))}})},Yl=a(632),Ql=ze.tableHeadings,Jl=Le,Wl={name:"",vocabularyDetails:[]},Kl=x.object().shape({name:F.w}),Xl=function(e){var t=e.adminData,a=e.success,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.errors,o=e.loading,u=De(Wl,a),m=u.isEditing,p=u.isDeleting,f=u.formState,b=u.openAddModal,O=u.openDeleteModal,j=u.handleEdit,S=u.handleDelete,D=u.setOpenAddModal,N=u.setOpenDeleteModal,k=u.resetFormState,T=Object(s.h)(),x=Object(c.useState)([]),F=Object(we.a)(x,2),M=F[0],R=F[1];Object(c.useEffect)(function(){t.vocabulary&&Array.isArray(t.vocabulary)&&R(t.vocabulary)},[t.vocabulary]);return i.a.createElement("div",{className:"english-div"},i.a.createElement(y.a,{inverted:!0,className:"tableSectionHeader"},ze.tableHeader,i.a.createElement(C.a,{basic:!0,style:{right:2,top:4,position:"absolute"},inverted:!0,type:"reset",onClick:function(){k(),D(!0)}},i.a.createElement(ie.a,null,i.a.createElement(se.a.Group,null,i.a.createElement(se.a,{name:"file outline"}),i.a.createElement(se.a,{inverted:!0,corner:!0,name:"add"})),"  ".concat(Jl.titleAdd)))),i.a.createElement(g.c,{enableReinitialize:!0,initialValues:Object(d.a)({},f),validationSchema:p?null:Kl,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{m?n(P.a.d_vocabulary,t):p?r(P.a.d_vocabulary,f.id):n(P.a.d_vocabulary,t),k(),a.setSubmitting(!1)}catch(l){console.log("Error in menu master post",l),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.handleSubmit,a=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{title:"Table Setup"}),i.a.createElement(Je.b,{key:"form-add-modal",size:"small",open:b,scroll:!1,errors:l,isSubmitting:a||o,handleSubmit:t,handleClose:function(){return D(!1)},title:Jl.titleAdd,saveText:m?Jl.editText:Jl.saveText},i.a.createElement(v.a,{loading:a||o},i.a.createElement(v.a.Group,{widths:"equal"},i.a.createElement(We.a,{name:"name",label:Ql.name}))))," ",i.a.createElement(Je.b,{key:"delete-form",open:O,errors:l,isSubmitting:a||o,handleSubmit:t,handleClose:function(){return N(!1)},title:Jl.delete.title,saveText:Jl.deleteText},i.a.createElement(v.a,{loading:a||o},Jl.delete.content)))}),i.a.createElement(w.a,{sortable:!0,striped:!0,celled:!0,compact:"very",size:"small"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,Ql.id),i.a.createElement(w.a.HeaderCell,null,Ql.name),i.a.createElement(w.a.HeaderCell,null,Ql.actions))),i.a.createElement(w.a.Body,null,M.length>0?M.map(function(e){return i.a.createElement(w.a.Row,{key:e.id},i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.name),i.a.createElement(w.a.Cell,null,function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{title:"Edit Permission and Fields",type:"reset",className:"success-button",onClick:function(){T.push("/admin/vocabulary-details-setup/".concat(e.id))},icon:"calendar plus outline",size:"tiny",compact:!0}),i.a.createElement(Ye,{row:e,handleEdit:j}),i.a.createElement(Qe,{handleDelete:S,row:e}))}(e)))}):i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,{colSpan:"6"},i.a.createElement(y.a,{textAlign:"center"},"No Data Found."))))))},Zl=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.d_vocabulary,objName:"vocabulary"}],updateApi:[{api:P.a.d_vocabulary,objName:"vocabulary"}],render:function(t){return i.a.createElement(Xl,Object.assign({},t,{parentProps:e}))}})},$l=Ie.tableHeadings,eo=Ue,to={id:0,value:"",label:"",vocabularyId:0},ao=function(e){var t=e.match,a=e.adminData,n=e.postAdminDataByUrl,r=e.deleteAdminDataByUrl,l=e.errors,o=e.success,u=e.loading,m=Object(s.h)(),p=Object(c.useState)(),f=Object(we.a)(p,2),b=f[0],O=f[1],j=Object(c.useState)(!1),S=Object(we.a)(j,2),D=S[0],N=S[1],k=Object(c.useState)(!1),T=Object(we.a)(k,2),x=T[0],F=T[1],M=Object(c.useState)(!1),R=Object(we.a)(M,2),_=R[0],I=R[1],H=Object(c.useState)(null),U=Object(we.a)(H,2),B=U[0],z=U[1],L=Object(c.useState)(null),G=Object(we.a)(L,2),V=G[0],q=G[1];Object(c.useDebugValue)(B,function(e){return"delete ".concat(e)}),Object(c.useEffect)(function(){O(a.vocabulary.find(function(e){return String(e.id)===String(t.params.id)}))},[a.vocabulary]),Object(c.useEffect)(function(){o&&o.success&&(B?(Object(A.x)("Data deleted successfully"),z(null),F(!1)):(Object(A.x)("Data saved successfully"),q(null),N(!1)))},[o]);var Y=function(e){console.log(e),q(e),I(!0),N(!0)},Q=function(e){e&&(z(e.id),F(!0))},J=function(){N(!1),F(!1),I(!1),q(null),z(null)};return i.a.createElement("div",null,i.a.createElement(g.c,{enableReinitialize:!0,validationSchema:B?null:Vr,initialValues:_?V:to,onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(t,a){var l;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0);try{_?(l=b?b.vocabularyDetails.filter(function(e){return e.id!==t.id}).concat(t):[],console.log(l),n(P.a.d_vocabulary,Object(d.a)(Object(d.a)({},b),{},{vocabularyDetails:l}))):null!==B?r(P.a.d_vocabularyDetails,B):n(P.a.d_vocabulary,Object(d.a)(Object(d.a)({},b),{},{vocabularyDetails:b?b.vocabularyDetails.concat({vocabularyId:b.id,value:t.value,label:t.label}):[{value:t.value,vocabularyId:b.id}]})),J(),a.setSubmitting(!1)}catch(o){console.log("Error in menu master post",o),Object(A.w)("Something went wrong."),a.setSubmitting(!1)}N(!1);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.isSubmitting,a=e.handleSubmit;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Je.b,{key:"add-edit-columns",size:"small",open:D,scroll:!1,errors:l,isSubmitting:t||u,handleSubmit:a,handleClose:J,title:_?eo.titleEdit:eo.titleAdd,saveText:_?eo.editText:eo.saveText},i.a.createElement(v.a,{loading:u||t},i.a.createElement(v.a.Group,null,i.a.createElement(We.a,{name:"value",label:"Value"}),i.a.createElement(We.a,{name:"label",label:"Label"})))),i.a.createElement(Je.b,{key:"delete-columns",size:"tiny",open:x,errors:l,isSubmitting:t||u,handleSubmit:a,handleClose:J,title:eo.delete.title,saveText:eo.delete.title},i.a.createElement(v.a,{loading:u||t},eo.delete.content)))}),i.a.createElement("div",null,b?i.a.createElement(y.a,{loading:u},i.a.createElement(Ma.b,null,i.a.createElement(ua.a,null,"Table Information"),i.a.createElement("div",null,i.a.createElement(C.a,{onClick:function(){return m.push("/admin/vocabulary-setup")},icon:"arrow left",content:"Back",compact:!0,size:"tiny",className:"danger-button"}))),i.a.createElement(ma.a,{className:"app-info"},i.a.createElement(Yt.a,null,i.a.createElement(Yt.a.Row,{columns:"3"},i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Description,null,b.name),i.a.createElement(ma.a.Header,null,$l.name))),i.a.createElement(Yt.a.Column,null,i.a.createElement(ma.a.Item,null,i.a.createElement(ma.a.Description,null,b.id),i.a.createElement(ma.a.Header,null,$l.id)))),i.a.createElement(Yt.a.Row,null)))):null,i.a.createElement(v.a.Group,null,i.a.createElement(Ma.b,null,i.a.createElement(Zr.a,null,i.a.createElement("h4",{className:"left-align"},"Columns")),i.a.createElement(C.a,{onClick:function(){return N(!0)},icon:"add",content:"Add Columns",className:"success-button",compact:!0,size:"tiny"})),i.a.createElement(w.a,{striped:!0,celled:!0,compact:"very",size:"small",className:"english-div"},i.a.createElement(w.a.Header,null,i.a.createElement(w.a.Row,null,i.a.createElement(w.a.HeaderCell,null,"Id"),i.a.createElement(w.a.HeaderCell,null,"Value"),i.a.createElement(w.a.HeaderCell,null,"Label"),i.a.createElement(w.a.HeaderCell,null,"Actions"))),i.a.createElement(w.a.Body,null,b&&b.vocabularyDetails&&b.vocabularyDetails.length>0?b.vocabularyDetails.map(function(e){return i.a.createElement(w.a.Row,null,i.a.createElement(w.a.Cell,null,e.id),i.a.createElement(w.a.Cell,null,e.value),i.a.createElement(w.a.Cell,null,e.label),i.a.createElement(w.a.Cell,null,i.a.createElement(Ye,{handleEdit:Y,row:e}),i.a.createElement(Qe,{handleDelete:Q,row:e})))}):null)))))},no=function(e){return i.a.createElement(Ge.a,{api:[{api:P.a.d_vocabulary,objName:"vocabulary"}],updateApi:[{api:P.a.d_vocabulary,objName:"vocabulary"}],render:function(t){return i.a.createElement(ao,Object.assign({},t,{parentProps:e}))}})};a.d(t,"adminDropdownData",function(){return oo}),a.d(t,"setupTags",function(){return co});var ro=Da.a.headfoot_data,lo="headfoot.headfoot_data",oo=[{id:"add-user",path:"/add-user",name:Object(wa.a)("".concat(lo,".setup_lang.addUser"),ro.setup_lang.addUser),icon:"add user",layout:"/admin",tag:"user"},{id:"designer",path:"/designer",name:Object(wa.a)("".concat(lo,".setup_lang.addDesigner"),ro.setup_lang.addDesigner),icon:"add user",layout:"/admin",tag:"user"},{id:"change-designer",path:"/change-designer",name:Object(wa.a)("".concat(lo,".setup_lang.changeDesigner"),ro.setup_lang.changeDesigner),icon:"exchange",layout:"/admin",tag:"user"},{id:"add-faq",path:"/add-faq",name:Object(wa.a)("".concat(lo,".setup_lang.addFAQ"),ro.setup_lang.addFAQ),icon:"question",layout:"/admin",tag:"public"},{id:"add-contacts",path:"/add-contacts",name:Object(wa.a)("".concat(lo,".setup_lang.contacts"),ro.setup_lang.contacts),icon:"address book",layout:"/admin",tag:"public"},{id:"downloads",path:"/downloads",name:Object(wa.a)("".concat(lo,".setup_lang.downloads"),ro.setup_lang.downloads),icon:"download",layout:"/admin",tag:"public"},{id:"masons-list",path:"/masons-list",name:Object(wa.a)("".concat(lo,".setup_lang.masons"),ro.setup_lang.masons),icon:"clipboard list",layout:"/admin",tag:"public"},{id:or.c.ADD_STOREY_ADD,path:"/talla-thap-setup",name:Object(wa.a)("".concat(lo,".setup_lang.tallaThapSetup"),ro.setup_lang.tallaThapSetup),layout:"/admin",icon:"building",tag:"form"},{id:or.c.NAMSARI_ADD,path:"/namsari-setup",name:Object(wa.a)("".concat(lo,".setup_lang.namsariSetup"),ro.setup_lang.namsariSetup),layout:"/admin",icon:"exchange",tag:"form"},{id:"file-storage-category",path:"/file-storage-category",name:Object(wa.a)("".concat(lo,".setup_lang.fileStorage"),ro.setup_lang.fileStorage),layout:"/admin",icon:"file alternate outline",tag:"form"},{id:"form-group",path:"/form-group",name:Object(wa.a)("".concat(lo,".setup_lang.formGrp"),ro.setup_lang.formGrp),layout:"/admin",icon:"group",tag:"form"},{id:"form-name",path:"/form-name",name:Object(wa.a)("".concat(lo,".setup_lang.formName"),ro.setup_lang.formName),layout:"/admin",icon:"file alternate outline",tag:"form"},{id:"forward",path:"/forward",name:Object(wa.a)("".concat(lo,".setup_lang.forward"),ro.setup_lang.forward),layout:"/admin",icon:"arrow alternate circle right",tag:"form"},{id:"road-set-back",path:"/road-set-back",name:Object(wa.a)("".concat(lo,".setup_lang.roadSetBack"),ro.setup_lang.roadSetBack),layout:"/admin",icon:"road",tag:"form"},{id:"other-set-back",path:"/other-set-back",name:Object(wa.a)("".concat(lo,".setup_lang.otherSetBack"),ro.setup_lang.otherSetBack),layout:"/admin",icon:"wpforms",tag:"form"},{id:"class-group",path:"/class-group",name:Object(wa.a)("".concat(lo,".setup_lang.classGroup"),ro.setup_lang.classGroup),layout:"/admin",icon:"pin",tag:"form"},{id:"has-revised",path:"/has-revised",name:Object(wa.a)("".concat(lo,".setup_lang.hasRevised"),ro.setup_lang.hasRevised),layout:"/admin",icon:"wpforms",tag:"form"},{id:"archi-b-master",path:"/archi-b-master",name:Object(wa.a)("".concat(lo,".setup_lang.archiBMaster"),ro.setup_lang.archiBMaster),layout:"/admin",icon:"wpforms",tag:"form"},{id:"archi-c-master",path:"/archi-c-master",name:Object(wa.a)("".concat(lo,".setup_lang.archiCMaster"),ro.setup_lang.archiCMaster),layout:"/admin",icon:"wpforms",tag:"form"},{id:"electrical-design-master",path:"/electrical-design-master",name:Object(wa.a)("".concat(lo,".setup_lang.elecDesignMaster"),ro.setup_lang.elecDesignMaster),layout:"/admin",icon:"wpforms",tag:"form"},{id:"map-check-master",path:"/map-check-master",name:Object(wa.a)("".concat(lo,".setup_lang.mapCheckMaster"),ro.setup_lang.mapCheckMaster),layout:"/admin",icon:"wpforms",tag:"form"},{id:"organization",path:"/organization",name:Object(wa.a)("".concat(lo,".setup_lang.organization"),ro.setup_lang.organization),layout:"/admin",icon:"building outline",tag:"other"},{id:"add-fiscal-year",path:"/add-fiscal-year",name:Object(wa.a)("".concat(lo,".setup_lang.addFY"),ro.setup_lang.addFY),layout:"/admin",icon:"calendar alternate outline",tag:"other"},{id:"menu-setup",path:"/menu-setup",name:Object(wa.a)("".concat(lo,".setup_lang.menuSetup"),ro.setup_lang.menuSetup),layout:"/admin",icon:"settings",tag:"other"},{id:"menu-access-setup",path:"/menu-access-setup",name:Object(wa.a)("".concat(lo,".setup_lang.menuAccessSetup"),ro.setup_lang.menuAccessSetup),layout:"/admin",icon:"settings",tag:"other"},{id:"rajasow-setup",path:"/rajasow-setup",name:Object(wa.a)("".concat(lo,".setup_lang.rajasowSetup"),ro.setup_lang.rajasowSetup),layout:"/admin",icon:"money bill alternate outline",tag:"form"},{id:"discard-setup",path:"/discard-setup",name:Object(wa.a)("".concat(lo,".setup_lang.discardSetup"),ro.setup_lang.discardSetup),layout:"/admin",icon:"user cancel",tag:"form"},{id:"ward-setup",path:"/ward-setup",name:Object(wa.a)("".concat(lo,".setup_lang.wardSetup"),ro.setup_lang.wardSetup),layout:"/admin",icon:"settings",tag:"other"},{id:"user-type-setup",path:"/user-type-setup",name:Object(wa.a)("".concat(lo,".setup_lang.userTypeSetup"),ro.setup_lang.userTypeSetup),layout:"/admin",icon:"settings",tag:"other"},{id:"v2-table-setup",path:"/v2-table-setup",name:ro.setup_lang.v2tableSetup,layout:"/admin",icon:"settings",tag:"other"},{id:"vocabulary-setup",path:"/vocabulary-setup",name:"Vocabulary Setup",layout:"/admin",icon:"list",tag:"other"},{id:"form-test",path:"/form-test",name:"Form Test",layout:"/admin",icon:"file",tag:"other"}],co=[{tag:"user",label:"User Setup",icon:"user"},{tag:"public",label:"Public Setup",icon:"tags"},{tag:"form",label:"Form Setup",icon:"file"},{tag:"other",label:"Other Setup",icon:"tags"}],io=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleSidebarToggle=function(){return r.setState(function(e){return{isSidebarToggle:!e.isSidebarToggle}})},r.state={isSideBarToggle:!0,userType:Object(A.n)(),userMenus:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.userMenu.map(function(e){return e.url}),t=oo.filter(function(t){return e.includes("".concat(t.layout).concat(t.path))});this.setState({userMenus:t})}},{key:"render",value:function(){var e=this.state.userMenus;return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{history:this.props.history,onToggle:this.handleSidebarToggle,userMenu:this.props.userMenu}),this.state.isSideBarToggle&&i.a.createElement(cr,{userType:this.state.userType,routes:e,setupTags:co}),i.a.createElement("main",{className:"site-main-setup"},i.a.createElement(s.c,{path:"/admin/add-user",component:Y}),i.a.createElement(s.c,{path:"/admin/designer",component:qa}),i.a.createElement(s.c,{path:"/admin/downloads",component:te}),i.a.createElement(s.c,{path:"/admin/masons-list",component:rr}),i.a.createElement(s.c,{path:"/admin/add-faq",component:Lt}),i.a.createElement(s.c,{path:"/admin/add-contacts",component:qt}),i.a.createElement(s.c,{path:"/admin/add-fiscal-year",component:ce}),i.a.createElement(s.c,{path:"/admin/file-storage-category",component:Ee}),i.a.createElement(s.c,{path:"/admin/form-group",component:Se}),i.a.createElement(s.c,{path:"/admin/form-name",component:at}),i.a.createElement(s.c,{path:"/admin/form-name-details/:id",component:El}),i.a.createElement(s.c,{path:"/admin/forward",component:ot}),i.a.createElement(s.c,{path:"/admin/organization",component:ht}),i.a.createElement(s.c,{path:"/admin/road-set-back",component:It}),i.a.createElement(s.c,{path:"/admin/other-set-back",component:Tt}),i.a.createElement(s.c,{path:"/admin/class-group",component:sa}),i.a.createElement(s.c,{path:"/admin/has-revised",component:_n}),i.a.createElement(s.c,{path:"/admin/change-designer",component:Ca}),i.a.createElement(s.c,{path:"/admin/archi-b-master",component:sn}),i.a.createElement(s.c,{path:"/admin/archi-c-master",component:Bn}),i.a.createElement(s.c,{path:"/admin/electrical-design-master",component:qn}),i.a.createElement(s.c,{path:"/admin/map-check-master",component:fn}),i.a.createElement(s.c,{path:"/admin/menu-setup",component:pr}),i.a.createElement(s.c,{path:"/admin/menu-access-setup",component:vr}),i.a.createElement(s.c,{path:"/admin/rajasow-setup",component:kr}),i.a.createElement(s.c,{path:"/admin/ward-setup",component:_r}),i.a.createElement(s.c,{path:"/admin/user-type-setup",component:zr}),i.a.createElement(s.c,{path:"/admin/v2-table-setup",component:Kr}),i.a.createElement(s.c,{path:"/admin/vocabulary-setup",component:Zl}),i.a.createElement(s.c,{path:"/admin/vocabulary-details-setup/:id",component:no}),i.a.createElement(s.c,{path:"/admin/edit-table-columns/:id",component:rl}),i.a.createElement(s.c,{path:"/admin/layout-setup/:id",component:ql}),i.a.createElement(s.c,{path:"/admin/form-test/:applicationNo/:formId",component:Yl.a})),i.a.createElement(m.a,null))}}]),a}(c.Component);t.default=Object(k.b)(function(e){return{userMenu:e.root.dashboard.userMenu||JSON.parse(Object(st.a)(Tr.a.USER_MENU))}})(io)},632:function(e,t,a){"use strict";var n=a(7),r=a(73),l=a(0),o=a.n(l),c=a(17),i=a(25),s=a(26),u=a(39),m=a(38),d=a(56),p=a(564),f=a(558),b=a(46),E=a.n(b),h=a(82),g=a(109),v=a(36),y=a(11),O=a(13),j=a(12),C=a(8),S=a(44),w=a.n(S),D=a(584),N=a(57),k=a(59),T=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return function(){var i=Object(h.a)(E.a.mark(function i(s){return E.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Promise.all(a.map(function(){var e=Object(h.a)(E.a.mark(function e(t){var a,l,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getParams(),l=a.utility?"".concat(Object(v.a)()).concat(a.api):"".concat(Object(v.a)()).concat(a.api).concat(n,"?formId=").concat(o),!a.concatToApi){e.next=7;break}if(c=r[a.concatToApi.fieldName],!a.concatToApi.needsTranslation){e.next=6;break}return e.abrupt("return",w.a.get("".concat(l).concat(a.concatToApi.prefix).concat(Object(N.f)(c))));case 6:return e.abrupt("return",w.a.get("".concat(l).concat(a.concatToApi.prefix).concat(c)));case 7:return e.abrupt("return",w.a.get(l));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 3:i.sent.forEach(function(e){if(e){var t,n=a.find(function(t){return e.config.url.includes(t.getApi())}).getParams();if(n&&n.form)s({type:C.o,payload:(t={},Object(c.a)(t,n.objName,e.data.data?e.data.data:e.data),Object(c.a)(t,"comment",e.data.comment),Object(c.a)(t,"history",e.data.history),Object(c.a)(t,"permitData",r),Object(c.a)(t,"userData",l),t)});else s({type:C.o,payload:Object(c.a)({},n.objName,e.data.data?e.data.data:e.data)})}}),s({type:C.Q}),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),t<3?e(t+1,a,n,r,l,o)(s):(console.log("Error in form data fetch",i.t0,t),s({type:C.x,payload:i.t0}),s({type:C.Q}));case 11:case"end":return i.stop()}},i,null,[[0,8]])}));return function(e){return i.apply(this,arguments)}}()},A=function(e,t,a){return function(n){try{var r=(JSON.parse(Object(j.a)(k.a.FORM_GROUP))||[]).find(function(e){return e.formId.viewUrl.trim()===String(a)}),l=r&&r.previousForm,o=e.filter(function(e){return e.formId===l&&"Y"===e.isRequired}).every(function(e){return t.find(function(t){return t.fileType.id===e.formId})});n({type:C.o,payload:{hasPreviousFiles:o}})}catch(c){console.error("Error in previous file check",c)}}},x=a(125),F=a(210),M=a(559),R=a(54),_=a(647),I=a(208),H=a(830),U=a(126),P=a(616),B=a(607),z=a(598),L=a(625),G=a(626),V=a(617),q=a(627),Y=a(590),Q=a(585),J=a(213),W=a(646),K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).myWindow=l.createRef(),e.onWindowToggle=function(){e.myWindow.current.isOpen()?e.myWindow.current.close():e.myWindow.current.open()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.setFileUploadRef&&this.props.setFileUploadRef(this.myWindow)}},{key:"componentWillUnmount",value:function(){this.myWindow.current.destroy()}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,r=t.icon,o=t.children,c=(t.button,t.shortcut,t.allupload,t.allcategory,t.notification,t.isRejected),i=void 0!==c&&c,s=Object(J.a)(t,["label","icon","children","button","shortcut","allupload","allcategory","notification","isRejected"]);return l.createElement(l.Fragment,null,l.createElement(I.a,{size:"tiny",compact:!0,icon:i?"warning circle":r,className:i?"danger-button":"primary-btn",content:a,onClick:function(){return e.onWindowToggle()}}),l.createElement(W.a,{ref:this.myWindow,width:700,height:500,minWidth:200,maxWidth:1200,minHeight:200,position:"bottom",maxHeight:900,autoOpen:this.props.autoOpen||!1,title:a,showCollapseButton:!0},l.createElement("div",null,l.cloneElement(o,Object(n.a)({},s)))))}}]),a}(l.PureComponent),X=Object(d.b)(function(e){return{shortcut:e.root.general.shortcut}})(K),Z=function(e){var t,a=e.onBeforeGetContent,n=e.context,r=e.isDisabled,l=void 0!==r&&r,c=e.hasApprovePermission,i=void 0===c||c,s=e.shortcut,u=void 0!==s&&s,m=e.statuses,d=e.isRejected,p=e.setPrintContent,f=e.content,b=e.historyList,E=void 0===b?[]:b,h=e.comments,g=void 0===h?[]:h,v=e.formUrl,j=e.parentHistory,C=e.approvalRef,S=e.files,w=e.fileCategories,D=v===U.a.BUILD_PERMIT,N=w&&w.length>0,k=a?o.a.createElement(Y.a,{content:function(){return t},onBeforeGetContent:function(){p(!0),t=f.cloneNode(!0),Object(O.a)(t),Object.values(a).forEach(function(e){return O.t.apply(void 0,[t].concat(Object(R.a)(e)))}),C&&t.append(C)},onBeforePrint:function(){p(!1)},ui:o.a.createElement(I.a,{className:"primary-btn",compact:!0,size:"tiny",icon:"print",content:"Print"})}):o.a.createElement(Y.a,{content:function(){return f},onBeforeGetContent:function(){p(!0)},onBeforePrint:function(){p(!1)},ui:o.a.createElement(I.a,{className:"primary-btn",compact:!0,size:"tiny",icon:"print",content:"Print"})});return o.a.createElement("div",null,o.a.createElement(H.a,{context:n,offset:43,style:{marginTop:"-26px",marginBottom:"20px",marginLeft:"-20px",marginRight:"-20px"}},o.a.createElement(_.a,null,o.a.createElement("ul",null,i&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{style:{color:"#099e2c",pointerEvents:l?"none":"auto",opacity:l?.3:1}},o.a.createElement(I.a,{content:"Approve",size:"tiny",compact:!0,className:"success-button",icon:"thumbs up",onClick:function(){}})," ",u&&o.a.createElement(Q.a,{content:"[alt + a]"})),o.a.createElement("li",{style:{color:"#099e2c",pointerEvents:l?"none":"auto",opacity:l?.3:1}},o.a.createElement(I.a,{content:"Reject",size:"tiny",compact:!0,className:"danger-button",icon:"thumbs down",onClick:function(){}}),u&&o.a.createElement(Q.a,{content:"[alt + r]"}))),N&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{id:"menuItemFileUpload",className:"jqx-item jqx-menu-item-top jqx-rc-all",role:"menuitem",style:{float:"left"}},o.a.createElement(X,{label:"Upload File",icon:"file"},o.a.createElement(o.a.Fragment,null,D&&o.a.createElement(z.a,null),o.a.createElement(L.a,{url:v,fileCategories:w,prevData:{},files:S}))))," ",o.a.createElement("li",{id:"menuItemFileUpload",className:"jqx-item jqx-menu-item-top jqx-rc-all",role:"menuitem",style:{float:"left"}},o.a.createElement(X,{label:"View File",icon:"file code"},o.a.createElement("div",null,D&&o.a.createElement(V.a,{url:"",width:350,title:y.r}),o.a.createElement(B.a,{url:v,Durl:v,prevData:{}}))))),o.a.createElement("li",null,k),o.a.createElement("li",null,o.a.createElement(X,{label:"History",icon:"history"},o.a.createElement(q.a,{historyList:E}))),o.a.createElement("li",null,o.a.createElement(X,{label:"Comments",icon:"comments",isRejected:d},o.a.createElement(G.a,{comments:g})))," ",o.a.createElement("li",null,o.a.createElement(G.b,{dynamic:!0,isRejected:d,statuses:m,formUrl:v})),o.a.createElement("li",null,o.a.createElement(X,{label:"Forward to Next",icon:"arrow left"},o.a.createElement(P.a,{history:j,location:{pathname:v},modal:!0})))))))},$=a(9),ee=function e(t){var a=this;Object(i.a)(this,e),this.form=void 0,this.savePermission=void 0,this.approvePermission=void 0,this.enterByUser=void 0,this.prefixes=void 0,this.approveByUsers=void 0,this.getUrl=function(){return a.form.viewUrl},this.getStatusNameValues=function(e){try{var t=!1;return{prefixValues:a.prefixes?a.prefixes.map(function(a){var n=a.prefix,r=a.userType,l=a.userDesignation,o=e&&e["".concat(n,"Status")]?e["".concat(n,"Status")]:"P",c=e&&e["".concat(n,"Name")]?e["".concat(n,"Name")]:"";return"R"===o&&(t=!0),{statusField:"".concat(n,"Status"),status:o,userType:r,name:c,userDesignation:l}}):[],isRejected:t}}catch(n){return console.log("Error",n),{prefixValues:[],isRejected:!1}}},this.form=t;var n=te(t);this.savePermission=n.savePermission,this.approvePermission=n.approvePermission,this.enterByUser=n.enterByUser,this.prefixes=n.prefixes,this.approveByUsers=n.approveByUsers},te=function(e){var t=!1,a=!1;try{var r=JSON.parse(Object(j.a)(k.a.USER_TYPE_ALL)),l=(JSON.parse(Object(j.a)(k.a.USER_DETAILS)),Object(O.m)()),o=[],c=e.formPermissions.filter(function(e){return"Y"===e.approvalStatus}).map(function(e){var t=$.k[e.userType],c=r?r.find(function(e){return e.userType===t.userType}).designation:"";return o.push({designation:c,userType:t.userType,prefix:t.prefix}),l.userType===e.userType&&(a=!0),Object(n.a)(Object(n.a)({},t),{},{userDesignation:c})}),i={designation:r?r.find(function(t){return t.userType===e.enterBy}).designation:"",userType:e.enterBy,name:""};return l.userType===e.enterBy&&(i.name=l.userName,t=!0),{prefixes:c,enterByUser:i,savePermission:t,approvePermission:a,approveByUsers:o}}catch(s){return{savePermission:t,approvePermission:a,approveBy:"N",enterBy:"N",prefixes:null,enterByUser:null,approveByUsers:null,userDetailsMaster:[]}}},ae=a(211),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).formRef=o.a.createRef(),n.setPrintContent=function(e){n.props.setPrint(e)},n.state={allLoaded:!1,isFormSetupValid:!1,applicationNo:"",formId:"",cFormMaster:null,formUtility:null,prevData:null,appIdIndex:0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.parentProps.match.params.formId,a=e.api;this.props.getDynamicFormContainerData(a,null,!1,t)}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=(a.adminData,a.dynamic),l=a.parentProps.match.params,o=l.applicationNo,c=l.formId,i=a.api;if(c!==e.parentProps.match.params.formId&&this.props.getDynamicFormContainerData(i,null,!1,c),n!==e.dynamic){var s=n.cFormName;if(s&&s.formLayout&&s.formPermissions&&s.formFieldsList){var u;if(s&&(u=new ee(s)),n.tables&&Array.isArray(n.tables)){var m=n.tables.find(function(e){return e.id===s.tableId});if(m){var d=m.ebpsColumns.find(function(e){return"Y"===e.isPk});if(d){var p=s.formFieldsList.find(function(e){return e.ebpsColumnId===d.id});p&&this.setState({appIdIndex:p.id||0})}}}if(!Object(O.s)(n.generalData)){var f={};try{var b=JSON.parse(s.formLayout).inputTypes;Object.entries(n.generalData).forEach(function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1],l=b.find(function(e){return e.columnName===a});l&&l.id&&(f[l.id]=n)})}catch(h){}this.setState({prevData:f})}var E=[];["generalData","vocabulary"].forEach(function(e,a){!Object(O.s)(t.props.dynamic[e])||Array.isArray(t.props.dynamic[e])?E[a]=!0:E[a]=!1}),this.setState({allLoaded:E.reduce(function(e,t){return e&&t},!0)}),this.setState({cFormMaster:s||null,applicationNo:o,formId:c,formUtility:u||null,isFormSetupValid:!0})}else this.setState({isFormSetupValid:!1,applicationNo:o,formId:c,allLoaded:!0})}this.props.success,e.success}},{key:"render",value:function(){var e=this,t=this.state,a=t.isFormSetupValid,r=t.cFormMaster,l=t.formUtility,i=t.applicationNo,s=t.formId,u=t.prevData,m=t.appIdIndex,d=this.props,p=d.loading,f=d.errors,b=d.formHistory,E=d.comment,h=d.fileCategories,v=d.files,y=d.dynamic,O=d.permitData,j=l?l.getStatusNameValues({}):{prefixValues:[],isRejected:!1},C=j.prefixValues,S=j.isRejected;return a?this.state.allLoaded?o.a.createElement("div",null,o.a.createElement(Z,{parentHistory:this.props.parentProps.history,content:this.formRef.current,setPrintContent:this.setPrintContent,onBeforeGetContent:this.props.onBeforeGetContent,context:this.formRef,formUrl:r?r.viewUrl:null,statuses:C,historyList:b,comments:E,isRejected:S,fileCategories:h||[],files:v||[],hasApprovePermission:l.approvePermission}),o.a.createElement("div",{ref:this.formRef},this.props.render(Object(n.a)(Object(n.a)({},this.props),{},{savePermission:l.savePermission,vocabulary:y.vocabulary,permitData:O,prevData:u,cFormMaster:r,postAction:function(t){return e.props.postFormDataByUrl(g.a.d_general,Object(n.a)(Object(n.a)({},t),{},Object(c.a)({},m,i)),i||"",s||"")}})))):o.a.createElement(F.b,{errors:this.props.errors,loading:this.props.loading}):p?o.a.createElement(F.b,{errors:f,loading:p}):o.a.createElement("div",null,o.a.createElement(ae.a,{message:M.e.formSetupError}))}}]),a}(o.a.Component),re={getPermitAndUserData:p.f,getFormContainerData:p.a,getDynamicFormContainerData:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return function(){var e=Object(h.a)(E.a.mark(function e(r){var l,o,c,i,s,u,m,d,p,f,b;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r({type:C.q}),r({type:C.e}),r({type:C.n}),r({type:C.m}),l=Object(O.e)(),o=Object(O.m)(),c=JSON.parse(Object(j.a)(y.k))||[],i=JSON.parse(Object(j.a)(y.o))||[],s=i&&i.find(function(e){return String(e.id)===String(n)})||null,u=JSON.parse(Object(j.a)(k.a.TABLES_DATA)),m=c&&c.some(function(e){return s&&e.viewUrl&&e.viewUrl.trim()===s.viewUrl}),Object(O.s)(l)||Object(O.s)(o)){e.next=31;break}if(d=l.applicantNo,p=[new D.a(g.a.d_general,"generalData").setForm(),new D.a(g.a.d_vocabulary,"vocabulary").setUtility()],r({type:C.o,payload:{cFormName:s,tables:u}}),!m&&!a){e.next=28;break}return f="".concat(Object(v.a)()).concat(g.a.fileUpload).concat(l.applicantNo),e.prev=17,e.next=20,w.a.get(f);case 20:(b=e.sent).data.error?r({type:C.x,payload:b.data.error}):(a&&A(c,b.data,t.getUrl())(r),r({type:C.o,payload:{files:b.data,fileCategories:c}})),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(17),r({type:C.x,payload:e.t0}),r({type:C.Q});case 28:T(0,p,d,l,o,n)(r),e.next=33;break;case 31:r({type:C.M}),r({type:C.Q});case 33:case"end":return e.stop()}},e,null,[[17,24]])}));return function(t){return e.apply(this,arguments)}}()},postFormDataByUrl:function(e,t,a,n){return function(){var r=Object(h.a)(E.a.mark(function r(l){var o,c;return E.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o="".concat(Object(v.a)()).concat(e).concat(a,"?formId=").concat(n),t.uploadFile&&delete t.uploadFile,t.imagePreviewUrl&&delete t.imagePreviewUrl,w.a.defaults.headers.common.Authorization=Object(O.j)(),r.prev=4,r.next=7,w.a.post(o,t);case 7:c=r.sent,console.log(c),"Success"===c.data.message?l({type:C.J,payload:{success:!0,data:c.data}}):l({type:C.x,payload:c.data.error}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),l({type:C.x,payload:r.t0});case 15:case"end":return r.stop()}},r,null,[[4,12]])}));return function(e){return r.apply(this,arguments)}}()},getAdminDataByUrl:f.k,postFormDataWithFileByUrl:p.i,setPrint:function(e){return Object(x.b)(e)}},le=Object(d.b)(function(e){return{permitData:e.root.dynamic.permitData,userData:e.root.formData.userData,formData:e.root.formData,loading:e.root.ui.loading,errors:e.root.ui.errors,success:e.root.formData.success,printcontent:e.root.general.printcontent,fileCategories:e.root.dynamic.fileCategories,files:e.root.dynamic.files,adminData:e.root.admin,dynamic:e.root.dynamic,comment:e.root.dynamic.comment,formHistory:e.root.dynamic.history}},re)(ne),oe=a(102),ce=a(122),ie=a(550),se=a(580),ue=a(123),me=a(553),de=a(599),pe=a(615),fe=a(606),be=function(e){var t=e.applicationNo,a=e.prevData,n=(e.readOnlyFields,e.inputTypes),r=e.output,l=e.postAction,i=e.loading,s=e.savePermission,u=e.vocabulary,m=e.permitData,d=Object(fe.a)(n,a,m),p=d.initialValues,f=d.getDataToSend;return o.a.createElement(ce.c,{enableReinitialize:!0,initialValues:p,validationSchema:function(){var e={};return n.forEach(function(t){var a=t&&t.meta&&t.meta.validation;a&&(a.required?a.dataType===se.b.STRING?Object.assign(e,Object(c.a)({},t.id,me.w)):a.dataType===se.b.NUMBER?Object.assign(e,Object(c.a)({},t.id,me.p)):a.dataType===se.b.NORMAL_DATE?Object.assign(e,Object(c.a)({},t.id,me.f)):a.dataType===se.b.UNICODE_DATE&&Object.assign(e,Object(c.a)({},t.id,me.e)):a.dataType===se.b.NUMBER?Object.assign(e,Object(c.a)({},t.id,me.p)):a.dataType===se.b.NORMAL_DATE?Object.assign(e,Object(c.a)({},t.id,me.a)):a.dataType===se.b.UNICODE_DATE&&Object.assign(e,Object(c.a)({},t.id,me.j)))}),ue.object().shape(e)}(),onSubmit:function(){var e=Object(h.a)(E.a.mark(function e(a,n){var r,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.setSubmitting)(!0),o=f(a,t),e.prev=3,e.next=6,l(o);case 6:window.scrollTo(0,0),r(!1),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(3),r(!1),window.scrollTo(0,0),console.log("Error",e.t0),Object(O.w)("Something went wrong !!");case 16:console.log(JSON.stringify(o,null,2)),r(!1);case 18:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t,a){return e.apply(this,arguments)}}()},function(e){return o.a.createElement(ie.a,{loading:e.isSubmitting||i},o.a.createElement("div",{style:{minHeight:"500px"}},o.a.createElement("div",null,r&&r.map(function(t){return o.a.createElement(o.a.Fragment,{key:t.id},t.input?o.a.createElement(pe.a,{content:t.content,formikProps:e,inputTypes:n,vocabulary:u,permitData:m}):o.a.createElement("div",{style:{display:t.inline?"inline-block":"inline"},dangerouslySetInnerHTML:{__html:t.content}}))})),o.a.createElement(de.a,{errors:e.errors,formUrl:"",hasSavePermission:s,prevData:{},hasDeletePermission:!1,isSaveDisabled:!1,handleSubmit:e.handleSubmit,validateForm:e.validateForm})))})},Ee=a(74);a.d(t,"a",function(){return ge});var he=function(e){var t=e.applicationNo,a=e.success,n=void 0===a?{}:a,c=e.prevData,i=e.history,s=e.cFormMaster,u=e.formId,m=e.postAction,d=e.errors,p=e.loading,f=e.savePermission,b=e.vocabulary,E=e.permitData,h=Object(l.useState)([]),g=Object(r.a)(h,2),v=g[0],y=g[1],O=Object(l.useState)([]),j=Object(r.a)(O,2),C=j[0],S=j[1],w=Object(l.useState)([]),D=Object(r.a)(w,2),N=D[0];D[1];return Object(l.useEffect)(function(){if(s)try{var e=JSON.parse(s.formLayout),t=e.layout,a=e.inputTypes;y(t),S(a)}catch(n){console.log(n)}},[u,s]),Object(l.useEffect)(function(){n&&n.success&&Object(Ee.o)({},s.id,t,i,n)},[n]),o.a.createElement("div",null,d?o.a.createElement(ae.a,{message:d.message}):null,o.a.createElement(be,{permitData:E,prevData:c,applicationNo:t,readOnlyFields:N,output:v,inputTypes:C,postAction:m,loading:p,savePermission:f,vocabulary:b}))},ge=function(e){var t=e.match.params,a=t.applicationNo,r=t.formId,c=e.history;return Object(l.useEffect)(function(){window.scrollTo(0,0),a&&r||c.push("/")},[a,r]),o.a.createElement(le,{api:[new D.a(g.a.d_formNameMaster,"formNameMaster").getParams()],onBeforeGetContent:Object(n.a)(Object(n.a)({},oe.b.INLINE_FIELD),{},{param1:["getElementsByTagName","input","value"],param4:["getElementsByTagName","textarea","value"],param6:["getElementsByClassName","dashedForm-control","value"]}),parentProps:e,render:function(t){return o.a.createElement(he,Object.assign({},t,e,{formId:r,applicationNo:a}))}})}},633:function(e,t,a){"use strict";var n=a(25),r=a(26),l=a(39),o=a(38),c=a(0),i=a.n(c),s=a(34),u=a(27),m=a(41),d=a(35),p=a(321),f=a(120),b=a(322),E=a(111),h=a(152),g=a.n(h),v=a(215),y=a(56),O=a(13),j=a(49),C=a(163),S=a(11),w=a(57),D=a(12),N=a(603),k=a(9),T=a(234),A=a(51),x=a(73),F=a(198),M=a(631),R=function(e){var t=e.handleSetupMenu,a=e.userMenu,n=Object(c.useState)(),r=Object(x.a)(n,2),l=r[0],o=r[1],s=Object(c.useState)(),u=Object(x.a)(s,2),m=u[0],p=u[1],b=Object(c.useState)(),E=Object(x.a)(b,2),h=E[0],g=E[1],v=Object(c.useState)(),y=Object(x.a)(v,2),O=y[0],j=y[1],C=Object(c.useState)(!1),S=Object(x.a)(C,2),w=S[0],D=S[1];return Object(c.useEffect)(function(){var e,t=a.map(function(e){return e.url}),n=M.adminDropdownData.filter(function(e){return t.includes("".concat(e.layout).concat(e.path))}),r=0,l=Object(A.a)(M.setupTags);try{for(l.s();!(e=l.n()).done;){var c=e.value;"form"===c.tag&&n.find(function(e){return"form"===e.tag})?(o(n.filter(function(e){return"form"===e.tag})),r++):"user"===c.tag&&n.find(function(e){return"user"===e.tag})?(p(n.filter(function(e){return"user"===e.tag})),r++):"public"===c.tag&&n.find(function(e){return"public"===e.tag})?(r++,g(n.filter(function(e){return"public"===e.tag}))):"other"===c.tag&&n.find(function(e){return"other"===e.tag})&&(r++,j(n.filter(function(e){return"other"===e.tag})))}}catch(i){l.e(i)}finally{l.f()}r>0&&D(!0)},[a]),i.a.createElement(i.a.Fragment,null,l||w?i.a.createElement(f.a,{text:"Setup",item:!0,direction:"left"},i.a.createElement(f.a.Menu,{className:w?"setup-dropdown":"setup-dropdown-one-column"},i.a.createElement(F.a,{padded:!0},i.a.createElement(F.a.Row,{columns:w?"2":"1"},l&&i.a.createElement(F.a.Column,null,i.a.createElement(f.a.Menu,{className:"noScroll noTopBorder"},i.a.createElement(f.a.Header,{icon:"file",content:M.setupTags[2].label}),l.map(function(e){return i.a.createElement(f.a.Item,{key:e.id,id:e.id,onClick:t},e.icon&&i.a.createElement(d.a,{name:e.icon,color:"black"}),e.name)}))),w&&i.a.createElement(F.a.Column,null,i.a.createElement(F.a.Row,null,m&&i.a.createElement(F.a.Column,null,i.a.createElement(f.a.Menu,{scrolling:!0,className:"noTopBorder"},i.a.createElement(f.a.Header,{icon:"user",content:M.setupTags[0].label}),m.map(function(e){return i.a.createElement(f.a.Item,{key:e.id,id:e.id,onClick:t},e.icon&&i.a.createElement(d.a,{name:e.icon,color:"black"}),e.name)})))),i.a.createElement(F.a.Row,null,h&&i.a.createElement(F.a.Column,null,i.a.createElement(f.a.Menu,{scrolling:!0,className:"noTopBorder"},i.a.createElement(f.a.Header,{icon:"tags",content:M.setupTags[1].label}),h.map(function(e){return i.a.createElement(f.a.Item,{key:e.id,id:e.id,onClick:t},e.icon&&i.a.createElement(d.a,{name:e.icon,color:"black"}),e.name)})))),i.a.createElement(F.a.Row,null,O&&i.a.createElement(F.a.Column,null,i.a.createElement(f.a.Menu,{scrolling:!0,className:"noTopBorder"},i.a.createElement(f.a.Header,{icon:"tags",content:M.setupTags[3].label}),O.map(function(e){return i.a.createElement(f.a.Item,{key:e.id,id:e.id,onClick:t},e.icon&&i.a.createElement(d.a,{name:e.icon,color:"black"}),e.name)}))))))))):null)},_=a(212),I=a(7),H=a(17),U=a(40),P=a(164),B=a(853),z=v.a.headfoot_data,L="headfoot.headfoot_data",G=function(e){var t=e.menuItems,a=Object(c.useState)(-1),n=Object(x.a)(a,2),r=n[0],l=n[1],o=Object(c.useState)(-1),s=Object(x.a)(o,2),u=s[0],m=s[1],p=function(e,t){var a=t.index;m(u===a?-1:a)};return i.a.createElement(B.a,{inverted:!0},i.a.createElement(B.a.Title,{active:0===r,index:0,onClick:function(e,t){var a=t.index;l(r===a?-1:a)}},i.a.createElement("span",null,i.a.createElement(d.a,{name:"tasks",style:{marginRight:"5px"}}),"\u092a\u094d\u0930\u0915\u094d\u0930\u093f\u092f\u093e",i.a.createElement(d.a,{name:"dropdown"}))),i.a.createElement(B.a.Content,{active:0===r},t[P.b.NAYA_NIRMAN]&&t[P.b.NAYA_NIRMAN].length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a.Title,{active:0===u,index:0,onClick:p},i.a.createElement("span",null,i.a.createElement(d.a,{name:"add"}),Object(C.a)("".concat(L,".header.nayaDarta"),z.header.nayaDarta),i.a.createElement(d.a,{name:"dropdown"}))),i.a.createElement(B.a.Content,{active:0===u},i.a.createElement(f.a.Menu,null,t[P.b.NAYA_NIRMAN].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)})))),t[P.b.PURANO_GHAR]&&t[P.b.PURANO_GHAR].length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a.Title,{active:1===u,index:1,onClick:p},i.a.createElement("span",null,i.a.createElement(d.a,{name:"edit"}),Object(C.a)("".concat(L,".header.puranoDarta"),z.header.puranoDarta),i.a.createElement(d.a,{name:"dropdown"}))),i.a.createElement(B.a.Content,{active:1===u},i.a.createElement(f.a.Menu,{className:"left-fix"},t[P.b.PURANO_GHAR].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)})))),t[P.b.TALLA_THAP]&&t[P.b.TALLA_THAP].length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a.Title,{active:2===u,index:2,onClick:p},i.a.createElement("span",null,i.a.createElement(d.a,{name:"building outline"}),Object(C.a)("".concat(L,".header.tallaThap"),z.header.tallaThap),i.a.createElement(d.a,{name:"dropdown"}))),i.a.createElement(B.a.Content,{active:2===u},i.a.createElement(f.a.Menu,null,t[P.b.TALLA_THAP].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)})))),t[P.b.NAMSARI]&&t[P.b.NAMSARI].length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a.Title,{active:3===u,index:3,onClick:p},i.a.createElement(d.a,{name:"exchange"}),Object(C.a)("".concat(L,".header.namsari"),z.header.namsari),i.a.createElement(d.a,{name:"dropdown"})),i.a.createElement(B.a.Content,{active:3===u},i.a.createElement(f.a.Menu,null,t[P.b.NAMSARI].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)})))),t[P.b.DISCARD]&&t[P.b.DISCARD].length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a.Title,{active:4===u,index:4,onClick:p},i.a.createElement(d.a,{name:"user delete"}),Object(C.a)("".concat(L,".header.discard"),z.header.discard),i.a.createElement(d.a,{name:"dropdown"})),i.a.createElement(B.a.Content,{active:4===u},i.a.createElement(f.a.Menu,null,t[P.b.DISCARD].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)})))),t[P.b.MYAD]&&t[P.b.MYAD].length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a.Title,{active:5===u,index:5,onClick:p},i.a.createElement(d.a,{name:"add"}),Object(C.a)("".concat(L,".header.myad"),z.header.myad),i.a.createElement(d.a,{name:"dropdown"})),i.a.createElement(B.a.Content,{active:5===u},i.a.createElement(f.a.Menu,null,t[P.b.MYAD].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)}))))))},V=v.a.headfoot_data,q=i.a.memo(function(e){var t=e.handleItemClick,a=e.userMenu,n=e.isSideBar,r=void 0!==n&&n,l=Object(c.useState)(""),o=Object(x.a)(l,2),u=o[0],m=o[1],p=Object(c.useState)({}),b=Object(x.a)(p,2),E=b[0],h=b[1];return Object(c.useEffect)(function(){m(Object(O.n)())},[]),Object(c.useEffect)(function(){var e=function(e,t,a){var n=[{id:P.d[P.c.PERMIT_ADD].id,component:i.a.createElement(f.a.Item,{icon:"add",text:V.header.nayaPrakriya,id:"building-permit",as:s.c,to:P.d[P.c.PERMIT_ADD].url}),group:P.b.NAYA_NIRMAN},{id:P.c.PERMIT_ADD_TASK,component:i.a.createElement(f.a.Item,{icon:"search",as:s.c,to:{pathname:"/user/task-search/".concat(P.b.NAYA_NIRMAN),state:{searchParams:{constructionType:U.c.NAYA_NIRMAN}}},text:V.header.search}),group:P.b.NAYA_NIRMAN},{id:P.c.PERMIT_OLD_ADD,component:i.a.createElement(f.a.Item,{icon:"add",text:V.header.nayaPrakriya,id:"building-permit-purano",onClick:e}),group:P.b.PURANO_GHAR},{id:P.c.PERMIT_OLD_ADD_TASK,component:i.a.createElement(f.a.Item,{icon:"search",as:s.c,to:{pathname:"/user/task-search/".concat(P.b.PURANO_GHAR),state:{searchParams:{constructionType:U.c.PURANO_GHAR}}},text:V.header.search}),group:P.b.PURANO_GHAR},{id:P.c.ADD_STOREY_ADD,component:i.a.createElement(f.a.Item,{icon:"add",as:s.c,to:{pathname:P.d[P.c.ADD_STOREY_ADD].url},text:V.header.nayaPrakriya}),group:P.b.TALLA_THAP},{id:P.c.ADD_STOREY_TASK,component:i.a.createElement(f.a.Item,{icon:"edit",text:V.header.adhyapadi,id:"completed-list",onClick:e}),group:P.b.TALLA_THAP},{id:P.c.ADD_STOREY_SEARCH,component:i.a.createElement(f.a.Item,{icon:"search",text:V.header.search,as:s.c,to:{pathname:"/user/task-search/".concat(P.b.TALLA_THAP),state:{searchParams:{constructionType:U.c.TALLA_THAP}}}}),group:P.b.TALLA_THAP},{id:P.c.NAMSARI_ADD,component:i.a.createElement(f.a.Item,{icon:"add",as:s.c,to:{pathname:P.d[P.c.NAMSARI_ADD].url},text:V.header.nayaPrakriya}),group:P.b.NAMSARI},{id:P.c.NAMSARI_TASK,component:i.a.createElement(f.a.Item,{icon:"search",as:s.c,to:{pathname:"/user/task-search/".concat(P.b.NAMSARI)},text:V.header.search}),group:P.b.NAMSARI},{id:P.c.DISCARD_ADD,component:i.a.createElement(f.a.Item,{icon:"add",as:s.c,to:{pathname:P.d[P.c.DISCARD_ADD].url},text:V.header.nayaPrakriya}),group:P.b.DISCARD},{id:P.c.MYAD_ADD,component:i.a.createElement(f.a.Item,{icon:"add",as:s.c,to:{pathname:P.d[P.c.MYAD_ADD].url},text:V.header.nayaPrakriya}),group:P.b.MYAD},{id:P.c.MYAD_APPROVE,component:i.a.createElement(f.a.Item,{icon:"check square",as:s.c,to:{pathname:P.d[P.c.MYAD_APPROVE].url},text:V.header.myadThapApprove}),group:P.b.MYAD}];return void 0===t?n:n.filter(function(e){return e.group===t&&Object(P.e)(e.id).includes(a)})}(t,void 0,void 0).filter(function(e){return P.d[e.id]&&a.map(function(e){return e.url}).includes(P.d[e.id].url)});h(Object.values(P.b).map(function(t){return Object(H.a)({},t,e.filter(function(e){return e.group===t}).map(function(e){return e.component}))}).reduce(function(e,t){return Object(I.a)(Object(I.a)({},e),t)},{}))},[u,t,a]),r?i.a.createElement(G,{menuItems:E}):i.a.createElement(f.a,{item:!0,trigger:i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{name:"tasks",style:{marginRight:"5px"}}),i.a.createElement("span",null," \u092a\u094d\u0930\u0915\u094d\u0930\u093f\u092f\u093e"))},i.a.createElement(f.a.Menu,{className:"menu-dropdown"},E[P.b.NAYA_NIRMAN]&&E[P.b.NAYA_NIRMAN].length>0&&i.a.createElement(f.a,{item:!0,pointing:"left",trigger:i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"add",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".header.nayaDarta"),V.header.nayaDarta))},i.a.createElement(f.a.Menu,null,E[P.b.NAYA_NIRMAN].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)}))),E[P.b.PURANO_GHAR]&&E[P.b.PURANO_GHAR].length>0&&i.a.createElement(f.a,{item:!0,pointing:"left",trigger:i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"edit",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".header.puranoDarta"),V.header.puranoDarta))},i.a.createElement(f.a.Menu,{className:"left-fix"},E[P.b.PURANO_GHAR].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)}))),E[P.b.TALLA_THAP]&&E[P.b.TALLA_THAP].length>0&&i.a.createElement(f.a,{item:!0,pointing:"left",trigger:i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"building outline",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".header.tallaThap"),V.header.tallaThap))},i.a.createElement(f.a.Menu,null,E[P.b.TALLA_THAP].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)}))),E[P.b.NAMSARI]&&E[P.b.NAMSARI].length>0&&i.a.createElement(f.a,{item:!0,pointing:"left",trigger:i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"exchange",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".header.namsari"),V.header.namsari))},i.a.createElement(f.a.Menu,null,E[P.b.NAMSARI].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)}))),E[P.b.DISCARD]&&E[P.b.DISCARD].length>0&&i.a.createElement(f.a,{item:!0,pointing:"left",trigger:i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"user delete",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".header.discard"),V.header.discard))},i.a.createElement(f.a.Menu,null,E[P.b.DISCARD].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)}))),E[P.b.MYAD]&&E[P.b.MYAD].length>0&&i.a.createElement(f.a,{item:!0,pointing:"left",trigger:i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"add",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".header.myad"),V.header.myad))},i.a.createElement(f.a.Menu,null,E[P.b.MYAD].map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)})))))}),Y=v.a.headfoot_data,Q=function(e){var t=e.userType,a=Object(c.useState)(-1),n=Object(x.a)(a,2),r=n[0],l=n[1],o=Object(u.h)(),s=function(e){e.preventDefault();var t=e.currentTarget.id;o.push("/user/".concat(t))};return i.a.createElement(B.a,{inverted:!0},i.a.createElement(B.a.Title,{active:0===r,index:0,onClick:function(e,t){var a=t.index;l(r===a?-1:a)}},i.a.createElement("span",null,i.a.createElement(d.a,{name:"dropdown"}),i.a.createElement(d.a,{name:"tasks",style:{marginRight:"5px"}}),"Utilities")),i.a.createElement(B.a.Content,{active:0===r},i.a.createElement(B.a.Title,{id:"forms/all-history",onClick:s},i.a.createElement("span",null,i.a.createElement(d.a,{name:"history"}),Object(C.a)("".concat("headfoot.headfoot_data",".history.allHistory"),Y.history.allHistory))),i.a.createElement(B.a.Title,{id:"forms/all-comment",onClick:s},i.a.createElement("span",null,i.a.createElement(d.a,{name:"comment"}),Object(C.a)("".concat("headfoot.headfoot_data",".history.allComments"),Y.history.allComments))),t===k.a.ADMIN&&i.a.createElement(B.a.Title,{id:"forms/activity-log",onClick:s},i.a.createElement("span",null,i.a.createElement(d.a,{name:"list"}),Object(C.a)("".concat("headfoot.headfoot_data",".history.activity-log"),Y.history.activityLog))),i.a.createElement(B.a.Title,{id:"forms/file-upload",onClick:s},i.a.createElement("span",null,i.a.createElement(d.a,{name:"cloud upload"}),Object(C.a)("".concat("headfoot.headfoot_data",".files.upload"),Y.files.upload))),i.a.createElement(B.a.Title,{id:"forms/file-list",onClick:s},i.a.createElement("span",null,i.a.createElement(d.a,{name:"file alternate outline"}),Object(C.a)("".concat("headfoot.headfoot_data",".files.view"),Y.files.view))),i.a.createElement(B.a.Title,{id:"forms/print-all",onClick:s},i.a.createElement("span",null,i.a.createElement(d.a,{name:"print"}),Object(C.a)("".concat("headfoot.headfoot_data",".files.print"),Y.files.print)))))},J=v.a.headfoot_data,W=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleItemClick=function(e){e.preventDefault();var t=e.currentTarget.id;r.props.toggleNavbar(!1),r.props.history.push("/user/".concat(t))},r.handleSetupMenu=function(e){e.preventDefault();var t=e.currentTarget.id;r.props.toggleNavbar(!1),r.props.history.push("/admin/".concat(t))},r.handleFileMenu=function(e){e.preventDefault();var t=e.currentTarget.id;r.props.toggleNavbar(!1),r.props.history.push("/user/forms/".concat(t))},r.setLangModalOpen=function(e){r.setState(function(){return{langModalOpen:e}})},r.handleLogout=function(){r.props.logoutUser(),r.props.history.push("/")},r.state={activeItem:"",username:"",hasPermit:!1,langModalOpen:!1,needsSetupMenu:r.props.userMenu.some(function(e){return"S"===e.menu_type})||!1,userInfo:{designation:"",organization:""}},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=Object(O.m)(),a="",n="",r="";try{a=t.info.userType.designationNepali||t.info.userType.designation,n=t.organization.name,r=t.userName}catch(l){a="",n="",r=""}this.setState(function(){return{hasPermit:!Object(O.s)(Object(O.e)()),username:r,activeItem:Object(_.n)(e.props.location.pathname),userInfo:{designation:a,organization:n}}})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.location.pathname!==e.location.pathname&&this.setState(function(){return{hasPermit:!Object(O.s)(Object(O.e)()),activeItem:Object(_.n)(t.props.location.pathname)}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.activeItem,n=t.hasPermit,r=t.langModalOpen,l=t.username,o=t.userInfo,c=t.needsSetupMenu,u=this.props.userMenu,E="";try{E=JSON.parse(Object(D.a)(S.l)).yearName||"",E=Object(w.c)(E)}catch(y){E=""}var h=Object(O.m)().userType,v=void 0===h?"":h;return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{langModalOpen:r,setLangModalOpen:this.setLangModalOpen}),i.a.createElement(m.a,{inverted:!0,className:"ebpsMain-header fixed"},this.state.hasPermit&&i.a.createElement(m.a.Item,null,i.a.createElement(d.a,{name:"bars",size:"large",onClick:this.props.onToggle})),i.a.createElement(m.a.Item,null,i.a.createElement(p.a,{style:{color:"white"}},i.a.createElement(s.b,{to:"/user/task-list"},i.a.createElement("div",{className:"logo-div"},i.a.createElement("span",{className:"comp-logo"},i.a.createElement("img",{src:g.a,alt:"phoenix-logo"})),i.a.createElement("span",null,o.organization))))),i.a.createElement(m.a.Item,{className:"header-date"},Object(C.a)("".concat("headfoot.headfoot_data",".header.nepaliFY"),J.header.nepaliFY),E," | ",Object(C.a)("".concat("headfoot.headfoot_data",".header.bs"),J.header.bs),Object(j.c)(!0)," | ",Object(C.a)("".concat("headfoot.headfoot_data",".header.ad"),J.header.ad),Object(w.d)(Object(j.b)())),i.a.createElement(m.a.Menu,{position:"right",className:"navbar-toggle"},c&&i.a.createElement(R,{handleSetupMenu:this.handleSetupMenu,userMenu:u}),i.a.createElement(m.a.Item,null,i.a.createElement(d.a,{name:"bars",size:"large",onClick:function(){return e.props.toggleNavbar(!e.props.isNavOpen)}}))),i.a.createElement(m.a.Menu,{position:"right",className:"navbar-items"},i.a.createElement(m.a.Item,{icon:"clipboard outline",name:"Dashboard",id:"task-list",active:"task-list"===a,onClick:this.handleItemClick}),!this.state.hasPermit&&Object(k.i)(v)&&i.a.createElement(q,{handleItemClick:this.handleItemClick,userMenu:u}),i.a.createElement(m.a.Item,{name:"Application",icon:"search",id:"application-list",active:"application-list"===a,onClick:this.handleItemClick}),c&&i.a.createElement(R,{handleSetupMenu:this.handleSetupMenu,userMenu:u}),[k.a.ADMIN,k.a.ENGINEER].includes(v)&&i.a.createElement(m.a.Item,{name:"Report",id:"report",active:"report"===a,onClick:this.handleItemClick}),n&&i.a.createElement(f.a,{compact:!0,item:!0,text:"Utilities",className:"english-div"},i.a.createElement(f.a.Menu,null,i.a.createElement(f.a.Item,{id:"forms/all-history",onClick:this.handleItemClick},i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"history",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".history.allHistory"),J.history.allHistory))),i.a.createElement(f.a.Item,{id:"forms/all-comment",onClick:this.handleItemClick},i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"comment",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".history.allComments"),J.history.allComments))),v===k.a.ADMIN&&i.a.createElement(f.a.Item,{id:"forms/activity-log",onClick:this.handleItemClick},i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"list",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".history.activity-log"),J.history.activityLog))),i.a.createElement(f.a.Item,{id:"file-upload",onClick:this.handleFileMenu},i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"cloud upload",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".files.upload"),J.files.upload))),i.a.createElement(f.a.Item,{id:"file-list",onClick:this.handleFileMenu},i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"file alternate outline",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".files.view"),J.files.view))),i.a.createElement(f.a.Item,{id:"print-all",onClick:this.handleFileMenu},i.a.createElement("span",{color:"black"},i.a.createElement(d.a,{name:"print",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".files.print"),J.files.print))))),i.a.createElement(f.a,{compact:!0,item:!0,trigger:i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{name:"user circle"}),i.a.createElement("div",{className:"profile-menu-div"},i.a.createElement("p",{className:"menu-text"},"".concat(l)),i.a.createElement("p",{className:"profile-menu-post menu-text"},"".concat(Object(O.p)(v))))),className:"english-div no-margin-menu-item"},i.a.createElement(f.a.Menu,null,i.a.createElement(f.a.Item,{id:"profile",onClick:this.handleItemClick},i.a.createElement("span",null,i.a.createElement(d.a,{name:"user",color:"black"}),Object(C.a)("".concat("headfoot.headfoot_data",".profile.profile"),J.profile.profile))),i.a.createElement(f.a.Item,{id:"change-password",onClick:this.handleItemClick},i.a.createElement("span",{color:"black "},i.a.createElement(d.a,{name:"key"}),Object(C.a)("".concat("headfoot.headfoot_data",".profile.changePassword"),J.profile.changePassword))),i.a.createElement(f.a.Item,{icon:"keyboard",text:Object(C.a)("".concat("headfoot.headfoot_data",".profile.keyboardLayout"),J.profile.keyboardLayout),onClick:function(){return e.setLangModalOpen(!0)}}),i.a.createElement(f.a.Item,{icon:"sign-out",text:Object(C.a)("".concat("headfoot.headfoot_data",".profile.logout"),J.profile.logout),onClick:this.handleLogout}))))),i.a.createElement("aside",{className:"drawer-menu"},i.a.createElement("nav",{className:"sidenav",style:{width:this.props.isNavOpen?"150px":"0px"}},i.a.createElement(d.a,{name:"window close outline",size:"big",className:"closebtn",onClick:function(){return e.props.toggleNavbar(!1)}}),i.a.createElement(b.a.Pushable,null,i.a.createElement(b.a,{icon:"labeled",vertical:!0,inverted:!0,visible:this.props.isNavOpen,width:"thin",as:m.a,onHide:function(){return e.props.toggleNavbar(!1)}},i.a.createElement(m.a.Item,null,i.a.createElement(d.a,{name:"user circle",size:"large"}),"".concat(l," - ").concat(o.designation)),i.a.createElement(m.a.Item,{id:"task-list",active:"task-list"===a,onClick:this.handleItemClick},i.a.createElement("span",null,i.a.createElement(d.a,{name:"clipboard outline"}),"Dashboard")),!this.state.hasPermit&&Object(k.i)(v)&&i.a.createElement(q,{handleItemClick:this.handleItemClick,userMenu:u,isSideBar:!0}),i.a.createElement(m.a.Item,{id:"application-list",active:"application-list"===a,onClick:this.handleItemClick},i.a.createElement("span",null,i.a.createElement(d.a,{name:"search"}),"Application")),[k.a.ADMIN,k.a.ENGINEER].includes(v)&&i.a.createElement(m.a.Item,{name:"Report",id:"report",active:"report"===a,onClick:this.handleItemClick}),n&&i.a.createElement(Q,{userType:v}),i.a.createElement(m.a.Item,{id:"profile",active:"profile"===a,onClick:this.handleItemClick},i.a.createElement("span",null,i.a.createElement(d.a,{name:"user"}),Object(C.a)("".concat("headfoot.headfoot_data",".profile.profile"),J.profile.profile))),i.a.createElement(m.a.Item,{id:"change-password",active:"change-password"===a,onClick:this.handleItemClick},i.a.createElement("span",null,i.a.createElement(d.a,{name:"key"}),Object(C.a)("".concat("headfoot.headfoot_data",".profile.changePassword"),J.profile.changePassword))),i.a.createElement(m.a.Item,{onClick:function(){return e.setLangModalOpen(!0)}},i.a.createElement("span",null,i.a.createElement(d.a,{name:"keyboard"}),Object(C.a)("".concat("headfoot.headfoot_data",".profile.keyboardLayout"),J.profile.keyboardLayout))),i.a.createElement(m.a.Item,{onClick:this.handleLogout},i.a.createElement("span",null,i.a.createElement(d.a,{name:"sign-out"}),Object(C.a)("".concat("headfoot.headfoot_data",".profile.logout"),J.profile.logout))))))))}}]),a}(c.PureComponent),K={logoutUser:E.d,toggleNavbar:T.a};t.a=Object(y.b)(function(e){return{login:e.root.login,isNavOpen:e.root.ui.isNavOpen}},K)(Object(u.j)(function(e){return i.a.createElement(W,e)}))}}]);
//# sourceMappingURL=7.a2391979.chunk.js.map