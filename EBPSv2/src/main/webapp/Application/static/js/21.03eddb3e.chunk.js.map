{"version":3,"sources":["components/loggedInComponents/allHistory.tsx"],"names":["history_data","historyComment","hc_data","allHistory","props","_this","Object","_home_irhspur_work_form_builder_projects_pebpmsfrontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_super","call","myGrid","React","createRef","datafield","name","type","columns","text","dataField","cellsalign","align","filtertype","width","state","dataChanged","historyData","userTypeMaster","JSON","parse","getLocalStorage","LSKey","USER_TYPE_ALL","setState","getMultipleFormDataByUrl","api","allhistory","objName","form","data","prevProps","prevState","getUserTypeNepali","userType","userTypeObject","find","uT","designation","getUserTypeValueNepali","prevData","assign","map","row","_home_irhspur_work_form_builder_projects_pebpmsfrontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","status","getUserStatusNepali","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_helmet__WEBPACK_IMPORTED_MODULE_16___default","errors","_shared_ErrorDisplay__WEBPACK_IMPORTED_MODULE_14__","message","semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__","as","dividing","getMessage","concat","hist","_Grid_RootGrid__WEBPACK_IMPORTED_MODULE_15__","localdata","groupable","showfilterrow","_shared_FallbackComponent__WEBPACK_IMPORTED_MODULE_8__","loading","PureComponent","mapDispatchToProps","postFormDataByUrl","connect","root","formData","ui","success"],"mappings":"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","file":"static/js/21.03eddb3e.chunk.js","sourcesContent":["import React from 'react';\nimport { Header } from 'semantic-ui-react';\nimport { getUserTypeValueNepali, getUserStatusNepali } from '../../utils/functionUtils';\nimport FallbackComponent from '../shared/FallbackComponent';\nimport { historyComment } from '../../utils/data/headFootLangFile';\nimport { getMessage } from '../shared/getMessage';\n\n//redux\nimport { connect } from 'react-redux';\nimport { postFormDataByUrl, getMultipleFormDataByUrl } from '../../store/actions/formActions';\nimport api from '../../utils/api';\nimport ErrorDisplay from '../shared/ErrorDisplay';\n// import RootGrid from \"./Grid/RootGrid\";\nimport JqxGrid, { IGridProps } from 'jqwidgets-scripts/jqwidgets-react-tsx/jqxgrid';\nimport RootGrid from './Grid/RootGrid';\nimport Helmet from 'react-helmet';\nimport { getLocalStorage } from '../../utils/secureLS';\nimport { LSKey } from '../../utils/enums/localStorageKeys';\nimport { UserTypeMaster, UserType } from '../../utils/userTypeUtils';\n\nconst history_data = historyComment.hc_data;\nconst messageId = 'historyComment.hc_data';\n\ninterface HistoryState {\n\tdataChanged: boolean;\n\thistoryData: object;\n\tuserTypeMaster: UserTypeMaster[];\n}\n\nclass allHistory extends React.PureComponent<{}, IGridProps & HistoryState> {\n\tconstructor(props: {}) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdataChanged: false,\n\t\t\thistoryData: [],\n\t\t\tuserTypeMaster: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst userTypeMaster = JSON.parse(getLocalStorage(LSKey.USER_TYPE_ALL));\n\t\tthis.setState({ userTypeMaster });\n\t\t//@ts-ignore\n\t\tthis.props.getMultipleFormDataByUrl([{ api: api.allhistory, objName: 'allHistory', form: true }], (data) => data);\n\t}\n\n\t//@ts-ignore\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst { userTypeMaster } = this.state;\n\n\t\tconst getUserTypeNepali = (userType: UserType) => {\n\t\t\tconst userTypeObject = userTypeMaster.find((uT) => uT.userType === userType);\n\t\t\tif (userTypeObject) {\n\t\t\t\treturn userTypeObject.designation;\n\t\t\t} else {\n\t\t\t\tgetUserTypeValueNepali(userType);\n\t\t\t}\n\t\t};\n\n\t\t//@ts-ignore\n\t\tif (this.props.prevData !== prevProps.prevData) {\n\t\t\tthis.setState({\n\t\t\t\thistoryData: Object.assign(\n\t\t\t\t\t[],\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\tthis.props.prevData.map((row) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...row,\n\t\t\t\t\t\t\tstatus: getUserStatusNepali(row.status),\n\t\t\t\t\t\t\tuserType: getUserTypeNepali(row.userType),\n\t\t\t\t\t\t};\n\t\t\t\t\t})\n\t\t\t\t),\n\t\t\t});\n\t\t}\n\t}\n\n\t//@ts-ignore\n\tprivate myGrid = React.createRef<JqxGrid>();\n\n\tdatafield = [\n\t\t{ name: 'name', type: 'string' },\n\t\t{ name: 'actionDate', type: 'string' },\n\t\t{ name: 'actionTime', type: 'string' },\n\t\t{ name: 'status', type: 'string' },\n\t\t{ name: 'userType', type: 'string' },\n\t\t{ name: 'enterBy', type: 'string' },\n\t];\n\n\tcolumns = [\n\t\t{\n\t\t\ttext: 'फारम नाम',\n\t\t\tdataField: 'name',\n\t\t\t// width: '350',\n\t\t\tcellsalign: 'center',\n\t\t\talign: 'center',\n\t\t\tfiltertype: 'list',\n\t\t},\n\t\t{\n\t\t\ttext: 'मिति',\n\t\t\tdatafield: 'actionDate',\n\t\t\twidth: '100',\n\t\t\tcellsalign: 'center',\n\t\t\talign: 'center',\n\t\t},\n\t\t{\n\t\t\ttext: 'समय',\n\t\t\tdatafield: 'actionTime',\n\t\t\twidth: '90',\n\t\t\tcellsalign: 'center',\n\t\t\talign: 'center',\n\t\t},\n\t\t{\n\t\t\ttext: 'स्थिति',\n\t\t\tdatafield: 'status',\n\t\t\tcellsalign: 'center',\n\t\t\talign: 'center',\n\t\t\twidth: '150',\n\t\t\tfiltertype: 'list',\n\t\t},\n\t\t{\n\t\t\ttext: 'प्रयोगकर्ताको प्रकार',\n\t\t\tdatafield: 'userType',\n\t\t\twidth: '130',\n\t\t\tcellsalign: 'center',\n\t\t\talign: 'center',\n\t\t\tfiltertype: 'list',\n\t\t},\n\t\t{\n\t\t\ttext: 'प्रयोगकर्ताको नाम',\n\t\t\tdatafield: 'enterBy',\n\t\t\twidth: '180',\n\t\t\tcellsalign: 'center',\n\t\t\talign: 'center',\n\t\t},\n\n\t\t// {\n\t\t//   text: getMessage(`${messageId}.date`, history_data.date),\n\t\t//   datafield: 'actionDate'\n\t\t// },\n\t\t// {\n\t\t//   text: getMessage(`${messageId}.time`, history_data.time),\n\t\t//   datafield: 'actionTime'\n\t\t// },\n\t\t// {\n\t\t//   text: getMessage(`${messageId}.status`, history_data.status),\n\t\t//   datafield: 'status'\n\t\t// },\n\t\t// {\n\t\t//   text: getMessage(`${messageId}.user`, history_data.user),\n\t\t//   datafield: 'userType'\n\t\t// }\n\t];\n\n\trender() {\n\t\t//@ts-ignore\n\t\tif (this.props.prevData) {\n\t\t\t//@ts-ignore\n\n\t\t\treturn (\n\t\t\t\t<div className=\"view-Form\">\n\t\t\t\t\t<Helmet>\n\t\t\t\t\t\t<title>All History</title>\n\t\t\t\t\t</Helmet>\n\t\t\t\t\t{/* \n          //@ts-ignore */}\n\t\t\t\t\t{this.props.errors && (\n\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t<ErrorDisplay message={this.props.errors.message} />\n\t\t\t\t\t)}\n\t\t\t\t\t<Header as=\"h3\" dividing>\n\t\t\t\t\t\t{getMessage(`${messageId}.hist`, history_data.hist)}\n\t\t\t\t\t</Header>\n\t\t\t\t\t{/* \n          //@ts-ignore */}\n\t\t\t\t\t<RootGrid\n\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\tlocaldata={this.state.historyData}\n\t\t\t\t\t\tdatafield={this.datafield}\n\t\t\t\t\t\tcolumns={this.columns}\n\t\t\t\t\t\tgroupable={false}\n\t\t\t\t\t\tshowfilterrow={true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<FallbackComponent\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\tloading={this.props.loading}\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\terrors={this.props.errors}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n}\n\n//@ts-ignore\nconst mapStateToProps = (state) => ({\n\tprevData: state.root.formData.allHistory,\n\tloading: state.root.ui.loading,\n\terrors: state.root.ui.errors,\n\tsuccess: state.root.formData.success,\n});\nconst mapDispatchToProps = { getMultipleFormDataByUrl, postFormDataByUrl };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(allHistory);\n"],"sourceRoot":""}