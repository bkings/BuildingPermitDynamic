{"version":3,"sources":["components/loggedInComponents/forms/SansodhanKoTippaniAdesh.js","utils/data/SansodhanKoTippaniAdeshData.js"],"names":["sk","heading","head1","head2","subhead1","subhead2","faxno","faxname","faxn1","faxn2","faxn3","faxn4","faxn5","tip","topic","schema","Yup","shape","uploadFile","validateFileOptional","SansodhanKoTippaniComponent","props","_this","Object","classCallCheck","this","_super","call","jsonData","JSON","parse","prevData","_unused","initialValues","prepareInitialValue","obj","reqFields","fileCatId","getFileCatId","otherData","fileCategories","parentProps","location","pathname","state","_this2","_this$props","hasSavePermission","formUrl","hasDeletePermission","isSaveDisabled","_this$state","user_info","userData","react_default","a","createElement","Fragment","formik_esm","validationSchema","onSubmit","_ref2","asyncToGenerator","regenerator_default","mark","_callee","values","_ref","setSubmitting","data","selectedFile","isFileSelected","x","wrap","_context","prev","next","applicationNo","permitData","applicantNo","FormData","length","append","postAction","api","sansodhankoTippaniAdesh","fileUpload","window","scroll","success","handleSuccess","checkError","t0","console","log","stop","_x","_x2","apply","arguments","render","_ref3","isSubmitting","handleSubmit","setFieldValue","errors","validateForm","Form","loading","ErrorDisplay","message","ref","setRef","className","LetterHead","userInfo","Headers","Header","as","Divider","horizontal","EbpsForm","placeholder","name","value","nibedhan","SaveButtonValidation","Component","SansodhanKoTippaniAdesh","FormContainerV2","objName","form","utility","onBeforeGetContent","param1","param2","prepareData","useInnerRef","hasFile","SansodhanKoTippaniAdesh_SansodhanKoTippaniComponent","assign"],"mappings":"oTAkBMA,ECjBc,CACZC,QAAQ,CACJC,MAAM,kFACNC,MAAM,qJACNC,SAAS,mFACTC,SAAS,0EAEbC,MAAM,CACFC,QAAQ,+CACRC,MAAM,0DACNC,MAAM,0DACNC,MAAM,0DACNC,MAAM,0DACNC,MAAM,2DAEVC,IAAK,wEACLC,MAAM,wHDGRC,EAASC,WAAaC,MAAM,CACjCC,WAAYC,MAGPC,oDACL,SAAAA,EAAYC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GAClBE,EAAAI,EAAAC,KAAAF,KAAMJ,GACN,IAAIO,EAAW,GACf,IACCA,EAAWC,KAAKC,MAAMR,EAAKD,MAAMU,SAASH,UACzC,MAAAI,GACDJ,EAAW,GAEZ,IAAMK,EAAgBC,YAAoB,CACzCC,IAAKP,EACLQ,UAAW,KAEJC,EAAcC,YAAahB,EAAKD,MAAMkB,UAAUC,eAAgBlB,EAAKD,MAAMoB,YAAYC,SAASC,UAAhGN,UAZU,OAalBf,EAAKsB,MAAQ,CACZX,gBACAI,aAfiBf,uDAkBV,IAAAuB,EAAApB,KAAAqB,EAC8ErB,KAAKJ,MAAnFU,EADAe,EACAf,SAAUgB,EADVD,EACUC,kBAAmBC,EAD7BF,EAC6BE,QAASC,EADtCH,EACsCG,oBAAqBC,EAD3DJ,EAC2DI,eAD3DC,EAE6B1B,KAAKmB,MAAlCX,EAFAkB,EAEAlB,cAAeI,EAFfc,EAEed,UACjBe,EAAY3B,KAAKJ,MAAMgC,SAC7B,OACCC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACCH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCzB,cAAeA,EACf0B,iBAAkB5C,EAClB6C,SAAQ,eAAAC,EAAAtC,OAAAuC,EAAA,EAAAvC,CAAAwC,EAAAR,EAAAS,KAAE,SAAAC,EAAOC,EAAPC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAAR,EAAAkB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAOT,GAP0BR,EAAjBD,EAAiBC,cAC1BF,EAAOW,cAAgBhC,EAAKxB,MAAMyD,WAAWC,YACvCV,EAAO,IAAIW,SAEXV,EAAeJ,EAAOhD,WAExBqD,GAAiB,EACjBD,EAAc,CACjB,IAASE,EAAI,EAAGA,EAAIF,EAAaW,OAAQT,IACxCH,EAAKa,OAAO,OAAQZ,EAAaE,IAElCH,EAAKa,OAAO,WAAY7C,GACxBgC,EAAKa,OAAO,gBAAiBrC,EAAKxB,MAAMyD,WAAWC,aACnDR,GAAiB,EACjBL,EAAOhD,mBAAqBgD,EAAOhD,WAd3B,OAAAwD,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAkBF/B,EAAKxB,MAAM8D,WAAWC,IAAIC,wBAAyBnB,EAAQkB,IAAIE,WAAYjB,EAAME,GAlB/E,OAoBRgB,OAAOC,OAAO,EAAG,GAEb3C,EAAKxB,MAAMoE,SAAW5C,EAAKxB,MAAMoE,QAAQA,UAU5CC,YAAcC,YAAW5D,GAAWc,EAAKxB,MAAMoB,YAAaI,EAAKxB,MAAMoE,SACvErB,GAAc,IAEfA,GAAc,GAnCNM,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAkB,GAAAlB,EAAA,SAqCRN,GAAc,GACdyB,QAAQC,IAAI,QAAZpB,EAAAkB,IAtCQ,yBAAAlB,EAAAqB,SAAA9B,EAAA,kBAAF,gBAAA+B,EAAAC,GAAA,OAAApC,EAAAqC,MAAAzE,KAAA0E,YAAA,GAyCRC,OAAQ,SAAAC,GAAA,IAAGnC,EAAHmC,EAAGnC,OAAQoC,EAAXD,EAAWC,aAAcC,EAAzBF,EAAyBE,aAAcC,EAAvCH,EAAuCG,cAAeC,EAAtDJ,EAAsDI,OAAQC,EAA9DL,EAA8DK,aAA9D,OACPpD,EAAAC,EAAAC,cAACmD,EAAA,EAAD,CACCC,QAASN,GAGRzD,EAAKxB,MAAMoF,QAAUnD,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAcC,QAASjE,EAAKxB,MAAMoF,OAAOK,UAC/DxD,EAAAC,EAAAC,cAAA,OAAKuD,IAAKlE,EAAKxB,MAAM2F,QACpB1D,EAAAC,EAAAC,cAAA,OAAKyD,UAAU,6BACd3D,EAAAC,EAAAC,cAAA,OAAKyD,UAAU,sBACd3D,EAAAC,EAAAC,cAAC0D,EAAA,EAAD,CAAgBC,SAAU/D,KAG3BE,EAAAC,EAAAC,cAAC4D,EAAA,EAAD,KACC9D,EAAAC,EAAAC,cAAA,MAAIyD,UAAU,yBAAyBjH,EAAGa,MAG3CyC,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,CAAQC,GAAG,MACVhE,EAAAC,EAAAC,cAAC+D,EAAA,EAAD,CAASC,YAAU,GAAExH,EAAGc,QAEzBwC,EAAAC,EAAAC,cAAA,SACCF,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAcC,YAAY,uCAASC,KAAK,WAAWnB,cAAeA,EAAeoB,MAAO1D,EAAO2D,cAIlGvE,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CACCrB,OAAQA,EACRC,aAAcA,EACd1D,QAASA,EACTD,kBAAmBA,EACnBE,oBAAqBA,EACrBC,eAAgBA,EAChBnB,SAAU4D,YAAW5D,GACrBwE,aAAcA,gBArGoBwB,aA0I3BC,UA3BiB,SAACvF,GAAD,OAC/Ba,EAAAC,EAAAC,cAACyE,EAAA,EAAD,CACC7C,IAAK,CACJ,CACCA,IAAKA,IAAIC,wBACT6C,QAAS,0BACTC,MAAM,GAEP,CACC/C,IAAKA,IAAI5C,eACT0F,QAAS,iBACTC,MAAM,EACNC,SAAS,IAGXC,mBAAoB,CACnBC,OAAQ,CAAC,uBAAwB,WAAY,SAC7CC,OAAQ,CAAC,yBAA0B,WAAY,UAEhDC,YAAa,SAACnE,GAAD,OAAUA,GACvB5B,YAAaA,EACbgG,aAAa,EACbC,SAAS,EACTtC,OAAQ,SAAC/E,GAAD,OAAWiC,EAAAC,EAAAC,cAACmF,EAADpH,OAAAqH,OAAA,GAAiCvH,EAAjC,CAAwCoB,YAAaA","file":"static/js/29.766ea8df.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Header, Form, Divider } from 'semantic-ui-react';\nimport { Formik } from 'formik';\nimport { SansodhanKoTippaniAdeshStructure } from '../../../utils/data/SansodhanKoTippaniAdeshData';\nimport api from '../../../utils/api';\nimport { getFileCatId } from '../../../utils/functionUtils';\nimport { prepareInitialValue, handleSuccess, checkError } from '../../../utils/dataUtils';\nimport ErrorDisplay from '../../shared/ErrorDisplay';\n\nimport * as Yup from 'yup';\nimport { EbpsTextArea } from '../../shared/EbpsForm';\n\nimport { validateFileOptional } from '../../../utils/validationUtils';\nimport { LetterHeadFlex } from '../../shared/LetterHead';\nimport FormContainerV2 from '../../../containers/base/FormContainerV2';\nimport SaveButtonValidation from '../../shared/SaveButtonValidation';\nimport { SectionHeader } from '../../uiComponents/Headers';\n\nconst sk = SansodhanKoTippaniAdeshStructure.StructureDesign;\n\nconst schema = Yup.object().shape({\n\tuploadFile: validateFileOptional,\n});\n\nclass SansodhanKoTippaniComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet jsonData = {};\n\t\ttry {\n\t\t\tjsonData = JSON.parse(this.props.prevData.jsonData);\n\t\t} catch {\n\t\t\tjsonData = {};\n\t\t}\n\t\tconst initialValues = prepareInitialValue({\n\t\t\tobj: jsonData,\n\t\t\treqFields: [],\n\t\t});\n\t\tconst { fileCatId } = getFileCatId(this.props.otherData.fileCategories, this.props.parentProps.location.pathname);\n\t\tthis.state = {\n\t\t\tinitialValues,\n\t\t\tfileCatId,\n\t\t};\n\t}\n\trender() {\n\t\tconst { prevData, hasSavePermission, formUrl, hasDeletePermission, isSaveDisabled } = this.props;\n\t\tconst { initialValues, fileCatId } = this.state;\n\t\tconst user_info = this.props.userData;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={initialValues}\n\t\t\t\t\tvalidationSchema={schema}\n\t\t\t\t\tonSubmit={async (values, { setSubmitting }) => {\n\t\t\t\t\t\tvalues.applicationNo = this.props.permitData.applicantNo;\n\t\t\t\t\t\tconst data = new FormData();\n\n\t\t\t\t\t\tconst selectedFile = values.uploadFile;\n\n\t\t\t\t\t\tlet isFileSelected = false;\n\t\t\t\t\t\tif (selectedFile) {\n\t\t\t\t\t\t\tfor (var x = 0; x < selectedFile.length; x++) {\n\t\t\t\t\t\t\t\tdata.append('file', selectedFile[x]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdata.append('fileType', fileCatId);\n\t\t\t\t\t\t\tdata.append('applicationNo', this.props.permitData.applicantNo);\n\t\t\t\t\t\t\tisFileSelected = true;\n\t\t\t\t\t\t\tvalues.uploadFile && delete values.uploadFile;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.props.postAction(api.sansodhankoTippaniAdesh, values, api.fileUpload, data, isFileSelected);\n\n\t\t\t\t\t\t\twindow.scroll(0, 0);\n\n\t\t\t\t\t\t\tif (this.props.success && this.props.success.success) {\n\t\t\t\t\t\t\t\t// showToast(\n\t\t\t\t\t\t\t\t//   this.props.success.data.message || 'Data saved successfully'\n\t\t\t\t\t\t\t\t// );\n\n\t\t\t\t\t\t\t\t// setTimeout(() => {\n\t\t\t\t\t\t\t\t//   this.props.parentProps.history.push(\n\t\t\t\t\t\t\t\t//     getNextUrl(this.props.parentProps.location.pathname)\n\t\t\t\t\t\t\t\t//   );\n\t\t\t\t\t\t\t\t// }, 2000);\n\t\t\t\t\t\t\t\thandleSuccess(checkError(prevData), this.props.parentProps, this.props.success);\n\t\t\t\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t\t\t\tconsole.log('Error', err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\trender={({ values, isSubmitting, handleSubmit, setFieldValue, errors, validateForm }) => (\n\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t// className='NJ-right'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.props.errors && <ErrorDisplay message={this.props.errors.message} />}\n\t\t\t\t\t\t\t<div ref={this.props.setRef}>\n\t\t\t\t\t\t\t\t<div className=\"NJ-Main superStruConsView\">\n\t\t\t\t\t\t\t\t\t<div className=\"tipandi-letterHead\">\n\t\t\t\t\t\t\t\t\t\t<LetterHeadFlex userInfo={user_info} />\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SectionHeader>\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"underline end-section\">{sk.tip}</h2>\n\t\t\t\t\t\t\t\t\t</SectionHeader>\n\n\t\t\t\t\t\t\t\t\t<Header as=\"h3\">\n\t\t\t\t\t\t\t\t\t\t<Divider horizontal>{sk.topic}</Divider>\n\t\t\t\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<EbpsTextArea placeholder=\"निवेदन\" name=\"nibedhan\" setFieldValue={setFieldValue} value={values.nibedhan} />\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<SaveButtonValidation\n\t\t\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\t\t\tvalidateForm={validateForm}\n\t\t\t\t\t\t\t\tformUrl={formUrl}\n\t\t\t\t\t\t\t\thasSavePermission={hasSavePermission}\n\t\t\t\t\t\t\t\thasDeletePermission={hasDeletePermission}\n\t\t\t\t\t\t\t\tisSaveDisabled={isSaveDisabled}\n\t\t\t\t\t\t\t\tprevData={checkError(prevData)}\n\t\t\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nconst SansodhanKoTippaniAdesh = (parentProps) => (\n\t<FormContainerV2\n\t\tapi={[\n\t\t\t{\n\t\t\t\tapi: api.sansodhankoTippaniAdesh,\n\t\t\t\tobjName: 'sansodhankoTippaniAdesh',\n\t\t\t\tform: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tapi: api.fileCategories,\n\t\t\t\tobjName: 'fileCategories',\n\t\t\t\tform: false,\n\t\t\t\tutility: true,\n\t\t\t},\n\t\t]}\n\t\tonBeforeGetContent={{\n\t\t\tparam1: ['getElementsByTagName', 'textarea', 'value'],\n\t\t\tparam2: ['getElementsByClassName', 'ui input', 'value'],\n\t\t}}\n\t\tprepareData={(data) => data}\n\t\tparentProps={parentProps}\n\t\tuseInnerRef={true}\n\t\thasFile={true}\n\t\trender={(props) => <SansodhanKoTippaniComponent {...props} parentProps={parentProps} />}\n\t/>\n);\n\nexport default SansodhanKoTippaniAdesh;\n","export const SansodhanKoTippaniAdeshStructure={\n    StructureDesign:{\n        heading:{\n            head1:'मेची नगरपालिका',\n            head2:'नगर कार्यपालिकाको कार्यालय',\n            subhead1:'इँटाभट्टा, झापा',\n            subhead2:'१ न. पदेश नेपाल',\n        },\n        faxno:{\n            faxname:'फ्याक्स :',\n            faxn1:'०२३-५६२२१३',\n            faxn2:'०२३-५६२२१२',\n            faxn3:'०२३-५६२४३७',\n            faxn4:'०२३-५६२२३३',\n            faxn5:'०२३-५६२०७७',\n        },\n        tip: 'टिप्पणी / आदेश',\n        topic:'संसोधनको टिप्पणी आदेश'\n    }\n\n}"],"sourceRoot":""}