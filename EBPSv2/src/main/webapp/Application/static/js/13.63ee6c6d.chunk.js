(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{647:function(e,t,a){"use strict";var n=a(36),i=a(37),l=a(41),r=a(40),c=a(0),o=a(46),s=a(635),u=a(242),p=a(114),m=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).tableRef=c.createRef(),i.renderButton=function(e,t){o.render(c.createElement(p.a,{title:i.props.buttonProps.title,onClick:function(){return i.props.handleButtonClick(e)},size:"tiny",className:i.props.buttonProps.class},c.createElement("i",{"aria-hidden":"true",className:i.props.buttonProps.icon})),t)},i.actionColumns=[{text:"Actions",cellsalign:"center",align:"center",createwidget:function(e,t,a,n){i.renderButton(e.boundindex,n)},initwidget:function(e,t,a,n){i.renderButton(e,n)},width:i.props.actionWidth,pinned:"true"}].concat(i.props.columns),i.state={id:"",pageable:!0,groupable:!0,showfilterrow:!0},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.datafield,n=e.needsAction,i=void 0===n||n;return t?c.createElement(c.Fragment,null,c.createElement("div",{className:"mapRegistration-dataTableList"},c.createElement(s.a,{localdata:t,datafield:a,columns:i?this.actionColumns:this.props.columns,groups:!1,rowsheight:50,pageable:this.state.pageable,showfilterrow:this.state.showfilterrow,onRowselect:!1}))):c.createElement(u.b,{errors:this.props.errors,loading:this.props.loading})}}]),a}(c.PureComponent);t.a=m},677:function(e,t,a){"use strict";var n=a(0),i=a.n(n),l=a(594),r=a(348),c=a(795),o=a(218),s=a(659),u=a(63),p=a(78),m=a(100),d=s.b;t.a=function(e){var t=e.appInfo;return i.a.createElement(l.a,null,i.a.createElement(r.a,null,d.applicationInfo),i.a.createElement(c.a,{className:"app-info"},i.a.createElement(o.a,null,i.a.createElement(o.a.Row,{columns:"3"},i.a.createElement(o.a.Column,null,i.a.createElement(c.a.Item,null,i.a.createElement(c.a.Header,null,t.applicantNo),i.a.createElement(c.a.Description,null,d.applicationId))),i.a.createElement(o.a.Column,null,i.a.createElement(c.a.Item,null,i.a.createElement(c.a.Header,null,t.applicantName),i.a.createElement(c.a.Description,null,d.applicantName))),i.a.createElement(o.a.Column,null,i.a.createElement(c.a.Item,null,i.a.createElement(c.a.Header,null,t.nibedakName),i.a.createElement(c.a.Description,null,d.nibedakName)))),i.a.createElement(o.a.Row,{columns:"3"},i.a.createElement(o.a.Column,null,i.a.createElement(c.a.Item,null,i.a.createElement(c.a.Header,null,t.applicantMobileNo),i.a.createElement(c.a.Description,null,d.applicantMobileNo))),i.a.createElement(o.a.Column,null,i.a.createElement(c.a.Item,null,i.a.createElement(c.a.Header,null,Object(u.e)(t.applicantDate)),i.a.createElement(c.a.Description,null,d.applicantDate))),i.a.createElement(o.a.Column,null,i.a.createElement(c.a.Item,null,i.a.createElement(c.a.Header,null,Object(p.r)(t.constructionType,m.t)),i.a.createElement(c.a.Description,null,d.constructionType)))))))}},771:function(e,t,a){"use strict";var n=a(36),i=a(37),l=a(244),r=a(41),c=a(40),o=a(0),s=a(635),u=a(242),p=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).tableRef=o.createRef(),i.buttonrenderer=function(e,t,a,n,l,r){return i.props.generateButtonRenderer(e)},i.actionColumns=[{text:"Actions",cellsalign:"center",align:"center",cellsrenderer:i.buttonrenderer,width:i.props.actionWidth,pinned:"true"}].concat(i.props.columns),i.state={id:"",pageable:!0,groupable:!0,showfilterrow:!0},i.buttonrenderer=i.buttonrenderer.bind(Object(l.a)(i)),i}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.datafield,n=e.needsAction,i=void 0===n||n;return t?o.createElement(o.Fragment,null,o.createElement("div",{className:"mapRegistration-dataTableList"},o.createElement(s.a,{localdata:t,datafield:a,columns:i?this.actionColumns:this.props.columns,groups:!1,rowsheight:50,pageable:this.state.pageable,showfilterrow:this.state.showfilterrow,onRowselect:!1}))):o.createElement(u.b,{errors:this.props.errors,loading:this.props.loading})}}]),a}(o.PureComponent);t.a=p},989:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(79),l=a(0),r=a.n(l),c=a(180),o=a(617),s=a(828),u=a(599),p=a(114),m=a(781),d=a(348),b=a(129),g=a(240),f=a(130),E=a(602),h=a(611),y=a(13),N=a(24),j=a(620),v=a(631),O=a(100),w=a(639),S=a(640),T={applicationId:"\u0936\u093e\u0916\u093e \u0926\u0930\u094d\u0924\u093e \u0928\u0902.",applicantName:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0928\u093e\u092e",applicantAddress:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0920\u0947\u0917\u093e\u0928\u093e",nibedakName:"\u0928\u093f\u0935\u0947\u0926\u0915\u0915\u094b \u0928\u093e\u092e",applicantMobileNo:"\u0938\u092e\u094d\u092a\u0930\u094d\u0915 \u092b\u094b\u0928",applicantDate:"\u0926\u0930\u094d\u0924\u093e \u092e\u093f\u0924\u0940",constructionType:"\u092d\u0935\u0928\u0915\u094b \u0915\u093f\u0938\u093f\u092e",applicationStatus:"\u092a\u0942\u0930\u094d\u0923 \u0905\u0935\u0938\u094d\u0925\u093e",forwardTo:"\u0924\u0939 \u0938\u094d\u0925\u093f\u0924\u093f",yourStatus:"\u0905\u0935\u0938\u094d\u0925\u093e",wardNo:"\u0935\u0921\u093e",kittaNo:"\u0915\u093f\u0924\u094d\u0924\u093e \u0928\u0902",year:"\u0906\u0930\u094d\u0925\u093f\u0915 \u092c\u0930\u094d\u0937"},F={title:"\u0924\u0932\u093e \u0925\u092a \u0938\u094d\u0935\u0940\u0915\u0943\u0924\u093f",assignDesigner:"\u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d",storeyHistory:"\u0924\u0932\u093e \u0925\u092a History"},x={title:"\u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d",content:"\u0915\u0947 \u0924\u092a\u093e\u0908\u0902 \u092f\u0938 \u092b\u093e\u0908\u0932\u0915\u094b \u0932\u093e\u0917\u093f \u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u091b\u093e\u0928\u094d\u0928 \u091a\u093e\u0939\u093e\u0928\u0941\u0939\u0941\u0928\u094d\u091b?",saveText:"\u0939\u0941\u0928\u094d\u091b",confirmChange:"\u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d",historyNoData:"\u0915\u0941\u0928\u0948 \u092a\u0928\u093f \u092b\u093e\u0908\u0932 \u0921\u093f\u091c\u093e\u0907\u0928\u0930\u0932\u093e\u0908 \u0924\u094b\u0915\u093f\u090f\u0915\u094b \u091b\u0948\u0928",cancelText:"\u0930\u0926\u094d\u0926 \u0917\u0930\u094d\u0928\u0941\u0939\u094b\u0938\u094d",selectDesigner:"\u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d ",selectFile:"\u092b\u093e\u0908\u0932 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d"},k=[{text:"\u0936\u093e\u0916\u093e \u0926\u0930\u094d\u0924\u093e \u0928\u0902.",dataField:"applicantNo",cellsalign:"center",align:"center",width:S.a.APPLICATION_NO,pinned:"true"},{text:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0928\u093e\u092e",dataField:"applicantName",cellsalign:"center",align:"center",pinned:"true"},{text:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0920\u0947\u0917\u093e\u0928\u093e",dataField:"applicantAddress",cellsalign:"center",align:"center",width:"200"},{text:"\u0928\u093f\u0935\u0947\u0926\u0915\u0915\u094b \u0928\u093e\u092e",dataField:"nibedakName",cellsalign:"center",align:"center"},{text:"\u0938\u092e\u094d\u092a\u0930\u094d\u0915 \u092b\u094b\u0928.",dataField:"applicantMobileNo",cellsalign:"center",align:"center"},{text:"\u0926\u0930\u094d\u0924\u093e \u092e\u093f\u0924\u093f",dataField:"applicantDate",cellsalign:"center",align:"center",width:"100"}],A=[{name:"applicantNo",type:"string"},{name:"applicantName",type:"string"},{name:"applicantAddress",type:"string"},{name:"nibedakName",type:"string"},{name:"yourStatus",type:"string"},{name:"applicantDate",type:"string"},{name:"applicantMobileNo",type:"string"}],C=[{text:"\u0936\u093e\u0916\u093e \u0926\u0930\u094d\u0924\u093e \u0928\u0902.",dataField:"applicantNo",cellsalign:"center",align:"center",width:"130",pinned:"true"},{text:"\u091c\u0917\u094d\u0917\u093e\u0927\u0928\u0940\u0915\u094b \u0928\u093e\u092e",dataField:"applicantName",cellsalign:"center",align:"center",width:"200",pinned:"true"},{text:"Assigned By",dataField:"talaThapAssignBy",cellsalign:"center",align:"center",width:"200"},{text:"Assigned On",dataField:"talaThapAssignDate",cellsalign:"center",align:"center",width:"200"},{text:"Assigned To",dataField:"designer",cellsalign:"center",align:"center",width:"200"},{text:"Status",dataField:"talathapAssign",cellsalign:"center",align:"center"}],D=[{name:"applicantNo",type:"string"},{name:"applicantName",type:"string"},{name:"talaThapAssignBy",type:"string"},{name:"talaThapAssignDate",type:"string"},{name:"designer",type:"string"},{name:"talathapAssign",type:"string"}],I=a(608),L=a(641),P=a.n(L),R=a(45),B=a(771),H=a(642),M=function(e){var t=e.historyList,a=Object(l.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1],s=Object(l.useState)(!1),u=Object(i.a)(s,2),p=u[0],m=u[1],d=Object(l.useState)(!1),b=Object(i.a)(d,2),g=b[0],f=b[1];Object(H.a)(g,[2]),Object(l.useEffect)(function(){var e=document.querySelectorAll(".view-file");return e.length>0&&Array.from(e).forEach(function(e){var a=e.dataset.row,n=t[a];e.addEventListener("click",function(){return E(n)})}),function(){var e=document.querySelectorAll(".view-file");e.length>0&&Array.from(e).forEach(function(e){var a=e.dataset.row,n=t[a];e.removeEventListener("click",function(){return E(n)})})}},[t,g]);var E=function(e){o(e.talathapDocument),m(!0)};return r.a.createElement("div",null,r.a.createElement("h4",null,F.storeyHistory),r.a.createElement(P.a,{visible:p,onClose:function(){return m(!1)},images:[{src:"".concat(Object(R.c)()).concat(c)}],activeIndex:0,zIndex:1e4}),r.a.createElement(B.a,{data:t,columns:C,datafield:D,generateButtonRenderer:function(e){return f(!g),'<button title="View File" class="ui primary-table-single-btn tiny icon button view-file" data-row='+e+'><i aria-hidden="true" class="eye icon"></i></button>'},actionWidth:100}))},q=a(677),z=a(241),G=a.n(z),V=a(647);a.d(t,"TallaThapSetupComponent",function(){return Z}),a.d(t,"TallaThapSetup",function(){return _}),a.d(t,"default",function(){return _});var W=f.object().shape({designer:E.C,file:E.e}),U=T,Y=x,J={nibedakName:"",constructionType:"",year:"",applicationNo:""},Z=function(e){var t=e.getAfterUpdateAdminData,a=e.postAdminDataByUrl,o=e.errors,f=e.success,E=e.loading,S=e.adminData,T=Object(l.useState)(),x=Object(i.a)(T,2),C=x[0],D=x[1],L=Object(l.useState)({}),P=Object(i.a)(L,2),R=P[0],B=P[1],z=Object(l.useState)([]),Z=Object(i.a)(z,2),_=Z[0],K=Z[1],Q=Object(l.useState)(!1),X=Object(i.a)(Q,2),$=X[0],ee=X[1],te=Object(l.useState)([]),ae=Object(i.a)(te,2),ne=ae[0],ie=ae[1],le=Object(l.useState)(!1),re=Object(i.a)(le,2),ce=re[0],oe=re[1],se=Object(l.useState)(!1),ue=Object(i.a)(se,1)[0],pe=Object(w.b)(S.fiscalYear,"yearCode",!0),me=pe.fy,de=pe.fyOption;Object(H.a)(ue),Object(l.useEffect)(function(){f&&f.success&&(Object(N.z)("Data saved successfully"),ee(!1),oe(!1),B({}),K([]),t([{api:"".concat(c.a.completedPermitList,"?applicationNo=&nibedakName=&constructionType=&year="),objName:"applicationList"}]))},[f,t]),Object(l.useEffect)(function(){S.applicationList&&K(S.applicationList)},[S.applicationList]),Object(l.useEffect)(function(){S.historyList&&ie(S.historyList)},[S.historyList]),Object(l.useEffect)(function(){S.designers&&D(S.designers.filter(function(e){return e.userType&&e.userType.id===y.a.DESIGNER}).map(function(e){return{value:e.loginId,text:"".concat(e.userName," - ").concat(e.email)}}))},[S.designers]);var be=function(e){var t=_[e];ge(t)},ge=function(e){B(e),ee(!0)},fe=function(){oe(!0)},Ee=function(){B({}),oe(!1),ee(!1)},he=[{menuItem:"\u0921\u093f\u091c\u093e\u0907\u0928\u0930 \u091b\u093e\u0928\u094d\u0928\u0941\u0939\u094b\u0938\u094d",render:function(){return r.a.createElement(s.a.Pane,{className:"simple-tab-pane"},r.a.createElement(G.a,{title:F.title}),r.a.createElement(b.d,{key:"get-app-info",initialValues:Object(n.a)(Object(n.a)({},J),{},{year:me}),onSubmit:function(e,a){a.setSubmitting(!0);try{K([]),t([{api:"".concat(c.a.completedPermitList,"?applicationNo=").concat(e.applicationNo,"&nibedakName=").concat(e.nibedakName,"&constructionType=").concat(e.constructionType,"&year=").concat(e.year),objName:"applicationList"}]),a.setSubmitting(!1)}catch(n){a.setSubmitting(!1),console.log("err",n)}}},function(e){var t=e.handleSubmit,a=e.errors,n=e.isSubmitting,i=e.values,l=e.setFieldValue,c=e.handleChange;return r.a.createElement(u.a,{loading:n||E},r.a.createElement(u.a.Group,{widths:"4"},r.a.createElement(u.a.Field,null,r.a.createElement(I.d,{name:"applicationNo",label:U.applicationId,onChange:c,errors:a.applicationNo,value:i.applicationNo})),r.a.createElement(u.a.Field,null,r.a.createElement(I.k,{name:"nibedakName",label:U.nibedakName,setFieldValue:l,errors:a.nibedakName,value:i.nibedakName})),r.a.createElement(u.a.Field,null,r.a.createElement(h.d,{needsZIndex:!0,name:"constructionType",label:U.constructionType,options:O.t})),r.a.createElement(u.a.Field,null,r.a.createElement(h.d,{needsZIndex:!0,name:"year",label:U.year,options:de}))),r.a.createElement(u.a.Group,{widths:"equal"},r.a.createElement(u.a.Field,null,r.a.createElement(p.a,{className:"primary-btn",icon:"search",content:"Search Application",onClick:t}))))}),r.a.createElement("h4",null,"Search Results"),r.a.createElement(V.a,{data:_,columns:k,datafield:A,buttonProps:{class:"primary-table-single-btn icon",icon:"add user icon",title:"Assign Designer"},handleButtonClick:be,actionWidth:100}),r.a.createElement("br",null),!Object(N.t)(R)&&r.a.createElement("div",null,r.a.createElement(m.a,null),r.a.createElement(b.d,{key:"assign-designer",validationSchema:W,onSubmit:function(e,t){t.setSubmitting(!0);var n=new FormData,i=e.file;i&&i.forEach(function(e){return n.append("file",e)}),n.append("applicationNo",R.applicantNo),n.append("designer",e.designer);try{a("".concat(c.a.completedPermitList),n),t.setSubmitting(!1)}catch(l){t.setSubmitting(!1),console.log("err",l)}}},function(e){var t=e.handleSubmit,a=e.isSubmitting,n=e.errors,i=e.validateForm;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.b,{key:"open-confirmation",open:$,errors:o,isSubmitting:a||E,handleSubmit:fe,handleClose:Ee,title:Y.title,saveText:Y.saveText,cancelText:Y.cancelText},Y.content),r.a.createElement(j.b,{open:ce,errors:o,isSubmitting:a||E,handleSubmit:function(){i().then(function(e){Object(N.t)(e)&&t()})},handleClose:Ee,title:Y.title,saveText:Y.confirmChange,cancelText:Y.cancelText},r.a.createElement(u.a,{loading:a||E},r.a.createElement(u.a.Group,{widths:"equal"},r.a.createElement(u.a.Field,{error:!!n.designer},r.a.createElement("label",null,Y.selectDesigner),r.a.createElement(h.b,{name:"designer",options:C})),r.a.createElement(u.a.Field,{error:!!n.file},r.a.createElement("label",null,Y.selectFile),r.a.createElement(v.a,{name:"file",fileCatId:"assign-designer",hasMultipleFiles:!1}))),r.a.createElement(q.a,{appInfo:R}))))})))}},{menuItem:"\u0924\u0932\u093e \u0925\u092a History",render:function(){return r.a.createElement(s.a.Pane,{className:"simple-tab-pane"},r.a.createElement(G.a,{title:F.storeyHistory}),r.a.createElement(M,{historyList:ne}))}}];return r.a.createElement("div",{className:"setup-main"},o&&r.a.createElement(g.b,{message:o.message}),r.a.createElement(d.a,null,F.title),r.a.createElement(s.a,{menu:{secondary:!0,pointing:!0},panes:he}))},_=function(e){return r.a.createElement(o.a,{api:[{api:c.a.organizationUser,objName:"designers"},{api:c.a.fiscalYear,objName:"fiscalYear"},{api:"".concat(c.a.tallaThapList,"?status="),objName:"historyList"}],updateApi:[{api:"".concat(c.a.tallaThapList,"?status="),objName:"historyList"}],render:function(t){return r.a.createElement(Z,Object.assign({},t,{parentProps:e}))}})}}}]);
//# sourceMappingURL=13.63ee6c6d.chunk.js.map